2021-09-30T13:36:35.2394361+05:30  [INF] User profile is available. Using '"C:\Users\satishsonkar\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2021-09-30T13:36:35.5047998+05:30 80000004-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T13:36:35.5047997+05:30 80000003-0006-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T13:36:35.5047998+05:30 8000000d-0005-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/   (ca22a1cb)
2021-09-30T13:36:35.5047998+05:30 80000010-0002-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T13:36:35.5274119+05:30 80000004-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T13:36:35.5274119+05:30 80000003-0006-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T13:36:35.5274446+05:30 80000010-0002-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T13:36:35.5773105+05:30 80000002-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T13:36:35.5802159+05:30 80000002-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T13:36:35.5802524+05:30 80000004-0006-fa00-b63f-84710c7967bb [INF] Request finished in 68.3283ms 204  (791a596a)
2021-09-30T13:36:35.5802489+05:30 80000003-0006-fb00-b63f-84710c7967bb [INF] Request finished in 68.2809ms 204  (791a596a)
2021-09-30T13:36:35.5803557+05:30 80000010-0002-fa00-b63f-84710c7967bb [INF] Request finished in 68.4177ms 204  (791a596a)
2021-09-30T13:36:35.5816049+05:30 80000002-0005-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T13:36:35.5816050+05:30 80000002-0005-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T13:36:35.5817301+05:30 80000002-0005-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T13:36:35.5822991+05:30 80000002-0005-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T13:36:35.6365164+05:30 80000002-0005-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T13:36:35.6365869+05:30 80000002-0005-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T13:36:35.6367283+05:30 80000002-0005-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T13:36:35.6397596+05:30 8000000d-0005-fe00-b63f-84710c7967bb [INF] Request finished in 147.6827ms 404  (791a596a)
2021-09-30T13:36:35.7816914+05:30 80000002-0005-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T13:36:35.7816790+05:30 80000002-0005-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T13:36:35.7816790+05:30 80000002-0005-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T13:36:36.4089157+05:30 80000002-0005-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T13:36:36.4513375+05:30 80000002-0005-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 657.2476ms (afa2e885)
2021-09-30T13:36:36.4514702+05:30 80000002-0005-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T13:36:36.4612878+05:30 80000002-0005-fd00-b63f-84710c7967bb [INF] Request finished in 888.5662ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T13:36:37.1814132+05:30 80000002-0005-fc00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.9" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2021-09-30T13:36:37.1814132+05:30 80000002-0005-fb00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.9" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2021-09-30T13:36:37.6817988+05:30 80000002-0005-fc00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T13:36:37.6825324+05:30 80000002-0005-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T13:36:37.6860078+05:30 80000002-0005-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1902.5153ms (afa2e885)
2021-09-30T13:36:37.6861295+05:30 80000002-0005-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T13:36:37.6946810+05:30 80000002-0005-fc00-b63f-84710c7967bb [INF] Request finished in 2118.559ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T13:36:37.7048362+05:30 80000002-0005-fc00-b63f-84710c7967bb [ERR] An error occurred using the connection to database '"IoT-AppDatabase"' on server '"."'. (5fc3407c)
2021-09-30T13:36:37.8078959+05:30 80000002-0005-fc00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T13:36:38.1322318+05:30 80000002-0005-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("72"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T13:36:38.2338598+05:30 80000002-0005-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T13:36:38.2393532+05:30 80000002-0005-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 2455.9196ms (afa2e885)
2021-09-30T13:36:38.2399586+05:30 80000002-0005-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T13:36:38.2405879+05:30 80000002-0005-fb00-b63f-84710c7967bb [INF] Request finished in 2664.6465ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T13:36:49.3053943+05:30 80000002-0000-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getAllDevice   (ca22a1cb)
2021-09-30T13:36:49.3066715+05:30 80000002-0000-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T13:36:49.3093205+05:30 80000002-0000-fb00-b63f-84710c7967bb [INF] Request finished in 4.5159ms 204  (791a596a)
2021-09-30T13:36:49.3174514+05:30 80000004-0000-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getAllDevice   (ca22a1cb)
2021-09-30T13:36:49.3182409+05:30 80000004-0000-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T13:36:49.3219341+05:30 80000004-0000-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetAllDevice (IoT.WebAPI)"' (500cc934)
2021-09-30T13:36:49.3246451+05:30 80000004-0000-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllDevice\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllDevice(System.String, System.String)" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T13:36:49.3826099+05:30 80000004-0000-fb00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.9" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2021-09-30T13:36:49.4662273+05:30 80000004-0000-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("12"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[ConnectionCount], [d].[DeviceDesc], [d].[DeviceName], [d].[DeviceKey], [d].[DeviceId], [d0].[DeviceTypeId], [d].[LastConnected], [d].[FriendlyName], [d].[ManufacturerName], [r].[RoomName], [d0].[DeviceTypeName], [d].[RoomId], [r].[RoomKey]
FROM [Devices] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
INNER JOIN [Rooms] AS [r] ON [d].[RoomId] = [r].[RoomId]
WHERE [d].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T13:36:49.4715563+05:30 80000004-0000-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Linq.OrderedEnumerable`2[[IoT.DataLayer.Models.DeviceExt, IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2021-09-30T13:36:49.4855009+05:30 80000004-0000-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetAllDevice (IoT.WebAPI)" in 160.6702ms (afa2e885)
2021-09-30T13:36:49.4856423+05:30 80000004-0000-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetAllDevice (IoT.WebAPI)"' (99874f2b)
2021-09-30T13:36:49.4882946+05:30 80000004-0000-fb00-b63f-84710c7967bb [INF] Request finished in 171.155ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T13:36:49.5170911+05:30 80000004-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getAllDevice   (ca22a1cb)
2021-09-30T13:36:49.5173051+05:30 80000004-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T13:36:49.5212946+05:30 80000004-0004-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetAllDevice (IoT.WebAPI)"' (500cc934)
2021-09-30T13:36:49.5223247+05:30 80000004-0004-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllDevice\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllDevice(System.String, System.String)" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T13:36:49.5302708+05:30 80000004-0004-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[ConnectionCount], [d].[DeviceDesc], [d].[DeviceName], [d].[DeviceKey], [d].[DeviceId], [d0].[DeviceTypeId], [d].[LastConnected], [d].[FriendlyName], [d].[ManufacturerName], [r].[RoomName], [d0].[DeviceTypeName], [d].[RoomId], [r].[RoomKey]
FROM [Devices] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
INNER JOIN [Rooms] AS [r] ON [d].[RoomId] = [r].[RoomId]
WHERE [d].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T13:36:49.5310903+05:30 80000004-0004-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Linq.OrderedEnumerable`2[[IoT.DataLayer.Models.DeviceExt, IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2021-09-30T13:36:49.5322057+05:30 80000004-0004-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetAllDevice (IoT.WebAPI)" in 9.7025ms (afa2e885)
2021-09-30T13:36:49.5323644+05:30 80000004-0004-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetAllDevice (IoT.WebAPI)"' (99874f2b)
2021-09-30T13:36:49.5325428+05:30 80000004-0004-fe00-b63f-84710c7967bb [INF] Request finished in 15.6038ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T13:38:55.8872468+05:30 80000004-0005-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T13:38:55.8900847+05:30 80000004-0005-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T13:38:55.8905054+05:30 80000004-0005-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T13:38:55.8905055+05:30 80000004-0005-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T13:38:55.8911302+05:30 80000004-0005-fd00-b63f-84710c7967bb [INF] Request finished in 3.7931ms 204  (791a596a)
2021-09-30T13:38:55.8911302+05:30 80000004-0005-fc00-b63f-84710c7967bb [INF] Request finished in 11.7781ms 204  (791a596a)
2021-09-30T13:38:55.8946060+05:30 8000000e-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T13:38:55.8946880+05:30 8000000e-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T13:38:55.8947112+05:30 80000029-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T13:38:55.8947560+05:30 80000029-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T13:38:55.8969739+05:30 8000000e-0007-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T13:38:55.8969631+05:30 80000029-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T13:38:55.8975744+05:30 80000029-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T13:38:55.9004247+05:30 8000000e-0007-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T13:38:55.9018211+05:30 8000000e-0007-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T13:38:55.9063736+05:30 8000000e-0007-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 5.782ms (afa2e885)
2021-09-30T13:38:55.9064641+05:30 8000000e-0007-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T13:38:55.9066656+05:30 8000000e-0007-ff00-b63f-84710c7967bb [INF] Request finished in 12.2085ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T13:38:55.9117802+05:30 80000029-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T13:38:55.9156373+05:30 80000029-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T13:38:55.9160000+05:30 80000029-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 18.3162ms (afa2e885)
2021-09-30T13:38:55.9160769+05:30 80000029-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T13:38:55.9162364+05:30 80000029-0006-fd00-b63f-84710c7967bb [INF] Request finished in 21.5239ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T13:38:56.4287250+05:30 80000006-0000-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T13:38:56.4292183+05:30 80000006-0000-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T13:38:56.4299283+05:30 80000006-0000-fb00-b63f-84710c7967bb [INF] Request finished in 1.4561ms 204  (791a596a)
2021-09-30T13:38:56.4377931+05:30 80000006-0005-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T13:38:56.4379209+05:30 80000006-0005-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T13:38:56.4392788+05:30 80000006-0005-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T13:38:56.4419453+05:30 80000006-0005-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T13:38:56.4453811+05:30 80000006-0005-fc00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T13:38:56.4455737+05:30 80000006-0005-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T13:38:56.4461152+05:30 80000006-0005-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 4.0218ms (afa2e885)
2021-09-30T13:38:56.4461773+05:30 80000006-0005-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T13:38:56.4527378+05:30 80000006-0005-fc00-b63f-84710c7967bb [INF] Request finished in 15.0055ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T13:38:56.4620241+05:30 80000006-0005-fc00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("17"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T13:38:56.4692095+05:30 80000006-0005-fc00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T14:45:49.8484995+05:30 8000003c-0002-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T14:45:49.8484989+05:30 80000002-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T14:45:49.8528947+05:30 8000003c-0002-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T14:45:49.8528949+05:30 80000002-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T14:45:49.8536069+05:30 80000002-0002-f900-b63f-84710c7967bb [INF] Request finished in 5.7392ms 204  (791a596a)
2021-09-30T14:45:49.8536069+05:30 8000003c-0002-fb00-b63f-84710c7967bb [INF] Request finished in 5.7528ms 204  (791a596a)
2021-09-30T14:45:49.8577726+05:30 80000004-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T14:45:49.8577726+05:30 80000008-0000-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T14:45:49.8578430+05:30 80000008-0000-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T14:45:49.8578429+05:30 80000004-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T14:45:49.8581728+05:30 80000004-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T14:45:49.8581731+05:30 80000008-0000-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T14:45:49.8585683+05:30 80000008-0000-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T14:45:49.8585681+05:30 80000004-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T14:45:49.8603235+05:30 80000004-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T14:45:49.8650237+05:30 80000004-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 4.1178ms (afa2e885)
2021-09-30T14:45:49.8651015+05:30 80000004-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T14:45:49.8652813+05:30 80000004-0002-f900-b63f-84710c7967bb [INF] Request finished in 7.6015ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T14:45:49.8810758+05:30 80000008-0000-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T14:45:49.8819135+05:30 80000008-0000-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T14:45:49.8822709+05:30 80000008-0000-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 23.6176ms (afa2e885)
2021-09-30T14:45:49.8823475+05:30 80000008-0000-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T14:45:49.8825076+05:30 80000008-0000-fb00-b63f-84710c7967bb [INF] Request finished in 24.8286ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T14:45:51.0408449+05:30 80000006-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T14:45:51.0412853+05:30 80000006-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T14:45:51.0421722+05:30 80000006-0002-f900-b63f-84710c7967bb [INF] Request finished in 1.3744ms 204  (791a596a)
2021-09-30T14:45:51.0453419+05:30 80000006-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T14:45:51.0456324+05:30 80000006-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T14:45:51.0461538+05:30 80000006-0004-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T14:45:51.0466902+05:30 80000006-0004-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T14:45:51.0530170+05:30 80000006-0004-fe00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T14:45:51.0535194+05:30 80000006-0004-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T14:45:51.0545764+05:30 80000006-0004-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 7.6286ms (afa2e885)
2021-09-30T14:45:51.0546994+05:30 80000006-0004-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T14:45:51.0565328+05:30 80000006-0004-fe00-b63f-84710c7967bb [INF] Request finished in 11.0974ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T14:45:51.0684414+05:30 80000006-0004-fe00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("16"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T14:45:51.0798853+05:30 80000006-0004-fe00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T14:48:04.0158074+05:30 8000002b-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T14:48:04.0186350+05:30 80000006-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T14:48:04.0227602+05:30 8000002b-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T14:48:04.0227610+05:30 80000006-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T14:48:04.0238016+05:30 8000002b-0006-fd00-b63f-84710c7967bb [INF] Request finished in 8.8709ms 204  (791a596a)
2021-09-30T14:48:04.0238016+05:30 80000006-0006-fa00-b63f-84710c7967bb [INF] Request finished in 8.8709ms 204  (791a596a)
2021-09-30T14:48:04.0287474+05:30 80000008-0003-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T14:48:04.0289834+05:30 80000008-0003-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T14:48:04.0290761+05:30 8000002d-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T14:48:04.0292870+05:30 8000002d-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T14:48:04.0296678+05:30 80000008-0003-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T14:48:04.0297386+05:30 8000002d-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T14:48:04.0302166+05:30 80000008-0003-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T14:48:04.0302108+05:30 8000002d-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T14:48:04.0324870+05:30 80000008-0003-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T14:48:04.0339565+05:30 80000008-0003-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 3.5622ms (afa2e885)
2021-09-30T14:48:04.0341153+05:30 80000008-0003-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T14:48:04.0345774+05:30 80000008-0003-fd00-b63f-84710c7967bb [INF] Request finished in 5.7517ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T14:48:04.0517335+05:30 8000002d-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T14:48:04.0532402+05:30 8000002d-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T14:48:04.0540777+05:30 8000002d-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 23.6563ms (afa2e885)
2021-09-30T14:48:04.0542136+05:30 8000002d-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T14:48:04.0546230+05:30 8000002d-0006-fd00-b63f-84710c7967bb [INF] Request finished in 25.6029ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T14:48:04.5236086+05:30 8000000a-0000-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T14:48:04.5242730+05:30 8000000a-0000-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T14:48:04.5260929+05:30 8000000a-0000-fb00-b63f-84710c7967bb [INF] Request finished in 2.508ms 204  (791a596a)
2021-09-30T14:48:04.5365543+05:30 8000002f-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T14:48:04.5367281+05:30 8000002f-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T14:48:04.5374451+05:30 8000002f-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T14:48:04.5387194+05:30 8000002f-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T14:48:04.5524806+05:30 8000002f-0006-fd00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T14:48:04.5530384+05:30 8000002f-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T14:48:04.5542133+05:30 8000002f-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 15.2258ms (afa2e885)
2021-09-30T14:48:04.5543134+05:30 8000002f-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T14:48:04.5568348+05:30 8000002f-0006-fd00-b63f-84710c7967bb [INF] Request finished in 20.4007ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T14:48:04.5625902+05:30 8000002f-0006-fd00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("13"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T14:48:04.5653663+05:30 8000002f-0006-fd00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T14:48:55.7551101+05:30 80000007-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T14:48:55.7555003+05:30 80000007-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T14:48:55.7556852+05:30 8000000a-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T14:48:55.7557982+05:30 8000000a-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T14:48:55.7560652+05:30 8000000a-0004-fe00-b63f-84710c7967bb [INF] Request finished in 0.3116ms 204  (791a596a)
2021-09-30T14:48:55.7560650+05:30 80000007-0005-fb00-b63f-84710c7967bb [INF] Request finished in 0.9401ms 204  (791a596a)
2021-09-30T14:48:55.7604189+05:30 80000014-0002-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T14:48:55.7604156+05:30 80000031-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T14:48:55.7604706+05:30 80000014-0002-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T14:48:55.7604714+05:30 80000031-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T14:48:55.7615083+05:30 80000031-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T14:48:55.7615079+05:30 80000014-0002-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T14:48:55.7933702+05:30 80000031-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T14:48:55.7933662+05:30 80000014-0002-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T14:48:55.7965877+05:30 80000014-0002-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T14:48:55.7989767+05:30 80000014-0002-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 5.2909ms (afa2e885)
2021-09-30T14:48:55.7991622+05:30 80000014-0002-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T14:48:55.7999482+05:30 80000014-0002-fa00-b63f-84710c7967bb [INF] Request finished in 39.4289ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T14:48:55.8449171+05:30 80000031-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("9"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T14:48:55.8480234+05:30 80000031-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T14:48:55.8495604+05:30 80000031-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 55.7838ms (afa2e885)
2021-09-30T14:48:55.8519292+05:30 80000031-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T14:48:55.8526324+05:30 80000031-0006-fd00-b63f-84710c7967bb [INF] Request finished in 92.1007ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T14:48:56.2937691+05:30 80000016-0002-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T14:48:56.2942128+05:30 80000016-0002-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T14:48:56.2953842+05:30 80000016-0002-fa00-b63f-84710c7967bb [INF] Request finished in 1.3579ms 204  (791a596a)
2021-09-30T14:48:56.3052286+05:30 8000000c-0000-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T14:48:56.3054349+05:30 8000000c-0000-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T14:48:56.3062366+05:30 8000000c-0000-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T14:48:56.3068950+05:30 8000000c-0000-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T14:48:56.3160605+05:30 8000000c-0000-fb00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T14:48:56.3166342+05:30 8000000c-0000-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T14:48:56.3181082+05:30 8000000c-0000-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 10.8027ms (afa2e885)
2021-09-30T14:48:56.3183144+05:30 8000000c-0000-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T14:48:56.3213582+05:30 8000000c-0000-fb00-b63f-84710c7967bb [INF] Request finished in 16.0302ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T14:48:56.3239679+05:30 8000000c-0000-fb00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("10"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T14:48:56.3367275+05:30 8000000c-0000-fb00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T15:19:37.3161451+05:30 80000047-0006-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T15:19:37.3174017+05:30 80000047-0006-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T15:19:37.3232578+05:30 80000047-0006-fc00-b63f-84710c7967bb [INF] Request finished in 7.1069ms 204  (791a596a)
2021-09-30T15:19:37.3236300+05:30 80000002-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T15:19:37.3240178+05:30 80000002-0000-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T15:19:37.3251006+05:30 80000002-0000-f900-b63f-84710c7967bb [INF] Request finished in 1.3806ms 204  (791a596a)
2021-09-30T15:19:37.3298385+05:30 80000049-0006-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T15:19:37.3299475+05:30 80000049-0006-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T15:19:37.3300780+05:30 80000009-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T15:19:37.3302161+05:30 80000049-0006-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T15:19:37.3329229+05:30 80000009-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T15:19:37.3330905+05:30 80000049-0006-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T15:19:37.3334104+05:30 80000009-0005-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T15:19:37.3336882+05:30 80000009-0005-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T15:19:37.3349425+05:30 80000049-0006-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T15:19:37.3359622+05:30 80000049-0006-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 2.7222ms (afa2e885)
2021-09-30T15:19:37.3360945+05:30 80000049-0006-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T15:19:37.3363557+05:30 80000049-0006-fc00-b63f-84710c7967bb [INF] Request finished in 6.528ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T15:19:37.3528732+05:30 80000009-0005-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T15:19:37.3540647+05:30 80000009-0005-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T15:19:37.3559973+05:30 80000009-0005-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 20.9854ms (afa2e885)
2021-09-30T15:19:37.3561168+05:30 80000009-0005-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T15:19:37.3588202+05:30 80000009-0005-fb00-b63f-84710c7967bb [INF] Request finished in 28.7353ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T15:19:38.5197242+05:30 80000012-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T15:19:38.5199194+05:30 80000012-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T15:19:38.5204513+05:30 80000012-0007-ff00-b63f-84710c7967bb [INF] Request finished in 0.7758ms 204  (791a596a)
2021-09-30T15:19:38.5267306+05:30 8000001a-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T15:19:38.5269104+05:30 8000001a-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T15:19:38.5272228+05:30 8000001a-0004-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T15:19:38.5276524+05:30 8000001a-0004-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T15:19:38.5343143+05:30 8000001a-0004-fe00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T15:19:38.5347869+05:30 8000001a-0004-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T15:19:38.5357665+05:30 8000001a-0004-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 7.9456ms (afa2e885)
2021-09-30T15:19:38.5358501+05:30 8000001a-0004-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T15:19:38.5373272+05:30 8000001a-0004-fe00-b63f-84710c7967bb [INF] Request finished in 10.6114ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T15:19:38.5399732+05:30 8000001a-0004-fe00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("7"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T15:19:38.5427610+05:30 8000001a-0004-fe00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T15:19:49.4660864+05:30 80000004-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T15:19:49.4667394+05:30 80000004-0000-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T15:19:49.4676274+05:30 80000004-0000-f900-b63f-84710c7967bb [INF] Request finished in 1.5979ms 204  (791a596a)
2021-09-30T15:19:49.4682279+05:30 8000000a-0001-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T15:19:49.4684912+05:30 8000000a-0001-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T15:19:49.4693239+05:30 8000000a-0001-fc00-b63f-84710c7967bb [INF] Request finished in 0.9894ms 204  (791a596a)
2021-09-30T15:19:49.4750677+05:30 8000000b-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T15:19:49.4753100+05:30 8000000b-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T15:19:49.4756905+05:30 8000000b-0005-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T15:19:49.4761353+05:30 8000000b-0005-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T15:19:49.4775461+05:30 80000008-0005-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T15:19:49.4778682+05:30 80000008-0005-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T15:19:49.4781668+05:30 80000008-0005-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T15:19:49.4785080+05:30 80000008-0005-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T15:19:49.4810856+05:30 80000008-0005-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T15:19:49.4861753+05:30 80000008-0005-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 7.3988ms (afa2e885)
2021-09-30T15:19:49.4863236+05:30 80000008-0005-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T15:19:49.4872103+05:30 80000008-0005-fc00-b63f-84710c7967bb [INF] Request finished in 9.5447ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T15:19:49.4971887+05:30 8000000b-0005-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T15:19:49.5009186+05:30 8000000b-0005-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T15:19:49.5016406+05:30 8000000b-0005-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 25.3236ms (afa2e885)
2021-09-30T15:19:49.5017697+05:30 8000000b-0005-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T15:19:49.5020359+05:30 8000000b-0005-fb00-b63f-84710c7967bb [INF] Request finished in 27.0704ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T15:19:49.9716056+05:30 80000010-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T15:19:49.9716874+05:30 80000010-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T15:19:49.9718812+05:30 80000010-0002-f900-b63f-84710c7967bb [INF] Request finished in 0.2925ms 204  (791a596a)
2021-09-30T15:19:49.9749942+05:30 80000006-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T15:19:49.9750846+05:30 80000006-0000-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T15:19:49.9752383+05:30 80000006-0000-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T15:19:49.9754341+05:30 80000006-0000-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T15:19:49.9785074+05:30 80000006-0000-f900-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T15:19:49.9787000+05:30 80000006-0000-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T15:19:49.9792707+05:30 80000006-0000-f900-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (0723d8ff)
2021-09-30T15:19:49.9792901+05:30 80000006-0000-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 3.7756ms (afa2e885)
2021-09-30T15:19:49.9793234+05:30 80000006-0000-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T15:19:49.9814345+05:30 80000006-0000-f900-b63f-84710c7967bb [INF] Request finished in 6.4494ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T15:19:49.9875221+05:30 80000006-0000-f900-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid attempt to call CheckDataIsReady when reader is closed.
   at Microsoft.Data.SqlClient.SqlDataReader.CheckDataIsReady(Int32 columnIndex, Boolean allowPartiallyReadColumn, Boolean permitAsync, String methodName)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadColumn(Int32 i, Boolean setTimeout, Boolean allowPartiallyReadColumn)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadColumn(Int32 i, Boolean setTimeout, Boolean allowPartiallyReadColumn)
   at Microsoft.Data.SqlClient.SqlDataReader.GetInt32(Int32 i)
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid attempt to call CheckDataIsReady when reader is closed.
   at Microsoft.Data.SqlClient.SqlDataReader.CheckDataIsReady(Int32 columnIndex, Boolean allowPartiallyReadColumn, Boolean permitAsync, String methodName)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadColumn(Int32 i, Boolean setTimeout, Boolean allowPartiallyReadColumn)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadColumn(Int32 i, Boolean setTimeout, Boolean allowPartiallyReadColumn)
   at Microsoft.Data.SqlClient.SqlDataReader.GetInt32(Int32 i)
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T15:19:55.9046124+05:30 8000004b-0006-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T15:19:55.9047030+05:30 8000004b-0006-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T15:19:55.9049728+05:30 8000004b-0006-fc00-b63f-84710c7967bb [INF] Request finished in 0.4336ms 204  (791a596a)
2021-09-30T15:19:55.9058619+05:30 8000000d-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T15:19:55.9059484+05:30 8000000d-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T15:19:55.9063430+05:30 8000000d-0005-fb00-b63f-84710c7967bb [INF] Request finished in 0.5901ms 204  (791a596a)
2021-09-30T15:19:55.9100002+05:30 800000ca-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T15:19:55.9101708+05:30 800000ca-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T15:19:55.9105216+05:30 8000000c-0001-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T15:19:55.9105671+05:30 8000000c-0001-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T15:19:55.9107425+05:30 800000ca-0004-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T15:19:55.9107962+05:30 8000000c-0001-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T15:19:55.9111171+05:30 800000ca-0004-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T15:19:55.9111318+05:30 8000000c-0001-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T15:19:55.9127956+05:30 8000000c-0001-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T15:19:55.9151018+05:30 8000000c-0001-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 3.7882ms (afa2e885)
2021-09-30T15:19:55.9151817+05:30 8000000c-0001-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T15:19:55.9227565+05:30 8000000c-0001-fc00-b63f-84710c7967bb [INF] Request finished in 12.1469ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T15:19:55.9261626+05:30 800000ca-0004-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("9"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T15:19:55.9289511+05:30 800000ca-0004-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T15:19:55.9354265+05:30 800000ca-0004-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 24.0845ms (afa2e885)
2021-09-30T15:19:55.9471875+05:30 800000ca-0004-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T15:19:55.9475319+05:30 800000ca-0004-ff00-b63f-84710c7967bb [INF] Request finished in 37.5306ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T15:19:56.8116835+05:30 800000cc-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T15:19:56.8118006+05:30 800000cc-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T15:19:56.8120709+05:30 800000cc-0004-ff00-b63f-84710c7967bb [INF] Request finished in 0.4649ms 204  (791a596a)
2021-09-30T15:19:56.8201701+05:30 800000ce-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T15:19:56.8203252+05:30 800000ce-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T15:19:56.8210932+05:30 800000ce-0004-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T15:19:56.8221061+05:30 800000ce-0004-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T15:19:56.8324378+05:30 800000ce-0004-ff00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T15:19:56.8330417+05:30 800000ce-0004-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T15:19:56.8339931+05:30 800000ce-0004-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (0723d8ff)
2021-09-30T15:19:56.8344273+05:30 800000ce-0004-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 12.065ms (afa2e885)
2021-09-30T15:19:56.8345138+05:30 800000ce-0004-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T15:19:56.8377140+05:30 800000ce-0004-ff00-b63f-84710c7967bb [INF] Request finished in 17.6852ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T15:19:56.8607325+05:30 800000ce-0004-ff00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid attempt to call ReadAsync when reader is closed.
   at Microsoft.Data.Common.ADP.ExceptionWithStackTrace(Exception e)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid attempt to call ReadAsync when reader is closed.
   at Microsoft.Data.Common.ADP.ExceptionWithStackTrace(Exception e)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T15:36:42.0705367+05:30 80000010-0003-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T15:36:42.0705367+05:30 8000000f-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T15:36:42.0706288+05:30 80000010-0003-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T15:36:42.0706240+05:30 8000000f-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T15:36:42.0709294+05:30 8000000f-0005-fb00-b63f-84710c7967bb [INF] Request finished in 0.4434ms 204  (791a596a)
2021-09-30T15:36:42.0709293+05:30 80000010-0003-fd00-b63f-84710c7967bb [INF] Request finished in 0.4434ms 204  (791a596a)
2021-09-30T15:36:42.0773530+05:30 800000d4-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T15:36:42.0773594+05:30 80000016-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T15:36:42.0774144+05:30 80000016-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T15:36:42.0774145+05:30 800000d4-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T15:36:42.0805208+05:30 80000016-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T15:36:42.0805493+05:30 800000d4-0004-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T15:36:42.0809698+05:30 800000d4-0004-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T15:36:42.0809698+05:30 80000016-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T15:36:42.0831471+05:30 80000016-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T15:36:42.0838756+05:30 80000016-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 2.7698ms (afa2e885)
2021-09-30T15:36:42.0839425+05:30 80000016-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T15:36:42.0842270+05:30 80000016-0002-f900-b63f-84710c7967bb [INF] Request finished in 7.6578ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T15:36:42.1165602+05:30 800000d4-0004-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("7"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T15:36:42.1179211+05:30 800000d4-0004-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T15:36:42.1187864+05:30 800000d4-0004-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 37.6694ms (afa2e885)
2021-09-30T15:36:42.1189164+05:30 800000d4-0004-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T15:36:42.1191105+05:30 800000d4-0004-ff00-b63f-84710c7967bb [INF] Request finished in 42.6181ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T15:36:43.2747795+05:30 80000051-0006-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T15:36:43.2749203+05:30 80000051-0006-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T15:36:43.2753288+05:30 80000051-0006-fc00-b63f-84710c7967bb [INF] Request finished in 0.619ms 204  (791a596a)
2021-09-30T15:36:43.2848928+05:30 80000018-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T15:36:43.2850072+05:30 80000018-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T15:36:43.2853610+05:30 80000018-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T15:36:43.2859538+05:30 80000018-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T15:36:43.2958549+05:30 80000018-0002-f900-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T15:36:43.2963729+05:30 80000018-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T15:36:43.2985686+05:30 80000018-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 10.3483ms (afa2e885)
2021-09-30T15:36:43.2989859+05:30 80000018-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T15:36:43.3008723+05:30 80000018-0002-f900-b63f-84710c7967bb [INF] Request finished in 16.0585ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T15:36:43.3030821+05:30 80000018-0002-f900-b63f-84710c7967bb [ERR] Failed executing DbCommand ("10"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T15:36:43.3064388+05:30 80000018-0002-f900-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T16:10:21.3386945+05:30 80000057-0006-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T16:10:21.3386945+05:30 80000033-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T16:10:21.3388923+05:30 80000033-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:10:21.3389000+05:30 80000057-0006-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:10:21.3399846+05:30 80000033-0006-fd00-b63f-84710c7967bb [INF] Request finished in 1.3297ms 204  (791a596a)
2021-09-30T16:10:21.3400900+05:30 80000057-0006-fc00-b63f-84710c7967bb [INF] Request finished in 1.3298ms 204  (791a596a)
2021-09-30T16:10:21.3481101+05:30 80000004-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T16:10:21.3486925+05:30 80000002-0003-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T16:10:21.3487373+05:30 80000002-0003-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:10:21.3488529+05:30 80000004-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:10:21.3490807+05:30 80000004-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T16:10:21.3490902+05:30 80000002-0003-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T16:10:21.3494589+05:30 80000002-0003-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T16:10:21.3494653+05:30 80000004-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T16:10:21.3509382+05:30 80000004-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T16:10:21.3517014+05:30 80000004-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 2.1185ms (afa2e885)
2021-09-30T16:10:21.3517788+05:30 80000004-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T16:10:21.3519318+05:30 80000004-0000-fa00-b63f-84710c7967bb [INF] Request finished in 4.2121ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T16:10:21.3801576+05:30 80000002-0003-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("6"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T16:10:21.3811738+05:30 80000002-0003-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T16:10:21.3817969+05:30 80000002-0003-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 32.1653ms (afa2e885)
2021-09-30T16:10:21.3827436+05:30 80000002-0003-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T16:10:21.3857452+05:30 80000002-0003-fc00-b63f-84710c7967bb [INF] Request finished in 34.2536ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T16:10:22.5564871+05:30 80000006-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T16:10:22.5565319+05:30 80000006-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:10:22.5566479+05:30 80000006-0000-fa00-b63f-84710c7967bb [INF] Request finished in 0.2087ms 204  (791a596a)
2021-09-30T16:10:22.5596348+05:30 80000020-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T16:10:22.5596852+05:30 80000020-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:10:22.5597977+05:30 80000020-0004-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T16:10:22.5600667+05:30 80000020-0004-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T16:10:22.5628976+05:30 80000020-0004-fe00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T16:10:22.5633745+05:30 80000020-0004-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T16:10:22.5641518+05:30 80000020-0004-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 3.9091ms (afa2e885)
2021-09-30T16:10:22.5642126+05:30 80000020-0004-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T16:10:22.5653335+05:30 80000020-0004-fe00-b63f-84710c7967bb [INF] Request finished in 5.6921ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T16:10:22.5672884+05:30 80000020-0004-fe00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("5"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T16:10:22.5705453+05:30 80000020-0004-fe00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T16:10:32.9587637+05:30 80000011-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T16:10:32.9588253+05:30 80000011-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:10:32.9590251+05:30 80000011-0005-fb00-b63f-84710c7967bb [INF] Request finished in 0.2912ms 204  (791a596a)
2021-09-30T16:10:32.9593113+05:30 80000004-0003-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T16:10:32.9593697+05:30 80000004-0003-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:10:32.9595357+05:30 80000004-0003-fc00-b63f-84710c7967bb [INF] Request finished in 0.2325ms 204  (791a596a)
2021-09-30T16:10:32.9644993+05:30 80000014-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T16:10:32.9645714+05:30 80000014-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:10:32.9646986+05:30 8000001a-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T16:10:32.9647533+05:30 8000001a-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:10:32.9649817+05:30 80000014-0007-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T16:10:32.9653624+05:30 8000001a-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T16:10:32.9655635+05:30 8000001a-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T16:10:32.9655755+05:30 80000014-0007-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T16:10:32.9665202+05:30 80000014-0007-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T16:10:32.9670296+05:30 80000014-0007-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 1.35ms (afa2e885)
2021-09-30T16:10:32.9670794+05:30 80000014-0007-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T16:10:32.9672073+05:30 80000014-0007-ff00-b63f-84710c7967bb [INF] Request finished in 2.7757ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T16:10:32.9806708+05:30 8000001a-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T16:10:32.9813853+05:30 8000001a-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T16:10:32.9819088+05:30 8000001a-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 16.2296ms (afa2e885)
2021-09-30T16:10:32.9819737+05:30 8000001a-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T16:10:32.9821624+05:30 8000001a-0002-f900-b63f-84710c7967bb [INF] Request finished in 17.4619ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T16:10:33.4584468+05:30 80000022-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T16:10:33.4586059+05:30 80000022-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:10:33.4590812+05:30 80000022-0004-fe00-b63f-84710c7967bb [INF] Request finished in 0.6759ms 204  (791a596a)
2021-09-30T16:10:33.4690841+05:30 80000013-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T16:10:33.4692589+05:30 80000013-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:10:33.4698119+05:30 80000013-0005-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T16:10:33.4702467+05:30 80000013-0005-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T16:10:33.4786762+05:30 80000013-0005-fb00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T16:10:33.4790444+05:30 80000013-0005-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T16:10:33.4801580+05:30 80000013-0005-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 9.6713ms (afa2e885)
2021-09-30T16:10:33.4802740+05:30 80000013-0005-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T16:10:33.4823557+05:30 80000013-0005-fb00-b63f-84710c7967bb [INF] Request finished in 13.4447ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T16:10:33.4841235+05:30 80000013-0005-fb00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("9"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T16:10:33.4874147+05:30 80000013-0005-fb00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T16:12:10.8804698+05:30 8000001c-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T16:12:10.8805618+05:30 8000001c-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:12:10.8808077+05:30 8000001c-0002-f900-b63f-84710c7967bb [INF] Request finished in 0.3585ms 204  (791a596a)
2021-09-30T16:12:10.8831143+05:30 80000059-0006-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T16:12:10.8831921+05:30 80000059-0006-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:12:10.8833405+05:30 80000059-0006-fc00-b63f-84710c7967bb [INF] Request finished in 0.3093ms 204  (791a596a)
2021-09-30T16:12:10.8849013+05:30 8000001e-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T16:12:10.8849630+05:30 8000001e-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:12:10.8852726+05:30 8000001e-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T16:12:10.8853895+05:30 8000001e-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T16:12:10.8886207+05:30 80000010-0001-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T16:12:10.8888050+05:30 80000010-0001-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:12:10.8889103+05:30 80000010-0001-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T16:12:10.8890111+05:30 80000010-0001-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T16:12:10.9006109+05:30 80000010-0001-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T16:12:10.9031201+05:30 80000010-0001-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 13.9072ms (afa2e885)
2021-09-30T16:12:10.9032042+05:30 80000010-0001-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T16:12:10.9083615+05:30 80000010-0001-fc00-b63f-84710c7967bb [INF] Request finished in 21.0843ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T16:12:10.9189322+05:30 8000001e-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T16:12:10.9199057+05:30 8000001e-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T16:12:10.9202344+05:30 8000001e-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 34.7822ms (afa2e885)
2021-09-30T16:12:10.9203031+05:30 8000001e-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T16:12:10.9204321+05:30 8000001e-0002-f900-b63f-84710c7967bb [INF] Request finished in 35.5692ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T16:12:11.3687223+05:30 8000005b-0006-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T16:12:11.3687923+05:30 8000005b-0006-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:12:11.3689933+05:30 8000005b-0006-fc00-b63f-84710c7967bb [INF] Request finished in 0.3216ms 204  (791a596a)
2021-09-30T16:12:11.3720504+05:30 800000da-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T16:12:11.3721006+05:30 800000da-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:12:11.3721834+05:30 800000da-0004-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T16:12:11.3722617+05:30 800000da-0004-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T16:12:11.3744639+05:30 800000da-0004-ff00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T16:12:11.3746544+05:30 800000da-0004-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T16:12:11.3750579+05:30 800000da-0004-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 2.7361ms (afa2e885)
2021-09-30T16:12:11.3750959+05:30 800000da-0004-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T16:12:11.3764204+05:30 800000da-0004-ff00-b63f-84710c7967bb [INF] Request finished in 4.3051ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T16:12:11.3771176+05:30 800000da-0004-ff00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("3"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T16:12:11.3793562+05:30 800000da-0004-ff00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T16:13:09.3349998+05:30 80000037-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T16:13:09.3351060+05:30 80000037-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:13:09.3354567+05:30 80000037-0006-fd00-b63f-84710c7967bb [INF] Request finished in 0.6785ms 204  (791a596a)
2021-09-30T16:13:09.3385707+05:30 80000015-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T16:13:09.3388382+05:30 80000015-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:13:09.3393894+05:30 80000015-0005-fb00-b63f-84710c7967bb [INF] Request finished in 0.9584ms 204  (791a596a)
2021-09-30T16:13:09.3423532+05:30 80000020-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T16:13:09.3424572+05:30 80000020-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:13:09.3427735+05:30 80000039-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T16:13:09.3428417+05:30 80000039-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:13:09.3428442+05:30 80000020-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T16:13:09.3429158+05:30 80000039-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T16:13:09.3430555+05:30 80000039-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T16:13:09.3430421+05:30 80000020-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T16:13:09.3446831+05:30 80000039-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T16:13:09.3457420+05:30 80000039-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 2.5827ms (afa2e885)
2021-09-30T16:13:09.3457945+05:30 80000039-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T16:13:09.3458640+05:30 80000039-0006-fd00-b63f-84710c7967bb [INF] Request finished in 3.13ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T16:13:09.3603770+05:30 80000020-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T16:13:09.3610446+05:30 80000020-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T16:13:09.3612697+05:30 80000020-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 18.1667ms (afa2e885)
2021-09-30T16:13:09.3613150+05:30 80000020-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T16:13:09.3614228+05:30 80000020-0002-f900-b63f-84710c7967bb [INF] Request finished in 19.1158ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T16:13:09.8739423+05:30 80000024-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T16:13:09.8741183+05:30 80000024-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:13:09.8745064+05:30 80000024-0004-fe00-b63f-84710c7967bb [INF] Request finished in 0.6064ms 204  (791a596a)
2021-09-30T16:13:09.8803667+05:30 80000022-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T16:13:09.8804598+05:30 80000022-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:13:09.8805516+05:30 80000022-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T16:13:09.8807488+05:30 80000022-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T16:13:09.8850804+05:30 80000022-0002-f900-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T16:13:09.8852505+05:30 80000022-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T16:13:09.8857756+05:30 80000022-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 4.9458ms (afa2e885)
2021-09-30T16:13:09.8858369+05:30 80000022-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T16:13:09.8878661+05:30 80000022-0002-f900-b63f-84710c7967bb [INF] Request finished in 7.4269ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T16:13:09.8903532+05:30 80000022-0002-f900-b63f-84710c7967bb [ERR] Failed executing DbCommand ("7"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T16:13:09.8959438+05:30 80000022-0002-f900-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T16:45:55.3276243+05:30 80000002-0001-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T16:45:55.3276246+05:30 80000002-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T16:45:55.3277307+05:30 80000002-0001-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:45:55.3277319+05:30 80000002-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:45:55.3279048+05:30 80000002-0001-fb00-b63f-84710c7967bb [INF] Request finished in 0.4159ms 204  (791a596a)
2021-09-30T16:45:55.3279145+05:30 80000002-0001-fa00-b63f-84710c7967bb [INF] Request finished in 0.4154ms 204  (791a596a)
2021-09-30T16:45:55.3349542+05:30 80000016-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T16:45:55.3350411+05:30 80000016-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:45:55.3373309+05:30 80000026-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T16:45:55.3373938+05:30 80000026-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:45:55.3374739+05:30 80000026-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T16:45:55.3408480+05:30 80000016-0007-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T16:45:55.3409326+05:30 80000026-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T16:45:55.3409464+05:30 80000016-0007-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T16:45:55.3428375+05:30 80000026-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T16:45:55.3452155+05:30 80000026-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 2.6389ms (afa2e885)
2021-09-30T16:45:55.3453241+05:30 80000026-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T16:45:55.3454454+05:30 80000026-0002-f900-b63f-84710c7967bb [INF] Request finished in 8.2396ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T16:45:55.3754604+05:30 80000016-0007-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T16:45:55.3764364+05:30 80000016-0007-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T16:45:55.3769281+05:30 80000016-0007-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 35.9306ms (afa2e885)
2021-09-30T16:45:55.3769938+05:30 80000016-0007-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T16:45:55.3771416+05:30 80000016-0007-ff00-b63f-84710c7967bb [INF] Request finished in 42.3202ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T16:45:56.5271567+05:30 800000e4-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T16:45:56.5272088+05:30 800000e4-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:45:56.5273163+05:30 800000e4-0004-ff00-b63f-84710c7967bb [INF] Request finished in 0.1873ms 204  (791a596a)
2021-09-30T16:45:56.5302686+05:30 800000e6-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T16:45:56.5303154+05:30 800000e6-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:45:56.5303742+05:30 800000e6-0004-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T16:45:56.5304467+05:30 800000e6-0004-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T16:45:56.5320061+05:30 800000e6-0004-ff00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T16:45:56.5321374+05:30 800000e6-0004-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T16:45:56.5324440+05:30 800000e6-0004-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1.9583ms (afa2e885)
2021-09-30T16:45:56.5324792+05:30 800000e6-0004-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T16:45:56.5337982+05:30 800000e6-0004-ff00-b63f-84710c7967bb [INF] Request finished in 3.452ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T16:45:56.5382562+05:30 800000e6-0004-ff00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("7"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T16:45:56.5408098+05:30 800000e6-0004-ff00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T16:46:15.9920160+05:30 80000028-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T16:46:15.9919964+05:30 8000001c-0002-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T16:46:15.9920867+05:30 80000028-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:46:15.9920873+05:30 8000001c-0002-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:46:15.9922485+05:30 8000001c-0002-fa00-b63f-84710c7967bb [INF] Request finished in 0.2875ms 204  (791a596a)
2021-09-30T16:46:15.9922640+05:30 80000028-0002-f900-b63f-84710c7967bb [INF] Request finished in 0.3072ms 204  (791a596a)
2021-09-30T16:46:15.9956105+05:30 8000002a-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T16:46:15.9956665+05:30 8000002a-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:46:15.9957358+05:30 8000002a-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T16:46:15.9958152+05:30 8000002a-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T16:46:15.9961473+05:30 80000017-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T16:46:15.9962110+05:30 80000017-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:46:15.9963866+05:30 80000017-0005-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T16:46:15.9964328+05:30 8000002a-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T16:46:15.9965328+05:30 80000017-0005-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T16:46:15.9968245+05:30 8000002a-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.9568ms (afa2e885)
2021-09-30T16:46:15.9968796+05:30 8000002a-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T16:46:15.9969542+05:30 8000002a-0002-f900-b63f-84710c7967bb [INF] Request finished in 1.3907ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T16:46:16.0131564+05:30 80000017-0005-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T16:46:16.0141304+05:30 80000017-0005-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T16:46:16.0145330+05:30 80000017-0005-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 17.9347ms (afa2e885)
2021-09-30T16:46:16.0145835+05:30 80000017-0005-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T16:46:16.0147804+05:30 80000017-0005-fb00-b63f-84710c7967bb [INF] Request finished in 18.7049ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T16:46:16.5046314+05:30 80000033-0000-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T16:46:16.5047447+05:30 80000033-0000-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:46:16.5050281+05:30 80000033-0000-fb00-b63f-84710c7967bb [INF] Request finished in 0.4858ms 204  (791a596a)
2021-09-30T16:46:16.5113191+05:30 80000041-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T16:46:16.5113958+05:30 80000041-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:46:16.5114783+05:30 80000041-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T16:46:16.5116395+05:30 80000041-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T16:46:16.5165236+05:30 80000041-0006-fd00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T16:46:16.5166572+05:30 80000041-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T16:46:16.5172153+05:30 80000041-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 5.4803ms (afa2e885)
2021-09-30T16:46:16.5173187+05:30 80000041-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T16:46:16.5194440+05:30 80000041-0006-fd00-b63f-84710c7967bb [INF] Request finished in 8.1226ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T16:46:16.5207369+05:30 80000041-0006-fd00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("6"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T16:46:16.5234269+05:30 80000041-0006-fd00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T16:49:28.1795190+05:30 8000005f-0006-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T16:49:28.1795116+05:30 80000043-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T16:49:28.1795853+05:30 80000043-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:49:28.1795891+05:30 8000005f-0006-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:49:28.1813488+05:30 80000043-0006-fd00-b63f-84710c7967bb [INF] Request finished in 0.3184ms 204  (791a596a)
2021-09-30T16:49:28.1814368+05:30 8000005f-0006-fc00-b63f-84710c7967bb [INF] Request finished in 0.3185ms 204  (791a596a)
2021-09-30T16:49:28.1906053+05:30 80000035-0000-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T16:49:28.1906369+05:30 80000013-0003-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T16:49:28.1906614+05:30 80000035-0000-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:49:28.1906699+05:30 80000013-0003-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:49:28.1907398+05:30 80000035-0000-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T16:49:28.1908312+05:30 80000035-0000-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T16:49:28.1909144+05:30 80000013-0003-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T16:49:28.1909942+05:30 80000013-0003-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T16:49:28.1913418+05:30 80000035-0000-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T16:49:28.1917182+05:30 80000035-0000-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.8379ms (afa2e885)
2021-09-30T16:49:28.1917554+05:30 80000035-0000-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T16:49:28.1918156+05:30 80000035-0000-fb00-b63f-84710c7967bb [INF] Request finished in 1.3087ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T16:49:28.2154385+05:30 80000013-0003-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T16:49:28.2162042+05:30 80000013-0003-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T16:49:28.2166035+05:30 80000013-0003-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 25.5503ms (afa2e885)
2021-09-30T16:49:28.2166614+05:30 80000013-0003-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T16:49:28.2167879+05:30 80000013-0003-fd00-b63f-84710c7967bb [INF] Request finished in 26.2662ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T16:49:29.1305529+05:30 800000e8-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T16:49:29.1310417+05:30 800000e8-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:49:29.1340696+05:30 800000e8-0004-ff00-b63f-84710c7967bb [INF] Request finished in 3.6068ms 204  (791a596a)
2021-09-30T16:49:29.1433497+05:30 8000002c-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T16:49:29.1434676+05:30 8000002c-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:49:29.1435989+05:30 8000002c-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T16:49:29.1437725+05:30 8000002c-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T16:49:29.1486048+05:30 8000002c-0002-f900-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T16:49:29.1489155+05:30 8000002c-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T16:49:29.1502715+05:30 8000002c-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 6.3389ms (afa2e885)
2021-09-30T16:49:29.1504063+05:30 8000002c-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T16:49:29.1534484+05:30 8000002c-0002-f900-b63f-84710c7967bb [INF] Request finished in 10.1065ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T16:49:29.1572880+05:30 8000002c-0002-f900-b63f-84710c7967bb [ERR] Failed executing DbCommand ("11"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T16:49:29.1651601+05:30 8000002c-0002-f900-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T16:50:27.8839042+05:30 8000002e-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T16:50:27.8840005+05:30 8000002e-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:50:27.8842999+05:30 8000002e-0002-f900-b63f-84710c7967bb [INF] Request finished in 0.4278ms 204  (791a596a)
2021-09-30T16:50:27.8859018+05:30 80000061-0006-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T16:50:27.8860010+05:30 80000061-0006-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:50:27.8861205+05:30 80000061-0006-fc00-b63f-84710c7967bb [INF] Request finished in 0.2631ms 204  (791a596a)
2021-09-30T16:50:27.8909842+05:30 80000002-0007-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T16:50:27.8910544+05:30 80000002-0007-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:50:27.8910957+05:30 80000002-0007-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T16:50:27.8911233+05:30 80000002-0007-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:50:27.8912147+05:30 80000002-0007-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T16:50:27.8913169+05:30 80000002-0007-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T16:50:27.8914051+05:30 80000002-0007-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T16:50:27.8914605+05:30 80000002-0007-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T16:50:27.8915705+05:30 80000002-0007-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T16:50:27.8935978+05:30 80000002-0007-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.9366ms (afa2e885)
2021-09-30T16:50:27.8936994+05:30 80000002-0007-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T16:50:27.8937852+05:30 80000002-0007-fd00-b63f-84710c7967bb [INF] Request finished in 2.8248ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T16:50:27.9204429+05:30 80000002-0007-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T16:50:27.9214734+05:30 80000002-0007-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T16:50:27.9219298+05:30 80000002-0007-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 30.4149ms (afa2e885)
2021-09-30T16:50:27.9219922+05:30 80000002-0007-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T16:50:27.9221559+05:30 80000002-0007-fe00-b63f-84710c7967bb [INF] Request finished in 31.0346ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T16:50:28.3819668+05:30 80000063-0006-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T16:50:28.3821913+05:30 80000063-0006-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:50:28.3826487+05:30 80000063-0006-fc00-b63f-84710c7967bb [INF] Request finished in 0.7659ms 204  (791a596a)
2021-09-30T16:50:28.3922689+05:30 80000065-0006-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T16:50:28.3923818+05:30 80000065-0006-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T16:50:28.3925724+05:30 80000065-0006-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T16:50:28.3927884+05:30 80000065-0006-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T16:50:28.3976107+05:30 80000065-0006-fc00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T16:50:28.3979570+05:30 80000065-0006-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T16:50:28.3989837+05:30 80000065-0006-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 5.9737ms (afa2e885)
2021-09-30T16:50:28.3990748+05:30 80000065-0006-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T16:50:28.4009055+05:30 80000065-0006-fc00-b63f-84710c7967bb [INF] Request finished in 8.4225ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T16:50:28.4019767+05:30 80000065-0006-fc00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("7"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T16:50:28.4073317+05:30 80000065-0006-fc00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T17:06:39.6981088+05:30 8000002e-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T17:06:39.6981088+05:30 800000ea-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T17:06:39.6981984+05:30 8000002e-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:06:39.6981916+05:30 800000ea-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:06:39.6983990+05:30 800000ea-0004-ff00-b63f-84710c7967bb [INF] Request finished in 0.391ms 204  (791a596a)
2021-09-30T17:06:39.6983993+05:30 8000002e-0004-fe00-b63f-84710c7967bb [INF] Request finished in 0.3949ms 204  (791a596a)
2021-09-30T17:06:39.7039994+05:30 80000030-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T17:06:39.7040512+05:30 80000030-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:06:39.7042758+05:30 80000019-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T17:06:39.7043088+05:30 80000019-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:06:39.7043635+05:30 80000019-0005-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T17:06:39.7043757+05:30 80000030-0004-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T17:06:39.7045347+05:30 80000030-0004-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:06:39.7045271+05:30 80000019-0005-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:06:39.7049468+05:30 80000019-0005-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T17:06:39.7057543+05:30 80000019-0005-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 1.0913ms (afa2e885)
2021-09-30T17:06:39.7058380+05:30 80000019-0005-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:06:39.7059570+05:30 80000019-0005-fb00-b63f-84710c7967bb [INF] Request finished in 1.8018ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T17:06:39.7226181+05:30 80000030-0004-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T17:06:39.7232764+05:30 80000030-0004-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T17:06:39.7235723+05:30 80000030-0004-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 18.987ms (afa2e885)
2021-09-30T17:06:39.7236362+05:30 80000030-0004-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:06:39.7248975+05:30 80000030-0004-fe00-b63f-84710c7967bb [INF] Request finished in 20.8772ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T17:06:40.9073417+05:30 80000032-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T17:06:40.9075212+05:30 80000032-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:06:40.9080576+05:30 80000032-0004-fe00-b63f-84710c7967bb [INF] Request finished in 1.0656ms 204  (791a596a)
2021-09-30T17:06:40.9161857+05:30 80000034-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T17:06:40.9163020+05:30 80000034-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:06:40.9164330+05:30 80000034-0004-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T17:06:40.9166297+05:30 80000034-0004-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:06:40.9210188+05:30 80000034-0004-fe00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T17:06:40.9212568+05:30 80000034-0004-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T17:06:40.9223756+05:30 80000034-0004-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 5.5432ms (afa2e885)
2021-09-30T17:06:40.9225271+05:30 80000034-0004-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:06:40.9251874+05:30 80000034-0004-fe00-b63f-84710c7967bb [INF] Request finished in 8.9611ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T17:06:40.9390399+05:30 80000034-0004-fe00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("20"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T17:06:40.9461624+05:30 80000034-0004-fe00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T17:07:35.9737876+05:30 80000015-0003-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T17:07:35.9738699+05:30 80000015-0003-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:07:35.9741143+05:30 80000015-0003-fd00-b63f-84710c7967bb [INF] Request finished in 0.3943ms 204  (791a596a)
2021-09-30T17:07:35.9745829+05:30 80000019-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T17:07:35.9746534+05:30 80000019-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:07:35.9749090+05:30 80000019-0007-ff00-b63f-84710c7967bb [INF] Request finished in 0.3101ms 204  (791a596a)
2021-09-30T17:07:35.9791384+05:30 80000036-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T17:07:35.9791704+05:30 80000037-0000-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T17:07:35.9791811+05:30 80000036-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:07:35.9791968+05:30 80000037-0000-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:07:35.9792300+05:30 80000036-0004-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T17:07:35.9792893+05:30 80000037-0000-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T17:07:35.9793338+05:30 80000036-0004-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:07:35.9794327+05:30 80000037-0000-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:07:35.9796291+05:30 80000036-0004-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T17:07:35.9799104+05:30 80000036-0004-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.5222ms (afa2e885)
2021-09-30T17:07:35.9799453+05:30 80000036-0004-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:07:35.9800014+05:30 80000036-0004-fe00-b63f-84710c7967bb [INF] Request finished in 0.8913ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T17:07:35.9945783+05:30 80000037-0000-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T17:07:35.9971885+05:30 80000037-0000-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T17:07:35.9974836+05:30 80000037-0000-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 18.0025ms (afa2e885)
2021-09-30T17:07:35.9975464+05:30 80000037-0000-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:07:35.9976616+05:30 80000037-0000-fb00-b63f-84710c7967bb [INF] Request finished in 18.4953ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T17:07:36.4740262+05:30 80000038-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T17:07:36.4741091+05:30 80000038-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:07:36.4742717+05:30 80000038-0004-fe00-b63f-84710c7967bb [INF] Request finished in 0.2778ms 204  (791a596a)
2021-09-30T17:07:36.4788694+05:30 80000067-0006-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T17:07:36.4789728+05:30 80000067-0006-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:07:36.4791550+05:30 80000067-0006-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T17:07:36.4793162+05:30 80000067-0006-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:07:36.4816164+05:30 80000067-0006-fc00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T17:07:36.4817794+05:30 80000067-0006-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T17:07:36.4824405+05:30 80000067-0006-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 3.0356ms (afa2e885)
2021-09-30T17:07:36.4825133+05:30 80000067-0006-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:07:36.4839804+05:30 80000067-0006-fc00-b63f-84710c7967bb [INF] Request finished in 5.121ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T17:07:36.4854931+05:30 80000067-0006-fc00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("5"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T17:07:36.4891988+05:30 80000067-0006-fc00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T17:08:02.7402920+05:30 8000003a-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T17:08:02.7402920+05:30 8000001b-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T17:08:02.7405043+05:30 8000001b-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:08:02.7405028+05:30 8000003a-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:08:02.7406535+05:30 8000001b-0007-ff00-b63f-84710c7967bb [INF] Request finished in 0.3923ms 204  (791a596a)
2021-09-30T17:08:02.7406547+05:30 8000003a-0004-fe00-b63f-84710c7967bb [INF] Request finished in 0.3931ms 204  (791a596a)
2021-09-30T17:08:02.7444081+05:30 80000069-0006-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T17:08:02.7444520+05:30 80000069-0006-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:08:02.7445141+05:30 80000069-0006-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T17:08:02.7445846+05:30 80000069-0006-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:08:02.7447678+05:30 80000069-0006-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T17:08:02.7448530+05:30 8000001e-0002-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T17:08:02.7449883+05:30 80000069-0006-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.3678ms (afa2e885)
2021-09-30T17:08:02.7449933+05:30 8000001e-0002-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:08:02.7450232+05:30 80000069-0006-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:08:02.7450725+05:30 80000069-0006-fc00-b63f-84710c7967bb [INF] Request finished in 0.7109ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T17:08:02.7451921+05:30 8000001e-0002-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T17:08:02.7453984+05:30 8000001e-0002-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:08:02.7580800+05:30 8000001e-0002-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T17:08:02.7586365+05:30 8000001e-0002-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T17:08:02.7588858+05:30 8000001e-0002-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 13.4146ms (afa2e885)
2021-09-30T17:08:02.7589338+05:30 8000001e-0002-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:08:02.7590390+05:30 8000001e-0002-fa00-b63f-84710c7967bb [INF] Request finished in 14.192ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T17:08:03.2918834+05:30 8000006b-0006-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T17:08:03.2920026+05:30 8000006b-0006-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:08:03.2922964+05:30 8000006b-0006-fc00-b63f-84710c7967bb [INF] Request finished in 0.4624ms 204  (791a596a)
2021-09-30T17:08:03.3000389+05:30 8000006d-0006-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T17:08:03.3001576+05:30 8000006d-0006-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:08:03.3003214+05:30 8000006d-0006-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T17:08:03.3005033+05:30 8000006d-0006-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:08:03.3045410+05:30 8000006d-0006-fc00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T17:08:03.3048095+05:30 8000006d-0006-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T17:08:03.3057392+05:30 8000006d-0006-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 5.0817ms (afa2e885)
2021-09-30T17:08:03.3058672+05:30 8000006d-0006-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:08:03.3081730+05:30 8000006d-0006-fc00-b63f-84710c7967bb [INF] Request finished in 8.1058ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T17:08:03.3157643+05:30 8000006d-0006-fc00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("14"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T17:08:03.3218530+05:30 8000006d-0006-fc00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T17:18:03.3418414+05:30 8000000a-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T17:18:03.3418424+05:30 80000039-0000-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T17:18:03.3419277+05:30 80000039-0000-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:18:03.3419277+05:30 8000000a-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:18:03.3421562+05:30 80000039-0000-fb00-b63f-84710c7967bb [INF] Request finished in 0.3806ms 204  (791a596a)
2021-09-30T17:18:03.3421555+05:30 8000000a-0000-fa00-b63f-84710c7967bb [INF] Request finished in 0.3691ms 204  (791a596a)
2021-09-30T17:18:03.3485052+05:30 80000013-0001-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T17:18:03.3485052+05:30 80000004-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T17:18:03.3485654+05:30 80000004-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:18:03.3485651+05:30 80000013-0001-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:18:03.3486908+05:30 80000013-0001-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T17:18:03.3487253+05:30 80000004-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T17:18:03.3488321+05:30 80000004-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:18:03.3488320+05:30 80000013-0001-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:18:03.3491288+05:30 80000013-0001-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T17:18:03.3493857+05:30 80000013-0001-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.5062ms (afa2e885)
2021-09-30T17:18:03.3494258+05:30 80000013-0001-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:18:03.3496432+05:30 80000013-0001-fc00-b63f-84710c7967bb [INF] Request finished in 1.1546ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T17:18:03.3692960+05:30 80000004-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T17:18:03.3698521+05:30 80000004-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T17:18:03.3701321+05:30 80000004-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 21.259ms (afa2e885)
2021-09-30T17:18:03.3702089+05:30 80000004-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:18:03.3703093+05:30 80000004-0001-fb00-b63f-84710c7967bb [INF] Request finished in 21.8257ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T17:18:03.8615625+05:30 8000001b-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T17:18:03.8616862+05:30 8000001b-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:18:03.8621132+05:30 8000001b-0005-fb00-b63f-84710c7967bb [INF] Request finished in 0.6281ms 204  (791a596a)
2021-09-30T17:18:03.8713801+05:30 8000003b-0000-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T17:18:03.8718075+05:30 8000003b-0000-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:18:03.8719982+05:30 8000003b-0000-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T17:18:03.8722849+05:30 8000003b-0000-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:18:03.8766125+05:30 8000003b-0000-fb00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T17:18:03.8769106+05:30 8000003b-0000-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T17:18:03.8778191+05:30 8000003b-0000-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 5.3915ms (afa2e885)
2021-09-30T17:18:03.8780241+05:30 8000003b-0000-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:18:03.8794922+05:30 8000003b-0000-fb00-b63f-84710c7967bb [INF] Request finished in 8.1871ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T17:18:03.8856075+05:30 8000003b-0000-fb00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("11"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T17:18:03.8879789+05:30 8000003b-0000-fb00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T17:23:44.6432303+05:30 8000000a-0005-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T17:23:44.6432303+05:30 8000001d-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T17:23:44.6433289+05:30 8000000a-0005-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:23:44.6433293+05:30 8000001d-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:23:44.6435379+05:30 8000000a-0005-fc00-b63f-84710c7967bb [INF] Request finished in 0.4195ms 204  (791a596a)
2021-09-30T17:23:44.6435379+05:30 8000001d-0005-fb00-b63f-84710c7967bb [INF] Request finished in 0.5513ms 204  (791a596a)
2021-09-30T17:23:44.6482692+05:30 8000006f-0006-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T17:23:44.6482692+05:30 80000045-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T17:23:44.6483156+05:30 80000045-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:23:44.6483161+05:30 8000006f-0006-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:23:44.6484132+05:30 8000006f-0006-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T17:23:44.6484388+05:30 80000045-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T17:23:44.6485327+05:30 80000045-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:23:44.6513299+05:30 8000006f-0006-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:23:44.6515989+05:30 8000006f-0006-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T17:23:44.6520908+05:30 8000006f-0006-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.678ms (afa2e885)
2021-09-30T17:23:44.6521619+05:30 8000006f-0006-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:23:44.6522321+05:30 8000006f-0006-fc00-b63f-84710c7967bb [INF] Request finished in 3.9868ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T17:23:44.6776659+05:30 80000045-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("8"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T17:23:44.6811187+05:30 80000045-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T17:23:44.6814300+05:30 80000045-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 32.8492ms (afa2e885)
2021-09-30T17:23:44.6815132+05:30 80000045-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:23:44.6816196+05:30 80000045-0006-fd00-b63f-84710c7967bb [INF] Request finished in 33.3683ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T17:23:45.1537254+05:30 8000003c-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T17:23:45.1539177+05:30 8000003c-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:23:45.1541822+05:30 8000003c-0004-fe00-b63f-84710c7967bb [INF] Request finished in 0.503ms 204  (791a596a)
2021-09-30T17:23:45.1626932+05:30 80000017-0003-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T17:23:45.1628148+05:30 80000017-0003-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:23:45.1629961+05:30 80000017-0003-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T17:23:45.1632830+05:30 80000017-0003-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:23:45.1679877+05:30 80000017-0003-fd00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T17:23:45.1684315+05:30 80000017-0003-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T17:23:45.1696333+05:30 80000017-0003-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 6.1701ms (afa2e885)
2021-09-30T17:23:45.1698380+05:30 80000017-0003-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:23:45.1778712+05:30 80000017-0003-fd00-b63f-84710c7967bb [INF] Request finished in 15.0984ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T17:23:45.1796406+05:30 80000017-0003-fd00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("15"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T17:23:45.1827936+05:30 80000017-0003-fd00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T17:25:13.0216959+05:30 8000003e-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T17:25:13.0217707+05:30 8000003e-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:25:13.0218912+05:30 8000003e-0004-fe00-b63f-84710c7967bb [INF] Request finished in 0.3152ms 204  (791a596a)
2021-09-30T17:25:13.0220755+05:30 80000047-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T17:25:13.0221465+05:30 80000047-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:25:13.0222570+05:30 80000047-0006-fd00-b63f-84710c7967bb [INF] Request finished in 0.1643ms 204  (791a596a)
2021-09-30T17:25:13.0250087+05:30 8000000c-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T17:25:13.0251465+05:30 8000000c-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:25:13.0251997+05:30 8000003d-0000-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T17:25:13.0252343+05:30 8000003d-0000-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:25:13.0253004+05:30 8000003d-0000-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T17:25:13.0253057+05:30 8000000c-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T17:25:13.0253934+05:30 8000003d-0000-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:25:13.0254254+05:30 8000000c-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:25:13.0256788+05:30 8000003d-0000-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T17:25:13.0260107+05:30 8000003d-0000-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.5744ms (afa2e885)
2021-09-30T17:25:13.0260895+05:30 8000003d-0000-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:25:13.0275657+05:30 8000003d-0000-fb00-b63f-84710c7967bb [INF] Request finished in 0.9723ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T17:25:13.0482137+05:30 8000000c-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("6"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T17:25:13.0488272+05:30 8000000c-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T17:25:13.0491929+05:30 8000000c-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 23.7182ms (afa2e885)
2021-09-30T17:25:13.0492913+05:30 8000000c-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:25:13.0494045+05:30 8000000c-0000-fa00-b63f-84710c7967bb [INF] Request finished in 24.4459ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T17:25:13.5522721+05:30 80000049-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T17:25:13.5524082+05:30 80000049-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:25:13.5527414+05:30 80000049-0006-fd00-b63f-84710c7967bb [INF] Request finished in 0.5518ms 204  (791a596a)
2021-09-30T17:25:13.5588448+05:30 8000000e-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T17:25:13.5589111+05:30 8000000e-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:25:13.5589829+05:30 8000000e-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T17:25:13.5590796+05:30 8000000e-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:25:13.5610914+05:30 8000000e-0000-fa00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T17:25:13.5612500+05:30 8000000e-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T17:25:13.5617589+05:30 8000000e-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 2.614ms (afa2e885)
2021-09-30T17:25:13.5618425+05:30 8000000e-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:25:13.5671233+05:30 8000000e-0000-fa00-b63f-84710c7967bb [INF] Request finished in 8.2283ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T17:25:13.5679234+05:30 8000000e-0000-fa00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("8"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T17:25:13.5707673+05:30 8000000e-0000-fa00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T17:26:04.8210852+05:30 80000040-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T17:26:04.8212943+05:30 80000040-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:26:04.8214557+05:30 80000040-0004-fe00-b63f-84710c7967bb [INF] Request finished in 1.1422ms 204  (791a596a)
2021-09-30T17:26:04.8215029+05:30 80000020-0002-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T17:26:04.8215458+05:30 80000020-0002-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:26:04.8216443+05:30 80000020-0002-fa00-b63f-84710c7967bb [INF] Request finished in 0.2104ms 204  (791a596a)
2021-09-30T17:26:04.8246457+05:30 80000071-0006-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T17:26:04.8246955+05:30 80000071-0006-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:26:04.8248487+05:30 8000004b-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T17:26:04.8248768+05:30 8000004b-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:26:04.8249050+05:30 80000071-0006-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T17:26:04.8249344+05:30 8000004b-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T17:26:04.8249842+05:30 80000071-0006-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:26:04.8250238+05:30 8000004b-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:26:04.8252733+05:30 8000004b-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T17:26:04.8254940+05:30 8000004b-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.4285ms (afa2e885)
2021-09-30T17:26:04.8255600+05:30 8000004b-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:26:04.8257292+05:30 8000004b-0006-fd00-b63f-84710c7967bb [INF] Request finished in 0.9309ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T17:26:04.8515352+05:30 80000071-0006-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T17:26:04.8522714+05:30 80000071-0006-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T17:26:04.8526232+05:30 80000071-0006-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 27.5625ms (afa2e885)
2021-09-30T17:26:04.8526808+05:30 80000071-0006-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:26:04.8527918+05:30 80000071-0006-fc00-b63f-84710c7967bb [INF] Request finished in 28.1871ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T17:26:05.4461769+05:30 80000022-0002-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T17:26:05.4462401+05:30 80000022-0002-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:26:05.4463573+05:30 80000022-0002-fa00-b63f-84710c7967bb [INF] Request finished in 0.3557ms 204  (791a596a)
2021-09-30T17:26:05.4492622+05:30 80000073-0006-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T17:26:05.4493095+05:30 80000073-0006-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:26:05.4494284+05:30 80000073-0006-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T17:26:05.4495360+05:30 80000073-0006-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:26:05.4512152+05:30 80000073-0006-fc00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T17:26:05.4513289+05:30 80000073-0006-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T17:26:05.4518516+05:30 80000073-0006-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 2.219ms (afa2e885)
2021-09-30T17:26:05.4518981+05:30 80000073-0006-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:26:05.4530100+05:30 80000073-0006-fc00-b63f-84710c7967bb [INF] Request finished in 3.6857ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T17:26:05.4535134+05:30 80000073-0006-fc00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("3"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T17:26:05.4564597+05:30 80000073-0006-fc00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T17:27:04.3614163+05:30 8000001f-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T17:27:04.3615916+05:30 8000001f-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:27:04.3620649+05:30 8000001f-0005-fb00-b63f-84710c7967bb [INF] Request finished in 0.5931ms 204  (791a596a)
2021-09-30T17:27:04.3710563+05:30 80000042-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T17:27:04.3711604+05:30 80000042-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:27:04.3719193+05:30 80000042-0004-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-30T17:27:04.3774740+05:30 80000042-0004-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllDeviceCapability(System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:27:04.4264579+05:30 80000042-0004-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T17:27:04.4623016+05:30 80000042-0004-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
ORDER BY [d].[CapabilityType]" (0723d8ff)
2021-09-30T17:27:04.5189647+05:30 80000042-0004-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[IoT.DataLayer.Models.DeviceCapability, IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-30T17:27:04.5262650+05:30 80000042-0004-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)" in 148.5929ms (afa2e885)
2021-09-30T17:27:04.5263557+05:30 80000042-0004-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:27:04.5264866+05:30 80000042-0004-fe00-b63f-84710c7967bb [INF] Request finished in 155.4466ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T17:28:05.0419107+05:30 80000006-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T17:28:05.0420200+05:30 80000021-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T17:28:05.0420915+05:30 80000021-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:28:05.0420850+05:30 80000006-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:28:05.0424981+05:30 80000006-0001-fb00-b63f-84710c7967bb [INF] Request finished in 1.1412ms 204  (791a596a)
2021-09-30T17:28:05.0425691+05:30 80000021-0005-fb00-b63f-84710c7967bb [INF] Request finished in 0.5335ms 204  (791a596a)
2021-09-30T17:28:05.0429413+05:30 80000010-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T17:28:05.0431989+05:30 80000010-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:28:05.0433324+05:30 80000010-0000-fa00-b63f-84710c7967bb [INF] Request finished in 0.4093ms 204  (791a596a)
2021-09-30T17:28:05.0467796+05:30 80000044-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T17:28:05.0468441+05:30 80000044-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:28:05.0573930+05:30 8000001e-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T17:28:05.0574416+05:30 8000001e-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:28:05.0576289+05:30 80000004-0007-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T17:28:05.0576557+05:30 80000004-0007-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:28:05.0576997+05:30 8000001e-0007-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T17:28:05.0577650+05:30 80000004-0007-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T17:28:05.0578083+05:30 8000001e-0007-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:28:05.0578476+05:30 80000004-0007-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:28:05.0580806+05:30 8000001e-0007-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T17:28:05.0583865+05:30 8000001e-0007-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.5357ms (afa2e885)
2021-09-30T17:28:05.0584279+05:30 8000001e-0007-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:28:05.0584829+05:30 8000001e-0007-ff00-b63f-84710c7967bb [INF] Request finished in 1.1497ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T17:28:05.0622308+05:30 80000004-0007-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T17:28:05.0661148+05:30 80000044-0004-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-30T17:28:05.0662278+05:30 80000044-0004-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllDeviceCapability(System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:28:05.0664779+05:30 80000004-0007-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T17:28:05.0676774+05:30 80000004-0007-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 9.7739ms (afa2e885)
2021-09-30T17:28:05.0677455+05:30 80000004-0007-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:28:05.0678712+05:30 80000004-0007-fe00-b63f-84710c7967bb [INF] Request finished in 10.2453ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T17:28:05.0746463+05:30 80000044-0004-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T17:28:05.0799656+05:30 80000044-0004-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
ORDER BY [d].[CapabilityType]" (0723d8ff)
2021-09-30T17:28:05.0807097+05:30 80000044-0004-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[IoT.DataLayer.Models.DeviceCapability, IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-30T17:28:05.0811343+05:30 80000044-0004-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)" in 14.8508ms (afa2e885)
2021-09-30T17:28:05.0811918+05:30 80000044-0004-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:28:05.0812759+05:30 80000044-0004-fe00-b63f-84710c7967bb [INF] Request finished in 34.6309ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T17:28:05.6069470+05:30 80000046-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T17:28:05.6071309+05:30 80000046-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:28:05.6077887+05:30 80000046-0004-fe00-b63f-84710c7967bb [INF] Request finished in 0.8625ms 204  (791a596a)
2021-09-30T17:28:05.6109795+05:30 80000048-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T17:28:05.6110229+05:30 80000048-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:28:05.6110848+05:30 80000048-0004-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T17:28:05.6111610+05:30 80000048-0004-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:28:05.6124934+05:30 80000048-0004-fe00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T17:28:05.6126016+05:30 80000048-0004-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T17:28:05.6129317+05:30 80000048-0004-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1.6338ms (afa2e885)
2021-09-30T17:28:05.6129757+05:30 80000048-0004-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:28:05.6139086+05:30 80000048-0004-fe00-b63f-84710c7967bb [INF] Request finished in 2.8932ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T17:28:05.6144202+05:30 80000048-0004-fe00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("3"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T17:28:05.6166895+05:30 80000048-0004-fe00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T17:33:12.5959074+05:30 80000004-0001-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T17:33:12.5959074+05:30 80000008-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T17:33:12.5959772+05:30 80000008-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:33:12.5959772+05:30 80000004-0001-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:33:12.5961711+05:30 80000004-0001-fa00-b63f-84710c7967bb [INF] Request finished in 0.2515ms 204  (791a596a)
2021-09-30T17:33:12.5962659+05:30 80000008-0001-fb00-b63f-84710c7967bb [INF] Request finished in 0.31ms 204  (791a596a)
2021-09-30T17:33:12.5967451+05:30 80000015-0001-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T17:33:12.5980543+05:30 80000015-0001-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:33:12.6031727+05:30 80000015-0001-fc00-b63f-84710c7967bb [INF] Request finished in 6.4324ms 204  (791a596a)
2021-09-30T17:33:12.6035837+05:30 80000006-0007-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T17:33:12.6035836+05:30 80000019-0003-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T17:33:12.6036261+05:30 80000006-0007-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:33:12.6037261+05:30 80000019-0003-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:33:12.6052378+05:30 80000006-0007-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T17:33:12.6094251+05:30 80000006-0007-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:33:12.6144768+05:30 8000004d-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T17:33:12.6148991+05:30 8000004d-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:33:12.6149101+05:30 80000019-0003-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (500cc934)
2021-09-30T17:33:12.6149801+05:30 8000004d-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T17:33:12.6200974+05:30 8000004d-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:33:12.6214894+05:30 8000004d-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T17:33:12.6253710+05:30 8000004d-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 4.9676ms (afa2e885)
2021-09-30T17:33:12.6262417+05:30 8000004d-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:33:12.6263225+05:30 8000004d-0006-fd00-b63f-84710c7967bb [INF] Request finished in 12.7605ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T17:33:12.6368261+05:30 80000019-0003-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllCapabilityDropdownData\", controller = \"MasterData\"}". Executing controller action with signature "IoT.DataLayer.Models.AllCapabilityMasterModel GetAllCapabilityDropdownData(System.String)" on controller "IoT.WebAPI.Controllers.MasterDataController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:33:12.6421514+05:30 80000006-0007-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T17:33:12.6426691+05:30 80000006-0007-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T17:33:12.6429450+05:30 80000006-0007-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 32.5967ms (afa2e885)
2021-09-30T17:33:12.6430533+05:30 80000006-0007-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:33:12.6432151+05:30 80000006-0007-fe00-b63f-84710c7967bb [INF] Request finished in 39.7341ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T17:33:12.6464002+05:30 80000019-0003-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T17:33:12.6707542+05:30 80000019-0003-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityInterfaceId]) AS [Key], [c].[CapabilityInterfaceName] AS [Value]
FROM [CapabilityInterface] AS [c]" (0723d8ff)
2021-09-30T17:33:12.6752377+05:30 80000019-0003-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilitySupportedPropertyId]) AS [Key], [c].[CapabilitySupportedPropertyName] AS [Value]
FROM [CapabilitySupportedProperty] AS [c]" (0723d8ff)
2021-09-30T17:33:12.6810644+05:30 80000019-0003-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityTypeId]) AS [Key], [c].[CapabilityTypeName] AS [Value]
FROM [CapabilityTypes] AS [c]" (0723d8ff)
2021-09-30T17:33:12.6868188+05:30 80000019-0003-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityVersionId]) AS [Key], [c].[CapabilityVersionName] AS [Value]
FROM [CapabilityVersion] AS [c]" (0723d8ff)
2021-09-30T17:33:12.6912269+05:30 80000019-0003-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DisplayCategoryValue] AS [Key], [d].[DisplayCategoryLabel] AS [Value]
FROM [DisplayCategory] AS [d]" (0723d8ff)
2021-09-30T17:33:12.6914698+05:30 80000019-0003-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.AllCapabilityMasterModel"'. (8a1b66c8)
2021-09-30T17:33:12.6942295+05:30 80000019-0003-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)" in 57.3389ms (afa2e885)
2021-09-30T17:33:12.6943627+05:30 80000019-0003-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:33:12.6944208+05:30 80000019-0003-fd00-b63f-84710c7967bb [INF] Request finished in 90.8496ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T17:33:13.7644352+05:30 80000012-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T17:33:13.7645673+05:30 80000012-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:33:13.7648974+05:30 80000012-0000-fa00-b63f-84710c7967bb [INF] Request finished in 0.5096ms 204  (791a596a)
2021-09-30T17:33:13.7737967+05:30 8000004a-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T17:33:13.7740062+05:30 8000004a-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:33:13.7741496+05:30 8000004a-0004-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T17:33:13.7744769+05:30 8000004a-0004-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:33:13.7788898+05:30 8000004a-0004-fe00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T17:33:13.7791611+05:30 8000004a-0004-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T17:33:13.7802252+05:30 8000004a-0004-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 5.5584ms (afa2e885)
2021-09-30T17:33:13.7803600+05:30 8000004a-0004-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:33:13.7832991+05:30 8000004a-0004-fe00-b63f-84710c7967bb [INF] Request finished in 9.4905ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T17:33:13.7855977+05:30 8000004a-0004-fe00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("9"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T17:33:13.7922293+05:30 8000004a-0004-fe00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T17:33:14.5541872+05:30 80000017-0001-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T17:33:14.5542616+05:30 80000017-0001-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:33:14.5543950+05:30 80000017-0001-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T17:33:14.5545594+05:30 80000017-0001-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:33:14.5545809+05:30 80000032-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T17:33:14.5545809+05:30 80000024-0002-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T17:33:14.5546250+05:30 80000032-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:33:14.5546250+05:30 80000024-0002-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:33:14.5547168+05:30 80000024-0002-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T17:33:14.5547369+05:30 80000032-0002-f900-b63f-84710c7967bb [INF] Request finished in 0.1654ms 204  (791a596a)
2021-09-30T17:33:14.5549025+05:30 80000024-0002-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:33:14.5553054+05:30 80000024-0002-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T17:33:14.5570206+05:30 80000024-0002-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 1.7579ms (afa2e885)
2021-09-30T17:33:14.5570952+05:30 80000024-0002-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:33:14.5571885+05:30 80000024-0002-fa00-b63f-84710c7967bb [INF] Request finished in 2.6065ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T17:33:14.5635907+05:30 80000008-0007-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T17:33:14.5638097+05:30 80000008-0007-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:33:14.5639863+05:30 80000008-0007-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-30T17:33:14.5641774+05:30 80000008-0007-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllDeviceCapability(System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:33:14.5726904+05:30 80000017-0001-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T17:33:14.5770774+05:30 80000017-0001-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T17:33:14.5774973+05:30 80000017-0001-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 22.8711ms (afa2e885)
2021-09-30T17:33:14.5776193+05:30 80000017-0001-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:33:14.5777726+05:30 80000017-0001-fc00-b63f-84710c7967bb [INF] Request finished in 23.5986ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T17:33:14.5795844+05:30 80000008-0007-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T17:33:14.5857318+05:30 80000008-0007-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
ORDER BY [d].[CapabilityType]" (0723d8ff)
2021-09-30T17:33:14.5866217+05:30 80000008-0007-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[IoT.DataLayer.Models.DeviceCapability, IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-30T17:33:14.5870940+05:30 80000008-0007-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)" in 22.7954ms (afa2e885)
2021-09-30T17:33:14.5871931+05:30 80000008-0007-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:33:14.5873360+05:30 80000008-0007-fe00-b63f-84710c7967bb [INF] Request finished in 23.8539ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T17:33:14.7585664+05:30 8000000a-0007-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T17:33:14.7587510+05:30 8000000a-0007-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:33:14.7589205+05:30 8000000a-0007-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T17:33:14.7592870+05:30 8000000a-0007-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:33:14.7631010+05:30 8000000a-0007-fe00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T17:33:14.7632662+05:30 8000000a-0007-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T17:33:14.7640527+05:30 8000000a-0007-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 4.5566ms (afa2e885)
2021-09-30T17:33:14.7641348+05:30 8000000a-0007-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:33:14.7652600+05:30 8000000a-0007-fe00-b63f-84710c7967bb [INF] Request finished in 6.8076ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T17:33:14.7683307+05:30 8000000a-0007-fe00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("7"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T17:33:14.7713991+05:30 8000000a-0007-fe00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T17:33:30.7818416+05:30 8000000c-0007-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T17:33:30.7818466+05:30 8000004c-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T17:33:30.7819259+05:30 8000000c-0007-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:33:30.7819256+05:30 8000004c-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:33:30.7820807+05:30 8000004c-0004-fe00-b63f-84710c7967bb [INF] Request finished in 0.3305ms 204  (791a596a)
2021-09-30T17:33:30.7877325+05:30 8000000c-0007-fe00-b63f-84710c7967bb [INF] Request finished in 6.0629ms 204  (791a596a)
2021-09-30T17:33:30.7878933+05:30 80000026-0002-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T17:33:30.7879525+05:30 80000026-0002-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:33:30.7880786+05:30 80000026-0002-fa00-b63f-84710c7967bb [INF] Request finished in 0.2079ms 204  (791a596a)
2021-09-30T17:33:30.7880770+05:30 8000004f-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T17:33:30.7882647+05:30 8000004f-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:33:30.7903354+05:30 8000000e-0007-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T17:33:30.7904218+05:30 8000000e-0007-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:33:30.7906241+05:30 8000000e-0007-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T17:33:30.7907910+05:30 8000000e-0007-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:33:30.7967076+05:30 8000004e-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T17:33:30.7987528+05:30 8000004e-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:33:30.7990512+05:30 8000004e-0004-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T17:33:30.7991956+05:30 8000004e-0004-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:33:30.8007407+05:30 8000004e-0004-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T17:33:30.8010253+05:30 8000004e-0004-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 1.7762ms (afa2e885)
2021-09-30T17:33:30.8010693+05:30 8000004e-0004-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:33:30.8011305+05:30 8000004e-0004-fe00-b63f-84710c7967bb [INF] Request finished in 7.0232ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T17:33:30.8015499+05:30 8000000e-0007-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("10"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T17:33:30.8025277+05:30 8000000e-0007-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T17:33:30.8034282+05:30 8000000e-0007-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 12.5571ms (afa2e885)
2021-09-30T17:33:30.8036302+05:30 8000000e-0007-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:33:30.8037952+05:30 8000000e-0007-fe00-b63f-84710c7967bb [INF] Request finished in 13.4602ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T17:33:30.8242273+05:30 8000004f-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (500cc934)
2021-09-30T17:33:30.8244723+05:30 8000004f-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllCapabilityDropdownData\", controller = \"MasterData\"}". Executing controller action with signature "IoT.DataLayer.Models.AllCapabilityMasterModel GetAllCapabilityDropdownData(System.String)" on controller "IoT.WebAPI.Controllers.MasterDataController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:33:30.8257455+05:30 8000004f-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T17:33:30.8267983+05:30 8000004f-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityInterfaceId]) AS [Key], [c].[CapabilityInterfaceName] AS [Value]
FROM [CapabilityInterface] AS [c]" (0723d8ff)
2021-09-30T17:33:30.8278546+05:30 8000004f-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilitySupportedPropertyId]) AS [Key], [c].[CapabilitySupportedPropertyName] AS [Value]
FROM [CapabilitySupportedProperty] AS [c]" (0723d8ff)
2021-09-30T17:33:30.8289186+05:30 8000004f-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityTypeId]) AS [Key], [c].[CapabilityTypeName] AS [Value]
FROM [CapabilityTypes] AS [c]" (0723d8ff)
2021-09-30T17:33:30.8309170+05:30 8000004f-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityVersionId]) AS [Key], [c].[CapabilityVersionName] AS [Value]
FROM [CapabilityVersion] AS [c]" (0723d8ff)
2021-09-30T17:33:30.8318973+05:30 8000004f-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DisplayCategoryValue] AS [Key], [d].[DisplayCategoryLabel] AS [Value]
FROM [DisplayCategory] AS [d]" (0723d8ff)
2021-09-30T17:33:30.8320735+05:30 8000004f-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.AllCapabilityMasterModel"'. (8a1b66c8)
2021-09-30T17:33:30.8324214+05:30 8000004f-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)" in 7.8821ms (afa2e885)
2021-09-30T17:33:30.8325079+05:30 8000004f-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:33:30.8326159+05:30 8000004f-0006-fd00-b63f-84710c7967bb [INF] Request finished in 44.5294ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T17:34:38.7593933+05:30 80000051-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T17:34:38.7594996+05:30 80000051-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:34:38.7597277+05:30 80000051-0006-fd00-b63f-84710c7967bb [INF] Request finished in 0.5437ms 204  (791a596a)
2021-09-30T17:34:38.7694844+05:30 80000053-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T17:34:38.7695608+05:30 80000053-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:34:38.7697389+05:30 80000053-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T17:34:38.7700640+05:30 80000053-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:34:38.7724868+05:30 80000053-0006-fd00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T17:34:38.7727700+05:30 80000053-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T17:34:38.7736066+05:30 80000053-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 3.4066ms (afa2e885)
2021-09-30T17:34:38.7736686+05:30 80000053-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:34:38.7756708+05:30 80000053-0006-fd00-b63f-84710c7967bb [INF] Request finished in 6.043ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T17:34:38.7773640+05:30 80000053-0006-fd00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("6"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T17:34:38.7812890+05:30 80000053-0006-fd00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T17:34:46.2470204+05:30 80000055-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T17:34:46.2470781+05:30 8000001b-0003-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T17:34:46.2471087+05:30 8000001b-0003-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:34:46.2471072+05:30 80000055-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:34:46.2472415+05:30 80000055-0006-fd00-b63f-84710c7967bb [INF] Request finished in 0.4577ms 204  (791a596a)
2021-09-30T17:34:46.2473778+05:30 8000001b-0003-fd00-b63f-84710c7967bb [INF] Request finished in 0.3462ms 204  (791a596a)
2021-09-30T17:34:46.2497073+05:30 80000028-0002-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T17:34:46.2497997+05:30 80000028-0002-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:34:46.2499926+05:30 80000028-0002-fa00-b63f-84710c7967bb [INF] Request finished in 0.3684ms 204  (791a596a)
2021-09-30T17:34:46.2575365+05:30 80000010-0007-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T17:34:46.2575984+05:30 80000010-0007-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:34:46.2576049+05:30 80000020-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T17:34:46.2576378+05:30 80000020-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:34:46.2576972+05:30 80000010-0007-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (500cc934)
2021-09-30T17:34:46.2577045+05:30 80000020-0007-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T17:34:46.2577795+05:30 80000010-0007-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllCapabilityDropdownData\", controller = \"MasterData\"}". Executing controller action with signature "IoT.DataLayer.Models.AllCapabilityMasterModel GetAllCapabilityDropdownData(System.String)" on controller "IoT.WebAPI.Controllers.MasterDataController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:34:46.2577802+05:30 80000020-0007-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:34:46.2591774+05:30 8000002a-0002-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T17:34:46.2594738+05:30 8000002a-0002-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:34:46.2599274+05:30 8000002a-0002-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T17:34:46.2601530+05:30 8000002a-0002-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:34:46.2607656+05:30 8000002a-0002-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T17:34:46.2674581+05:30 8000002a-0002-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 7.0904ms (afa2e885)
2021-09-30T17:34:46.2677074+05:30 8000002a-0002-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:34:46.2679816+05:30 8000002a-0002-fa00-b63f-84710c7967bb [INF] Request finished in 8.7963ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T17:34:46.2792044+05:30 80000010-0007-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T17:34:46.2811106+05:30 80000010-0007-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityInterfaceId]) AS [Key], [c].[CapabilityInterfaceName] AS [Value]
FROM [CapabilityInterface] AS [c]" (0723d8ff)
2021-09-30T17:34:46.2841208+05:30 80000020-0007-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T17:34:46.2845946+05:30 80000020-0007-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T17:34:46.2850142+05:30 80000020-0007-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 27.046ms (afa2e885)
2021-09-30T17:34:46.2851181+05:30 80000020-0007-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:34:46.2851716+05:30 80000010-0007-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilitySupportedPropertyId]) AS [Key], [c].[CapabilitySupportedPropertyName] AS [Value]
FROM [CapabilitySupportedProperty] AS [c]" (0723d8ff)
2021-09-30T17:34:46.2852465+05:30 80000020-0007-ff00-b63f-84710c7967bb [INF] Request finished in 27.7316ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T17:34:46.2868786+05:30 80000010-0007-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityTypeId]) AS [Key], [c].[CapabilityTypeName] AS [Value]
FROM [CapabilityTypes] AS [c]" (0723d8ff)
2021-09-30T17:34:46.2885971+05:30 80000010-0007-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityVersionId]) AS [Key], [c].[CapabilityVersionName] AS [Value]
FROM [CapabilityVersion] AS [c]" (0723d8ff)
2021-09-30T17:34:46.2898070+05:30 80000010-0007-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DisplayCategoryValue] AS [Key], [d].[DisplayCategoryLabel] AS [Value]
FROM [DisplayCategory] AS [d]" (0723d8ff)
2021-09-30T17:34:46.2899347+05:30 80000010-0007-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.AllCapabilityMasterModel"'. (8a1b66c8)
2021-09-30T17:34:46.2902593+05:30 80000010-0007-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)" in 32.4338ms (afa2e885)
2021-09-30T17:34:46.2902961+05:30 80000010-0007-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:34:46.2903620+05:30 80000010-0007-fe00-b63f-84710c7967bb [INF] Request finished in 32.8483ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T17:34:46.6148426+05:30 80000023-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T17:34:46.6148323+05:30 80000057-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T17:34:46.6149272+05:30 80000023-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:34:46.6149385+05:30 80000057-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:34:46.6150937+05:30 80000057-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T17:34:46.6151827+05:30 80000023-0005-fb00-b63f-84710c7967bb [INF] Request finished in 0.3267ms 204  (791a596a)
2021-09-30T17:34:46.6152704+05:30 80000057-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:34:46.6153801+05:30 8000000c-0005-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T17:34:46.6154490+05:30 8000000c-0005-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:34:46.6155732+05:30 8000000c-0005-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T17:34:46.6156927+05:30 8000000c-0005-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:34:46.6156667+05:30 80000057-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T17:34:46.6162312+05:30 80000057-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.8659ms (afa2e885)
2021-09-30T17:34:46.6162867+05:30 80000057-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:34:46.6163672+05:30 80000057-0006-fd00-b63f-84710c7967bb [INF] Request finished in 1.5996ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T17:34:46.6231689+05:30 80000025-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T17:34:46.6233326+05:30 80000025-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:34:46.6235098+05:30 80000025-0005-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-30T17:34:46.6236287+05:30 80000025-0005-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllDeviceCapability(System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:34:46.6244734+05:30 8000000c-0005-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("6"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T17:34:46.6254629+05:30 8000000c-0005-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T17:34:46.6258652+05:30 8000000c-0005-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 10.0947ms (afa2e885)
2021-09-30T17:34:46.6259403+05:30 8000000c-0005-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:34:46.6260829+05:30 8000000c-0005-fc00-b63f-84710c7967bb [INF] Request finished in 10.7271ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T17:34:46.6287771+05:30 80000025-0005-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T17:34:46.6345176+05:30 80000025-0005-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
ORDER BY [d].[CapabilityType]" (0723d8ff)
2021-09-30T17:34:46.6352362+05:30 80000025-0005-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[IoT.DataLayer.Models.DeviceCapability, IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-30T17:34:46.6356127+05:30 80000025-0005-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)" in 11.9233ms (afa2e885)
2021-09-30T17:34:46.6356598+05:30 80000025-0005-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:34:46.6357663+05:30 80000025-0005-fb00-b63f-84710c7967bb [INF] Request finished in 12.7376ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T17:34:46.7831661+05:30 80000050-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T17:34:46.7832380+05:30 80000050-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:34:46.7833960+05:30 80000050-0004-fe00-b63f-84710c7967bb [INF] Request finished in 0.2782ms 204  (791a596a)
2021-09-30T17:34:46.7877246+05:30 80000012-0007-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T17:34:46.7878621+05:30 80000012-0007-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:34:46.7879498+05:30 80000012-0007-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T17:34:46.7880823+05:30 80000012-0007-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:34:46.7908356+05:30 80000012-0007-fe00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T17:34:46.7909989+05:30 80000012-0007-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T17:34:46.7915360+05:30 80000012-0007-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 3.3582ms (afa2e885)
2021-09-30T17:34:46.7916081+05:30 80000012-0007-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:34:46.7932023+05:30 80000012-0007-fe00-b63f-84710c7967bb [INF] Request finished in 5.4729ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T17:34:46.7948224+05:30 80000012-0007-fe00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("6"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T17:34:46.7984858+05:30 80000012-0007-fe00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T17:34:47.0846671+05:30 80000027-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T17:34:47.0847336+05:30 80000027-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T17:34:47.0848073+05:30 80000027-0005-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T17:34:47.0884298+05:30 80000027-0005-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T17:34:47.0902755+05:30 80000027-0005-fb00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T17:34:47.0904023+05:30 80000027-0005-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T17:34:47.0908675+05:30 80000027-0005-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 2.3521ms (afa2e885)
2021-09-30T17:34:47.0909194+05:30 80000027-0005-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T17:34:47.0931008+05:30 80000027-0005-fb00-b63f-84710c7967bb [INF] Request finished in 8.4423ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T17:34:47.0933775+05:30 80000027-0005-fb00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("4"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T17:34:47.0966810+05:30 80000027-0005-fb00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
2021-09-30T18:25:32.5045574+05:30 80000002-0003-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T18:25:32.5046558+05:30 80000002-0003-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:25:32.5049370+05:30 80000002-0003-fb00-b63f-84710c7967bb [INF] Request finished in 0.391ms 204  (791a596a)
2021-09-30T18:25:32.5138388+05:30 80000002-0003-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:25:32.5139415+05:30 80000002-0003-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:25:32.5162838+05:30 80000002-0003-fa00-b63f-84710c7967bb [INF] Request finished in 8.0201ms 204  (791a596a)
2021-09-30T18:25:32.5163048+05:30 80000006-0003-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:25:32.5165946+05:30 8000004e-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T18:25:32.5165958+05:30 80000006-0003-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:25:32.5166719+05:30 8000004e-0000-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:25:32.5171199+05:30 8000004e-0000-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T18:25:32.5171482+05:30 80000006-0003-fc00-b63f-84710c7967bb [INF] Request finished in 2.9211ms 204  (791a596a)
2021-09-30T18:25:32.5202030+05:30 8000004e-0000-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:25:32.5206805+05:30 8000004e-0000-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T18:25:32.5207877+05:30 80000014-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:25:32.5208540+05:30 80000014-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:25:32.5211273+05:30 80000014-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T18:25:32.5221750+05:30 8000004e-0000-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.8848ms (afa2e885)
2021-09-30T18:25:32.5222465+05:30 80000014-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:25:32.5252245+05:30 8000004e-0000-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:25:32.5253300+05:30 8000004e-0000-f900-b63f-84710c7967bb [INF] Request finished in 9.0554ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:25:32.5256900+05:30 80000014-0007-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:25:32.5264651+05:30 80000014-0007-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:25:32.5265927+05:30 80000014-0007-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (500cc934)
2021-09-30T18:25:32.5295190+05:30 80000014-0007-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllCapabilityDropdownData\", controller = \"MasterData\"}". Executing controller action with signature "IoT.DataLayer.Models.AllCapabilityMasterModel GetAllCapabilityDropdownData(System.String)" on controller "IoT.WebAPI.Controllers.MasterDataController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:25:32.5425649+05:30 80000014-0007-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T18:25:32.5442791+05:30 80000014-0007-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityInterfaceId]) AS [Key], [c].[CapabilityInterfaceName] AS [Value]
FROM [CapabilityInterface] AS [c]" (0723d8ff)
2021-09-30T18:25:32.5478238+05:30 80000014-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T18:25:32.5481029+05:30 80000014-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T18:25:32.5484932+05:30 80000014-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 26.1745ms (afa2e885)
2021-09-30T18:25:32.5507078+05:30 80000014-0007-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilitySupportedPropertyId]) AS [Key], [c].[CapabilitySupportedPropertyName] AS [Value]
FROM [CapabilitySupportedProperty] AS [c]" (0723d8ff)
2021-09-30T18:25:32.5507032+05:30 80000014-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:25:32.5509892+05:30 80000014-0000-fa00-b63f-84710c7967bb [INF] Request finished in 30.2183ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:25:32.5551791+05:30 80000014-0007-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityTypeId]) AS [Key], [c].[CapabilityTypeName] AS [Value]
FROM [CapabilityTypes] AS [c]" (0723d8ff)
2021-09-30T18:25:32.5567834+05:30 80000014-0007-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityVersionId]) AS [Key], [c].[CapabilityVersionName] AS [Value]
FROM [CapabilityVersion] AS [c]" (0723d8ff)
2021-09-30T18:25:32.5583034+05:30 80000014-0007-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DisplayCategoryValue] AS [Key], [d].[DisplayCategoryLabel] AS [Value]
FROM [DisplayCategory] AS [d]" (0723d8ff)
2021-09-30T18:25:32.5584863+05:30 80000014-0007-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.AllCapabilityMasterModel"'. (8a1b66c8)
2021-09-30T18:25:32.5589069+05:30 80000014-0007-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)" in 29.2757ms (afa2e885)
2021-09-30T18:25:32.5589645+05:30 80000014-0007-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:25:32.5590509+05:30 80000014-0007-fe00-b63f-84710c7967bb [INF] Request finished in 33.6696ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:25:33.7100943+05:30 80000036-0002-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T18:25:33.7101367+05:30 80000036-0002-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:25:33.7102346+05:30 80000036-0002-fa00-b63f-84710c7967bb [INF] Request finished in 0.2542ms 204  (791a596a)
2021-09-30T18:25:33.7139238+05:30 800000ee-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T18:25:33.7139661+05:30 800000ee-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:25:33.7140181+05:30 800000ee-0004-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T18:25:33.7140770+05:30 800000ee-0004-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:25:33.7151648+05:30 800000ee-0004-ff00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T18:25:33.7153007+05:30 800000ee-0004-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T18:25:33.7157881+05:30 800000ee-0004-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1.6199ms (afa2e885)
2021-09-30T18:25:33.7158723+05:30 800000ee-0004-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:25:33.7167384+05:30 800000ee-0004-ff00-b63f-84710c7967bb [INF] Request finished in 2.7726ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T18:25:33.7176201+05:30 800000ee-0004-ff00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("3"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T18:25:33.7197916+05:30 800000ee-0004-ff00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T18:26:34.6427554+05:30 80000078-0006-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:26:34.6428107+05:30 80000059-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:26:34.6428371+05:30 80000078-0006-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:26:34.6430111+05:30 80000059-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:26:34.6430185+05:30 80000008-0003-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T18:26:34.6430533+05:30 80000078-0006-fc00-b63f-84710c7967bb [INF] Request finished in 0.3796ms 204  (791a596a)
2021-09-30T18:26:34.6430847+05:30 80000008-0003-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:26:34.6431254+05:30 80000059-0006-fd00-b63f-84710c7967bb [INF] Request finished in 0.3288ms 204  (791a596a)
2021-09-30T18:26:34.6431872+05:30 80000008-0003-fc00-b63f-84710c7967bb [INF] Request finished in 0.1756ms 204  (791a596a)
2021-09-30T18:26:34.6477720+05:30 8000005b-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T18:26:34.6490158+05:30 8000005b-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:26:34.6491188+05:30 80000029-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:26:34.6491330+05:30 8000005b-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T18:26:34.6491557+05:30 80000029-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:26:34.6492231+05:30 80000029-0005-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T18:26:34.6539602+05:30 8000005b-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:26:34.6540352+05:30 80000029-0005-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:26:34.6541443+05:30 8000003a-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:26:34.6541834+05:30 8000003a-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:26:34.6542691+05:30 8000003a-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (500cc934)
2021-09-30T18:26:34.6543052+05:30 8000005b-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T18:26:34.6543663+05:30 8000003a-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllCapabilityDropdownData\", controller = \"MasterData\"}". Executing controller action with signature "IoT.DataLayer.Models.AllCapabilityMasterModel GetAllCapabilityDropdownData(System.String)" on controller "IoT.WebAPI.Controllers.MasterDataController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:26:34.6545681+05:30 8000005b-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.5147ms (afa2e885)
2021-09-30T18:26:34.6546124+05:30 8000005b-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:26:34.6549888+05:30 8000005b-0006-fd00-b63f-84710c7967bb [INF] Request finished in 7.3473ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:26:34.6617066+05:30 80000029-0005-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T18:26:34.6684981+05:30 80000029-0005-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T18:26:34.6700719+05:30 80000029-0005-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 15.9478ms (afa2e885)
2021-09-30T18:26:34.6701536+05:30 80000029-0005-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:26:34.6703212+05:30 80000029-0005-fb00-b63f-84710c7967bb [INF] Request finished in 21.1866ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:26:34.6812099+05:30 8000003a-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T18:26:34.6839462+05:30 8000003a-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityInterfaceId]) AS [Key], [c].[CapabilityInterfaceName] AS [Value]
FROM [CapabilityInterface] AS [c]" (0723d8ff)
2021-09-30T18:26:34.6866785+05:30 8000003a-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilitySupportedPropertyId]) AS [Key], [c].[CapabilitySupportedPropertyName] AS [Value]
FROM [CapabilitySupportedProperty] AS [c]" (0723d8ff)
2021-09-30T18:26:34.6899771+05:30 8000003a-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityTypeId]) AS [Key], [c].[CapabilityTypeName] AS [Value]
FROM [CapabilityTypes] AS [c]" (0723d8ff)
2021-09-30T18:26:34.6919431+05:30 8000003a-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityVersionId]) AS [Key], [c].[CapabilityVersionName] AS [Value]
FROM [CapabilityVersion] AS [c]" (0723d8ff)
2021-09-30T18:26:34.6946616+05:30 8000003a-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DisplayCategoryValue] AS [Key], [d].[DisplayCategoryLabel] AS [Value]
FROM [DisplayCategory] AS [d]" (0723d8ff)
2021-09-30T18:26:34.6948673+05:30 8000003a-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.AllCapabilityMasterModel"'. (8a1b66c8)
2021-09-30T18:26:34.6962719+05:30 8000003a-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)" in 41.8236ms (afa2e885)
2021-09-30T18:26:34.6963994+05:30 8000003a-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:26:34.6965696+05:30 8000003a-0002-f900-b63f-84710c7967bb [INF] Request finished in 42.4285ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:26:35.1965815+05:30 800000f0-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T18:26:35.1966818+05:30 800000f0-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:26:35.1967943+05:30 800000f0-0004-ff00-b63f-84710c7967bb [INF] Request finished in 0.2433ms 204  (791a596a)
2021-09-30T18:26:35.1999659+05:30 8000005d-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T18:26:35.2000109+05:30 8000005d-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:26:35.2000689+05:30 8000005d-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T18:26:35.2001381+05:30 8000005d-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:26:35.2013563+05:30 8000005d-0006-fd00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T18:26:35.2014532+05:30 8000005d-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T18:26:35.2016726+05:30 8000005d-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1.4932ms (afa2e885)
2021-09-30T18:26:35.2017942+05:30 8000005d-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:26:35.2033738+05:30 8000005d-0006-fd00-b63f-84710c7967bb [INF] Request finished in 3.4294ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T18:26:35.2051450+05:30 8000005d-0006-fd00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("4"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T18:26:35.2085803+05:30 8000005d-0006-fd00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T18:26:36.2465373+05:30 8000000a-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:26:36.2465913+05:30 8000000a-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:26:36.2466505+05:30 8000001b-0001-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T18:26:36.2466506+05:30 8000003c-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T18:26:36.2466884+05:30 8000000a-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T18:26:36.2467015+05:30 8000001b-0001-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:26:36.2467122+05:30 8000003c-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:26:36.2467571+05:30 8000003c-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T18:26:36.2467823+05:30 8000000a-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:26:36.2468110+05:30 8000001b-0001-fc00-b63f-84710c7967bb [INF] Request finished in 0.1694ms 204  (791a596a)
2021-09-30T18:26:36.2468575+05:30 8000003c-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:26:36.2471045+05:30 8000003c-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T18:26:36.2473940+05:30 8000003c-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.4774ms (afa2e885)
2021-09-30T18:26:36.2474301+05:30 8000003c-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:26:36.2475057+05:30 8000003c-0002-f900-b63f-84710c7967bb [INF] Request finished in 0.8603ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:26:36.2493397+05:30 8000000a-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T18:26:36.2504936+05:30 8000000a-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T18:26:36.2507860+05:30 8000000a-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 3.8946ms (afa2e885)
2021-09-30T18:26:36.2507926+05:30 800000f2-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T18:26:36.2508438+05:30 800000f2-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:26:36.2508451+05:30 8000000a-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:26:36.2509555+05:30 8000000a-0001-fb00-b63f-84710c7967bb [INF] Request finished in 4.5973ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:26:36.2509619+05:30 800000f2-0004-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-30T18:26:36.2510592+05:30 800000f2-0004-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllDeviceCapability(System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:26:36.2518939+05:30 800000f2-0004-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T18:26:36.2581446+05:30 800000f2-0004-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
ORDER BY [d].[CapabilityType]" (0723d8ff)
2021-09-30T18:26:36.2587453+05:30 800000f2-0004-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[IoT.DataLayer.Models.DeviceCapability, IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-30T18:26:36.2590251+05:30 800000f2-0004-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)" in 7.9115ms (afa2e885)
2021-09-30T18:26:36.2590662+05:30 800000f2-0004-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:26:36.2591320+05:30 800000f2-0004-ff00-b63f-84710c7967bb [INF] Request finished in 8.3583ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:26:36.4453419+05:30 8000005f-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T18:26:36.4454015+05:30 8000005f-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:26:36.4454689+05:30 8000005f-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T18:26:36.4455576+05:30 8000005f-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:26:36.4473909+05:30 8000005f-0006-fd00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T18:26:36.4475345+05:30 8000005f-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T18:26:36.4477965+05:30 8000005f-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 2.1634ms (afa2e885)
2021-09-30T18:26:36.4478464+05:30 8000005f-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:26:36.4489707+05:30 8000005f-0006-fd00-b63f-84710c7967bb [INF] Request finished in 3.6084ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T18:26:36.4506765+05:30 8000005f-0006-fd00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("4"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T18:26:36.4551716+05:30 8000005f-0006-fd00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T18:27:14.4713586+05:30 80000061-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:27:14.4714784+05:30 8000002b-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:27:14.4714671+05:30 80000061-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:27:14.4715305+05:30 8000002b-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:27:14.4716763+05:30 80000061-0006-fd00-b63f-84710c7967bb [INF] Request finished in 0.6789ms 204  (791a596a)
2021-09-30T18:27:14.4716763+05:30 8000002b-0005-fb00-b63f-84710c7967bb [INF] Request finished in 0.7755ms 204  (791a596a)
2021-09-30T18:27:14.4740795+05:30 8000002d-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T18:27:14.4743201+05:30 8000002d-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:27:14.4744638+05:30 8000002d-0005-fb00-b63f-84710c7967bb [INF] Request finished in 0.4462ms 204  (791a596a)
2021-09-30T18:27:14.4772709+05:30 8000003e-0002-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:27:14.4772705+05:30 8000000c-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:27:14.4773320+05:30 8000003e-0002-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:27:14.4773326+05:30 8000000c-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:27:14.4774203+05:30 8000003e-0002-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T18:27:14.4774517+05:30 8000000c-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (500cc934)
2021-09-30T18:27:14.4774624+05:30 80000016-0007-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T18:27:14.4774938+05:30 80000016-0007-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:27:14.4775286+05:30 8000003e-0002-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:27:14.4775579+05:30 80000016-0007-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T18:27:14.4775803+05:30 8000000c-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllCapabilityDropdownData\", controller = \"MasterData\"}". Executing controller action with signature "IoT.DataLayer.Models.AllCapabilityMasterModel GetAllCapabilityDropdownData(System.String)" on controller "IoT.WebAPI.Controllers.MasterDataController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:27:14.4776142+05:30 80000016-0007-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:27:14.4777682+05:30 80000016-0007-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T18:27:14.4780946+05:30 80000016-0007-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.4265ms (afa2e885)
2021-09-30T18:27:14.4781263+05:30 80000016-0007-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:27:14.4781878+05:30 80000016-0007-fe00-b63f-84710c7967bb [INF] Request finished in 0.7343ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:27:14.4900647+05:30 8000000c-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T18:27:14.4923117+05:30 8000000c-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityInterfaceId]) AS [Key], [c].[CapabilityInterfaceName] AS [Value]
FROM [CapabilityInterface] AS [c]" (0723d8ff)
2021-09-30T18:27:14.4961370+05:30 8000003e-0002-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T18:27:14.4990754+05:30 8000000c-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilitySupportedPropertyId]) AS [Key], [c].[CapabilitySupportedPropertyName] AS [Value]
FROM [CapabilitySupportedProperty] AS [c]" (0723d8ff)
2021-09-30T18:27:14.4992049+05:30 8000003e-0002-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T18:27:14.4996956+05:30 8000003e-0002-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 22.1033ms (afa2e885)
2021-09-30T18:27:14.4997592+05:30 8000003e-0002-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:27:14.4998789+05:30 8000003e-0002-fb00-b63f-84710c7967bb [INF] Request finished in 22.7462ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:27:14.5010967+05:30 8000000c-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityTypeId]) AS [Key], [c].[CapabilityTypeName] AS [Value]
FROM [CapabilityTypes] AS [c]" (0723d8ff)
2021-09-30T18:27:14.5030676+05:30 8000000c-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityVersionId]) AS [Key], [c].[CapabilityVersionName] AS [Value]
FROM [CapabilityVersion] AS [c]" (0723d8ff)
2021-09-30T18:27:14.5046376+05:30 8000000c-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DisplayCategoryValue] AS [Key], [d].[DisplayCategoryLabel] AS [Value]
FROM [DisplayCategory] AS [d]" (0723d8ff)
2021-09-30T18:27:14.5047722+05:30 8000000c-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.AllCapabilityMasterModel"'. (8a1b66c8)
2021-09-30T18:27:14.5051106+05:30 8000000c-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)" in 27.4845ms (afa2e885)
2021-09-30T18:27:14.5051519+05:30 8000000c-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:27:14.5052188+05:30 8000000c-0001-fb00-b63f-84710c7967bb [INF] Request finished in 27.9737ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:27:14.9755921+05:30 80000040-0002-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T18:27:14.9756335+05:30 80000040-0002-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:27:14.9757121+05:30 80000040-0002-fb00-b63f-84710c7967bb [INF] Request finished in 0.1431ms 204  (791a596a)
2021-09-30T18:27:14.9791042+05:30 80000042-0002-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T18:27:14.9791426+05:30 80000042-0002-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:27:14.9791883+05:30 80000042-0002-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T18:27:14.9792437+05:30 80000042-0002-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:27:14.9802473+05:30 80000042-0002-fb00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T18:27:14.9803219+05:30 80000042-0002-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T18:27:14.9805281+05:30 80000042-0002-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1.2399ms (afa2e885)
2021-09-30T18:27:14.9805682+05:30 80000042-0002-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:27:14.9845383+05:30 80000042-0002-fb00-b63f-84710c7967bb [INF] Request finished in 3.5426ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T18:27:14.9856435+05:30 80000042-0002-fb00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("6"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T18:27:14.9873455+05:30 80000042-0002-fb00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T18:28:17.7425424+05:30 80000050-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:28:17.7426166+05:30 80000050-0000-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:28:17.7428095+05:30 8000000e-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:28:17.7428548+05:30 8000000e-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:28:17.7428863+05:30 80000050-0000-f900-b63f-84710c7967bb [INF] Request finished in 0.3893ms 204  (791a596a)
2021-09-30T18:28:17.7429344+05:30 8000000e-0001-fb00-b63f-84710c7967bb [INF] Request finished in 0.1513ms 204  (791a596a)
2021-09-30T18:28:17.7495776+05:30 8000002f-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:28:17.7495776+05:30 80000018-0007-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T18:28:17.7497724+05:30 8000002f-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:28:17.7498020+05:30 80000018-0007-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:28:17.7499105+05:30 8000002f-0005-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T18:28:17.7499493+05:30 80000018-0007-fe00-b63f-84710c7967bb [INF] Request finished in 0.3845ms 204  (791a596a)
2021-09-30T18:28:17.7500203+05:30 8000002f-0005-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:28:17.7505132+05:30 8000000a-0003-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:28:17.7505603+05:30 8000000a-0003-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:28:17.7506437+05:30 8000000a-0003-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (500cc934)
2021-09-30T18:28:17.7507157+05:30 8000000a-0003-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllCapabilityDropdownData\", controller = \"MasterData\"}". Executing controller action with signature "IoT.DataLayer.Models.AllCapabilityMasterModel GetAllCapabilityDropdownData(System.String)" on controller "IoT.WebAPI.Controllers.MasterDataController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:28:17.7579271+05:30 8000002f-0005-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("7"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T18:28:17.7605784+05:30 8000002f-0005-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T18:28:17.7636017+05:30 8000003a-0002-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T18:28:17.7643656+05:30 8000002f-0005-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 13.5609ms (afa2e885)
2021-09-30T18:28:17.7643641+05:30 8000003a-0002-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:28:17.7644531+05:30 8000002f-0005-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:28:17.7650040+05:30 8000002f-0005-fb00-b63f-84710c7967bb [INF] Request finished in 15.5042ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:28:17.7649895+05:30 8000003a-0002-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T18:28:17.7652579+05:30 8000003a-0002-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:28:17.7692207+05:30 8000003a-0002-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T18:28:17.7730582+05:30 8000003a-0002-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 7.7311ms (afa2e885)
2021-09-30T18:28:17.7731837+05:30 8000003a-0002-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:28:17.7732852+05:30 8000003a-0002-fa00-b63f-84710c7967bb [INF] Request finished in 9.9852ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:28:17.7777143+05:30 8000000a-0003-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T18:28:17.7799649+05:30 8000000a-0003-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityInterfaceId]) AS [Key], [c].[CapabilityInterfaceName] AS [Value]
FROM [CapabilityInterface] AS [c]" (0723d8ff)
2021-09-30T18:28:17.7815881+05:30 8000000a-0003-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilitySupportedPropertyId]) AS [Key], [c].[CapabilitySupportedPropertyName] AS [Value]
FROM [CapabilitySupportedProperty] AS [c]" (0723d8ff)
2021-09-30T18:28:17.7828728+05:30 8000000a-0003-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityTypeId]) AS [Key], [c].[CapabilityTypeName] AS [Value]
FROM [CapabilityTypes] AS [c]" (0723d8ff)
2021-09-30T18:28:17.7841273+05:30 8000000a-0003-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityVersionId]) AS [Key], [c].[CapabilityVersionName] AS [Value]
FROM [CapabilityVersion] AS [c]" (0723d8ff)
2021-09-30T18:28:17.7857835+05:30 8000000a-0003-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DisplayCategoryValue] AS [Key], [d].[DisplayCategoryLabel] AS [Value]
FROM [DisplayCategory] AS [d]" (0723d8ff)
2021-09-30T18:28:17.7859216+05:30 8000000a-0003-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.AllCapabilityMasterModel"'. (8a1b66c8)
2021-09-30T18:28:17.7862585+05:30 8000000a-0003-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)" in 35.4944ms (afa2e885)
2021-09-30T18:28:17.7863002+05:30 8000000a-0003-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:28:17.7863626+05:30 8000000a-0003-fc00-b63f-84710c7967bb [INF] Request finished in 35.8729ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:28:18.3190540+05:30 80000063-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T18:28:18.3191710+05:30 80000063-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:28:18.3194618+05:30 80000063-0006-fd00-b63f-84710c7967bb [INF] Request finished in 0.4807ms 204  (791a596a)
2021-09-30T18:28:18.3292946+05:30 80000010-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T18:28:18.3295643+05:30 80000010-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:28:18.3296959+05:30 80000010-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T18:28:18.3298991+05:30 80000010-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:28:18.3337363+05:30 80000010-0001-fb00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T18:28:18.3339474+05:30 80000010-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T18:28:18.3347113+05:30 80000010-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 4.6793ms (afa2e885)
2021-09-30T18:28:18.3350992+05:30 80000010-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:28:18.3373449+05:30 80000010-0001-fb00-b63f-84710c7967bb [INF] Request finished in 8.0008ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T18:28:18.3399854+05:30 80000010-0001-fb00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("9"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T18:28:18.3442342+05:30 80000010-0001-fb00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T18:28:20.1225350+05:30 80000065-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:28:20.1226001+05:30 80000065-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:28:20.1226972+05:30 80000065-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T18:28:20.1228396+05:30 80000065-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:28:20.1236315+05:30 8000007a-0006-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T18:28:20.1238319+05:30 8000007a-0006-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:28:20.1242574+05:30 8000007a-0006-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T18:28:20.1245079+05:30 800000f4-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T18:28:20.1246392+05:30 80000065-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T18:28:20.1246487+05:30 8000007a-0006-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:28:20.1247360+05:30 800000f4-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:28:20.1254441+05:30 800000f4-0004-ff00-b63f-84710c7967bb [INF] Request finished in 1.1711ms 204  (791a596a)
2021-09-30T18:28:20.1254621+05:30 80000065-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T18:28:20.1254639+05:30 8000007a-0006-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T18:28:20.1259444+05:30 8000007a-0006-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 1.0828ms (afa2e885)
2021-09-30T18:28:20.1260465+05:30 8000007a-0006-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:28:20.1261541+05:30 80000065-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 3.2511ms (afa2e885)
2021-09-30T18:28:20.1262200+05:30 80000065-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:28:20.1262166+05:30 8000007a-0006-fc00-b63f-84710c7967bb [INF] Request finished in 2.6531ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:28:20.1264724+05:30 80000065-0006-fd00-b63f-84710c7967bb [INF] Request finished in 3.8952ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:28:20.1295449+05:30 800000f6-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T18:28:20.1297282+05:30 800000f6-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:28:20.1298392+05:30 800000f6-0004-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-30T18:28:20.1299614+05:30 800000f6-0004-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllDeviceCapability(System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:28:20.1308274+05:30 800000f6-0004-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T18:28:20.1370037+05:30 800000f6-0004-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
ORDER BY [d].[CapabilityType]" (0723d8ff)
2021-09-30T18:28:20.1377214+05:30 800000f6-0004-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[IoT.DataLayer.Models.DeviceCapability, IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-30T18:28:20.1381874+05:30 800000f6-0004-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)" in 8.1595ms (afa2e885)
2021-09-30T18:28:20.1382518+05:30 800000f6-0004-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:28:20.1383310+05:30 800000f6-0004-ff00-b63f-84710c7967bb [INF] Request finished in 8.812ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:28:20.3410086+05:30 800000f8-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T18:28:20.3410850+05:30 800000f8-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:28:20.3411780+05:30 800000f8-0004-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T18:28:20.3412902+05:30 800000f8-0004-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:28:20.3434968+05:30 800000f8-0004-ff00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T18:28:20.3436642+05:30 800000f8-0004-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T18:28:20.3441407+05:30 800000f8-0004-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 2.7584ms (afa2e885)
2021-09-30T18:28:20.3442255+05:30 800000f8-0004-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:28:20.3455857+05:30 800000f8-0004-ff00-b63f-84710c7967bb [INF] Request finished in 4.5815ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T18:28:20.3476751+05:30 800000f8-0004-ff00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("5"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T18:28:20.3528208+05:30 800000f8-0004-ff00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T18:28:55.4096470+05:30 8000003f-0000-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:28:55.4097421+05:30 8000003f-0000-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:28:55.4099492+05:30 8000003f-0000-fb00-b63f-84710c7967bb [INF] Request finished in 0.3399ms 204  (791a596a)
2021-09-30T18:28:55.4104785+05:30 80000012-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:28:55.4105974+05:30 80000012-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:28:55.4108515+05:30 80000012-0001-fb00-b63f-84710c7967bb [INF] Request finished in 0.3859ms 204  (791a596a)
2021-09-30T18:28:55.4109447+05:30 8000001a-0007-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T18:28:55.4109955+05:30 8000001a-0007-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:28:55.4111216+05:30 8000001a-0007-fe00-b63f-84710c7967bb [INF] Request finished in 0.2349ms 204  (791a596a)
2021-09-30T18:28:55.4142440+05:30 8000007c-0006-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:28:55.4142440+05:30 80000067-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:28:55.4143064+05:30 8000007c-0006-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:28:55.4142966+05:30 80000067-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:28:55.4143452+05:30 80000040-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T18:28:55.4143722+05:30 80000040-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:28:55.4143997+05:30 80000067-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (500cc934)
2021-09-30T18:28:55.4144142+05:30 80000040-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T18:28:55.4144288+05:30 8000007c-0006-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T18:28:55.4144753+05:30 80000040-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:28:55.4144752+05:30 80000067-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllCapabilityDropdownData\", controller = \"MasterData\"}". Executing controller action with signature "IoT.DataLayer.Models.AllCapabilityMasterModel GetAllCapabilityDropdownData(System.String)" on controller "IoT.WebAPI.Controllers.MasterDataController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:28:55.4144826+05:30 8000007c-0006-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:28:55.4146903+05:30 80000040-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T18:28:55.4149251+05:30 80000040-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.4071ms (afa2e885)
2021-09-30T18:28:55.4149749+05:30 80000040-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:28:55.4150340+05:30 80000040-0002-f900-b63f-84710c7967bb [INF] Request finished in 0.7227ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:28:55.4263355+05:30 80000067-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T18:28:55.4269428+05:30 80000067-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityInterfaceId]) AS [Key], [c].[CapabilityInterfaceName] AS [Value]
FROM [CapabilityInterface] AS [c]" (0723d8ff)
2021-09-30T18:28:55.4275218+05:30 80000067-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilitySupportedPropertyId]) AS [Key], [c].[CapabilitySupportedPropertyName] AS [Value]
FROM [CapabilitySupportedProperty] AS [c]" (0723d8ff)
2021-09-30T18:28:55.4280164+05:30 80000067-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityTypeId]) AS [Key], [c].[CapabilityTypeName] AS [Value]
FROM [CapabilityTypes] AS [c]" (0723d8ff)
2021-09-30T18:28:55.4287016+05:30 80000067-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityVersionId]) AS [Key], [c].[CapabilityVersionName] AS [Value]
FROM [CapabilityVersion] AS [c]" (0723d8ff)
2021-09-30T18:28:55.4292787+05:30 80000067-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DisplayCategoryValue] AS [Key], [d].[DisplayCategoryLabel] AS [Value]
FROM [DisplayCategory] AS [d]" (0723d8ff)
2021-09-30T18:28:55.4293910+05:30 80000067-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.AllCapabilityMasterModel"'. (8a1b66c8)
2021-09-30T18:28:55.4296498+05:30 80000067-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)" in 15.1191ms (afa2e885)
2021-09-30T18:28:55.4296853+05:30 80000067-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:28:55.4307578+05:30 80000067-0006-fd00-b63f-84710c7967bb [INF] Request finished in 15.5348ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:28:55.4349313+05:30 8000007c-0006-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T18:28:55.4356562+05:30 8000007c-0006-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T18:28:55.4360718+05:30 8000007c-0006-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 21.4697ms (afa2e885)
2021-09-30T18:28:55.4361281+05:30 8000007c-0006-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:28:55.4363163+05:30 8000007c-0006-fc00-b63f-84710c7967bb [INF] Request finished in 22.0932ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:28:56.6126610+05:30 800000fa-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T18:28:56.6128007+05:30 800000fa-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:28:56.6131087+05:30 800000fa-0004-ff00-b63f-84710c7967bb [INF] Request finished in 0.503ms 204  (791a596a)
2021-09-30T18:28:56.6215734+05:30 800000fc-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T18:28:56.6217136+05:30 800000fc-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:28:56.6219004+05:30 800000fc-0004-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T18:28:56.6221523+05:30 800000fc-0004-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:28:56.6258991+05:30 800000fc-0004-ff00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T18:28:56.6261175+05:30 800000fc-0004-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T18:28:56.6269455+05:30 800000fc-0004-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 4.6319ms (afa2e885)
2021-09-30T18:28:56.6271067+05:30 800000fc-0004-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:28:56.6288931+05:30 800000fc-0004-ff00-b63f-84710c7967bb [INF] Request finished in 7.3276ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T18:28:56.6312264+05:30 800000fc-0004-ff00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("8"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T18:28:56.6345116+05:30 800000fc-0004-ff00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T18:28:59.2350132+05:30 80000014-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:28:59.2351904+05:30 80000014-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:28:59.2352370+05:30 8000007e-0006-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T18:28:59.2353099+05:30 8000007e-0006-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:28:59.2354737+05:30 80000014-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T18:28:59.2356561+05:30 8000007e-0006-fc00-b63f-84710c7967bb [INF] Request finished in 0.8149ms 204  (791a596a)
2021-09-30T18:28:59.2356538+05:30 80000014-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:28:59.2384426+05:30 80000080-0006-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T18:28:59.2387049+05:30 80000080-0006-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:28:59.2391992+05:30 80000080-0006-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T18:28:59.2399143+05:30 80000080-0006-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:28:59.2397972+05:30 80000014-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T18:28:59.2408193+05:30 80000080-0006-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T18:28:59.2408928+05:30 80000069-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T18:28:59.2410283+05:30 80000069-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:28:59.2409235+05:30 80000014-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T18:28:59.2411013+05:30 80000080-0006-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 1.0258ms (afa2e885)
2021-09-30T18:28:59.2412173+05:30 80000080-0006-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:28:59.2411307+05:30 80000069-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-30T18:28:59.2413313+05:30 80000080-0006-fc00-b63f-84710c7967bb [INF] Request finished in 3.5927ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:28:59.2413480+05:30 80000014-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 5.5497ms (afa2e885)
2021-09-30T18:28:59.2414696+05:30 80000069-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllDeviceCapability(System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:28:59.2416212+05:30 80000014-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:28:59.2418561+05:30 80000014-0001-fb00-b63f-84710c7967bb [INF] Request finished in 6.977ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:28:59.2428053+05:30 80000069-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T18:28:59.2443096+05:30 80000069-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
ORDER BY [d].[CapabilityType]" (0723d8ff)
2021-09-30T18:28:59.2451082+05:30 80000069-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[IoT.DataLayer.Models.DeviceCapability, IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-30T18:28:59.2456542+05:30 80000069-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)" in 3.9752ms (afa2e885)
2021-09-30T18:28:59.2457151+05:30 80000069-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:28:59.2457966+05:30 80000069-0006-fd00-b63f-84710c7967bb [INF] Request finished in 4.9116ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:28:59.7419323+05:30 800000fe-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T18:28:59.7420621+05:30 800000fe-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:28:59.7422482+05:30 800000fe-0004-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T18:28:59.7424234+05:30 800000fe-0004-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:28:59.7462944+05:30 800000fe-0004-ff00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T18:28:59.7465509+05:30 800000fe-0004-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T18:28:59.7473571+05:30 800000fe-0004-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 4.7764ms (afa2e885)
2021-09-30T18:28:59.7475419+05:30 800000fe-0004-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:28:59.7505038+05:30 800000fe-0004-ff00-b63f-84710c7967bb [INF] Request finished in 8.5719ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T18:28:59.7535519+05:30 800000fe-0004-ff00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("10"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T18:28:59.7650592+05:30 800000fe-0004-ff00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T18:29:49.1377630+05:30 80000018-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:29:49.1377633+05:30 8000006b-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:29:49.1378166+05:30 80000018-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:29:49.1378171+05:30 8000006b-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:29:49.1379227+05:30 80000018-0000-fa00-b63f-84710c7967bb [INF] Request finished in 0.1874ms 204  (791a596a)
2021-09-30T18:29:49.1379223+05:30 80000042-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T18:29:49.1379223+05:30 8000006b-0006-fd00-b63f-84710c7967bb [INF] Request finished in 0.2241ms 204  (791a596a)
2021-09-30T18:29:49.1379673+05:30 80000042-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:29:49.1380479+05:30 80000042-0002-f900-b63f-84710c7967bb [INF] Request finished in 0.1338ms 204  (791a596a)
2021-09-30T18:29:49.1429271+05:30 8000003c-0002-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T18:29:49.1430431+05:30 8000003c-0002-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:29:49.1430336+05:30 80000044-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:29:49.1431443+05:30 80000016-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:29:49.1431342+05:30 8000003c-0002-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T18:29:49.1432869+05:30 80000044-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:29:49.1432954+05:30 8000003c-0002-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:29:49.1433880+05:30 80000044-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (500cc934)
2021-09-30T18:29:49.1434038+05:30 80000016-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:29:49.1434679+05:30 80000044-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllCapabilityDropdownData\", controller = \"MasterData\"}". Executing controller action with signature "IoT.DataLayer.Models.AllCapabilityMasterModel GetAllCapabilityDropdownData(System.String)" on controller "IoT.WebAPI.Controllers.MasterDataController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:29:49.1434720+05:30 80000016-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T18:29:49.1435338+05:30 80000016-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:29:49.1436055+05:30 8000003c-0002-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T18:29:49.1441067+05:30 8000003c-0002-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.6743ms (afa2e885)
2021-09-30T18:29:49.1442021+05:30 8000003c-0002-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:29:49.1452793+05:30 8000003c-0002-fa00-b63f-84710c7967bb [INF] Request finished in 2.4162ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:29:49.1610888+05:30 80000044-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T18:29:49.1631876+05:30 80000044-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityInterfaceId]) AS [Key], [c].[CapabilityInterfaceName] AS [Value]
FROM [CapabilityInterface] AS [c]" (0723d8ff)
2021-09-30T18:29:49.1658877+05:30 80000016-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T18:29:49.1661266+05:30 80000016-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T18:29:49.1664487+05:30 80000016-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 22.8687ms (afa2e885)
2021-09-30T18:29:49.1665101+05:30 80000016-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:29:49.1666690+05:30 80000016-0001-fb00-b63f-84710c7967bb [INF] Request finished in 23.4917ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:29:49.1668365+05:30 80000044-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilitySupportedPropertyId]) AS [Key], [c].[CapabilitySupportedPropertyName] AS [Value]
FROM [CapabilitySupportedProperty] AS [c]" (0723d8ff)
2021-09-30T18:29:49.1682651+05:30 80000044-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityTypeId]) AS [Key], [c].[CapabilityTypeName] AS [Value]
FROM [CapabilityTypes] AS [c]" (0723d8ff)
2021-09-30T18:29:49.1697860+05:30 80000044-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityVersionId]) AS [Key], [c].[CapabilityVersionName] AS [Value]
FROM [CapabilityVersion] AS [c]" (0723d8ff)
2021-09-30T18:29:49.1710688+05:30 80000044-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DisplayCategoryValue] AS [Key], [d].[DisplayCategoryLabel] AS [Value]
FROM [DisplayCategory] AS [d]" (0723d8ff)
2021-09-30T18:29:49.1712202+05:30 80000044-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.AllCapabilityMasterModel"'. (8a1b66c8)
2021-09-30T18:29:49.1714485+05:30 80000044-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)" in 27.9385ms (afa2e885)
2021-09-30T18:29:49.1714814+05:30 80000044-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:29:49.1715362+05:30 80000044-0002-f900-b63f-84710c7967bb [INF] Request finished in 28.761ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:29:49.6687586+05:30 80000046-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T18:29:49.6688228+05:30 80000046-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:29:49.6689842+05:30 80000046-0002-f900-b63f-84710c7967bb [INF] Request finished in 0.2799ms 204  (791a596a)
2021-09-30T18:29:49.6736911+05:30 8000001a-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T18:29:49.6737847+05:30 8000001a-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:29:49.6738866+05:30 8000001a-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T18:29:49.6741304+05:30 8000001a-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:29:49.6765745+05:30 8000001a-0000-fa00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T18:29:49.6767522+05:30 8000001a-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T18:29:49.6772962+05:30 8000001a-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 2.986ms (afa2e885)
2021-09-30T18:29:49.6775003+05:30 8000001a-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:29:49.6836555+05:30 8000001a-0000-fa00-b63f-84710c7967bb [INF] Request finished in 9.9328ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T18:29:49.6897983+05:30 8000001a-0000-fa00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("15"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T18:29:49.6916098+05:30 8000001a-0000-fa00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T18:30:14.4359850+05:30 80000041-0000-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:30:14.4359861+05:30 80000002-0000-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:30:14.4360647+05:30 80000041-0000-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:30:14.4360657+05:30 80000002-0000-f800-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:30:14.4361931+05:30 80000002-0000-f800-b63f-84710c7967bb [INF] Request finished in 0.224ms 204  (791a596a)
2021-09-30T18:30:14.4362020+05:30 80000041-0000-fb00-b63f-84710c7967bb [INF] Request finished in 0.2442ms 204  (791a596a)
2021-09-30T18:30:14.4362086+05:30 80000018-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T18:30:14.4362670+05:30 80000018-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:30:14.4363564+05:30 80000018-0001-fb00-b63f-84710c7967bb [INF] Request finished in 0.1551ms 204  (791a596a)
2021-09-30T18:30:14.4403045+05:30 8000001c-0007-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:30:14.4403614+05:30 8000001c-0007-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:30:14.4403924+05:30 80000100-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T18:30:14.4404256+05:30 80000100-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:30:14.4404749+05:30 80000100-0004-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T18:30:14.4404891+05:30 8000001c-0007-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T18:30:14.4405416+05:30 80000043-0000-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:30:14.4405541+05:30 80000100-0004-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:30:14.4406059+05:30 8000001c-0007-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:30:14.4405687+05:30 80000043-0000-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:30:14.4407303+05:30 80000100-0004-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T18:30:14.4407589+05:30 80000043-0000-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (500cc934)
2021-09-30T18:30:14.4408271+05:30 80000043-0000-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllCapabilityDropdownData\", controller = \"MasterData\"}". Executing controller action with signature "IoT.DataLayer.Models.AllCapabilityMasterModel GetAllCapabilityDropdownData(System.String)" on controller "IoT.WebAPI.Controllers.MasterDataController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:30:14.4410069+05:30 80000100-0004-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.4043ms (afa2e885)
2021-09-30T18:30:14.4410402+05:30 80000100-0004-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:30:14.4411078+05:30 80000100-0004-ff00-b63f-84710c7967bb [INF] Request finished in 0.7338ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:30:14.4443999+05:30 8000001c-0007-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T18:30:14.4449048+05:30 8000001c-0007-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T18:30:14.4456724+05:30 8000001c-0007-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 4.7723ms (afa2e885)
2021-09-30T18:30:14.4457675+05:30 8000001c-0007-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:30:14.4459070+05:30 8000001c-0007-fe00-b63f-84710c7967bb [INF] Request finished in 5.6329ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:30:14.4514686+05:30 80000043-0000-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T18:30:14.4541626+05:30 80000043-0000-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityInterfaceId]) AS [Key], [c].[CapabilityInterfaceName] AS [Value]
FROM [CapabilityInterface] AS [c]" (0723d8ff)
2021-09-30T18:30:14.4552561+05:30 80000043-0000-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilitySupportedPropertyId]) AS [Key], [c].[CapabilitySupportedPropertyName] AS [Value]
FROM [CapabilitySupportedProperty] AS [c]" (0723d8ff)
2021-09-30T18:30:14.4566339+05:30 80000043-0000-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityTypeId]) AS [Key], [c].[CapabilityTypeName] AS [Value]
FROM [CapabilityTypes] AS [c]" (0723d8ff)
2021-09-30T18:30:14.4588030+05:30 80000043-0000-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityVersionId]) AS [Key], [c].[CapabilityVersionName] AS [Value]
FROM [CapabilityVersion] AS [c]" (0723d8ff)
2021-09-30T18:30:14.4600094+05:30 80000043-0000-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DisplayCategoryValue] AS [Key], [d].[DisplayCategoryLabel] AS [Value]
FROM [DisplayCategory] AS [d]" (0723d8ff)
2021-09-30T18:30:14.4601719+05:30 80000043-0000-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.AllCapabilityMasterModel"'. (8a1b66c8)
2021-09-30T18:30:14.4605559+05:30 80000043-0000-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)" in 19.5383ms (afa2e885)
2021-09-30T18:30:14.4605928+05:30 80000043-0000-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:30:14.4606448+05:30 80000043-0000-fb00-b63f-84710c7967bb [INF] Request finished in 20.1114ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:30:14.9791956+05:30 8000006d-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T18:30:14.9793181+05:30 8000006d-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:30:14.9796175+05:30 8000006d-0006-fd00-b63f-84710c7967bb [INF] Request finished in 0.4735ms 204  (791a596a)
2021-09-30T18:30:14.9939271+05:30 80000045-0000-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T18:30:14.9939924+05:30 80000045-0000-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:30:14.9940578+05:30 80000045-0000-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T18:30:14.9941980+05:30 80000045-0000-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:30:14.9960346+05:30 80000045-0000-fb00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T18:30:14.9962082+05:30 80000045-0000-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T18:30:14.9966909+05:30 80000045-0000-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 2.3835ms (afa2e885)
2021-09-30T18:30:14.9967430+05:30 80000045-0000-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:30:14.9975018+05:30 80000045-0000-fb00-b63f-84710c7967bb [INF] Request finished in 3.5798ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T18:30:15.0001652+05:30 80000045-0000-fb00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("5"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T18:30:15.0029102+05:30 80000045-0000-fb00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T18:30:16.1857223+05:30 80000047-0000-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:30:16.1857973+05:30 80000047-0000-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:30:16.1858916+05:30 80000047-0000-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T18:30:16.1858991+05:30 80000004-0000-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T18:30:16.1859235+05:30 80000004-0000-f800-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:30:16.1859271+05:30 80000031-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T18:30:16.1859573+05:30 80000031-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:30:16.1859672+05:30 80000047-0000-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:30:16.1860003+05:30 80000031-0005-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T18:30:16.1860422+05:30 80000004-0000-f800-b63f-84710c7967bb [INF] Request finished in 0.1511ms 204  (791a596a)
2021-09-30T18:30:16.1860540+05:30 80000031-0005-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:30:16.1862433+05:30 80000031-0005-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T18:30:16.1865072+05:30 80000031-0005-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.4077ms (afa2e885)
2021-09-30T18:30:16.1866532+05:30 80000031-0005-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:30:16.1867322+05:30 80000031-0005-fb00-b63f-84710c7967bb [INF] Request finished in 0.8097ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:30:16.1885285+05:30 80000047-0000-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T18:30:16.1897610+05:30 80000047-0000-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T18:30:16.1901309+05:30 80000047-0000-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 4.1054ms (afa2e885)
2021-09-30T18:30:16.1902129+05:30 80000047-0000-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:30:16.1903249+05:30 80000047-0000-fb00-b63f-84710c7967bb [INF] Request finished in 4.6333ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:30:16.1910564+05:30 8000006f-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T18:30:16.1911174+05:30 8000006f-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:30:16.1912030+05:30 8000006f-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-30T18:30:16.1913216+05:30 8000006f-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllDeviceCapability(System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:30:16.1923894+05:30 8000006f-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T18:30:16.1965684+05:30 8000006f-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
ORDER BY [d].[CapabilityType]" (0723d8ff)
2021-09-30T18:30:16.1971469+05:30 8000006f-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[IoT.DataLayer.Models.DeviceCapability, IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-30T18:30:16.1975126+05:30 8000006f-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)" in 6.1379ms (afa2e885)
2021-09-30T18:30:16.1975616+05:30 8000006f-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:30:16.1976226+05:30 8000006f-0006-fd00-b63f-84710c7967bb [INF] Request finished in 6.6017ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:30:16.3782165+05:30 80000071-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T18:30:16.3782691+05:30 80000071-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:30:16.3783405+05:30 80000071-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T18:30:16.3784226+05:30 80000071-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:30:16.3799605+05:30 80000071-0006-fd00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T18:30:16.3800923+05:30 80000071-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T18:30:16.3803318+05:30 80000071-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1.8492ms (afa2e885)
2021-09-30T18:30:16.3803816+05:30 80000071-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:30:16.3816189+05:30 80000071-0006-fd00-b63f-84710c7967bb [INF] Request finished in 3.4049ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T18:30:16.3824248+05:30 80000071-0006-fd00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("3"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T18:30:16.3847117+05:30 80000071-0006-fd00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T18:32:33.1021498+05:30 8000001a-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:32:33.1021498+05:30 80000102-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T18:32:33.1022305+05:30 80000102-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:32:33.1022285+05:30 8000001a-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:32:33.1023483+05:30 80000102-0004-ff00-b63f-84710c7967bb [INF] Request finished in 0.2532ms 204  (791a596a)
2021-09-30T18:32:33.1023719+05:30 8000001a-0001-fb00-b63f-84710c7967bb [INF] Request finished in 0.2772ms 204  (791a596a)
2021-09-30T18:32:33.1044596+05:30 80000022-0003-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T18:32:33.1053323+05:30 80000022-0003-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:32:33.1124094+05:30 80000022-0003-fd00-b63f-84710c7967bb [INF] Request finished in 8.0331ms 204  (791a596a)
2021-09-30T18:32:33.1126669+05:30 80000024-0003-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:32:33.1127070+05:30 8000001c-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T18:32:33.1127772+05:30 80000024-0003-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:32:33.1127697+05:30 8000001c-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:32:33.1127946+05:30 80000104-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T18:32:33.1138762+05:30 80000104-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:32:33.1139214+05:30 8000001c-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-30T18:32:33.1139720+05:30 80000104-0004-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T18:32:33.1139911+05:30 80000024-0003-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T18:32:33.1140560+05:30 8000001c-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllDeviceCapability(System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:32:33.1140568+05:30 80000024-0003-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:32:33.1140431+05:30 80000104-0004-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:32:33.1192740+05:30 80000104-0004-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T18:32:33.1205897+05:30 80000104-0004-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 5.42ms (afa2e885)
2021-09-30T18:32:33.1206980+05:30 80000104-0004-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:32:33.1209584+05:30 80000104-0004-ff00-b63f-84710c7967bb [INF] Request finished in 8.2201ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:32:33.1391102+05:30 8000001c-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T18:32:33.1444752+05:30 8000001c-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
ORDER BY [d].[CapabilityType]" (0723d8ff)
2021-09-30T18:32:33.1447056+05:30 80000024-0003-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T18:32:33.1449869+05:30 80000024-0003-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T18:32:33.1450803+05:30 8000001c-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[IoT.DataLayer.Models.DeviceCapability, IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-30T18:32:33.1453201+05:30 80000024-0003-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 31.2221ms (afa2e885)
2021-09-30T18:32:33.1453633+05:30 80000024-0003-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:32:33.1455141+05:30 8000001c-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)" in 31.4215ms (afa2e885)
2021-09-30T18:32:33.1455555+05:30 8000001c-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:32:33.1455526+05:30 80000024-0003-fd00-b63f-84710c7967bb [INF] Request finished in 32.9577ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:32:33.1456010+05:30 8000001c-0001-fb00-b63f-84710c7967bb [INF] Request finished in 33.1691ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:32:34.3277425+05:30 80000082-0006-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T18:32:34.3278726+05:30 80000082-0006-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:32:34.3281812+05:30 80000082-0006-fc00-b63f-84710c7967bb [INF] Request finished in 0.4906ms 204  (791a596a)
2021-09-30T18:32:34.3356667+05:30 80000054-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T18:32:34.3357910+05:30 80000054-0000-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:32:34.3359764+05:30 80000054-0000-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T18:32:34.3361846+05:30 80000054-0000-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:32:34.3401235+05:30 80000054-0000-f900-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T18:32:34.3403739+05:30 80000054-0000-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T18:32:34.3412389+05:30 80000054-0000-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 4.7482ms (afa2e885)
2021-09-30T18:32:34.3413915+05:30 80000054-0000-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:32:34.3437250+05:30 80000054-0000-f900-b63f-84710c7967bb [INF] Request finished in 7.6349ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T18:32:34.3454962+05:30 80000054-0000-f900-b63f-84710c7967bb [ERR] Failed executing DbCommand ("8"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T18:32:34.3498683+05:30 80000054-0000-f900-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T18:32:36.6788793+05:30 8000001e-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:32:36.6789389+05:30 8000001e-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:32:36.6790791+05:30 8000001e-0001-fb00-b63f-84710c7967bb [INF] Request finished in 0.2705ms 204  (791a596a)
2021-09-30T18:32:36.6791861+05:30 80000084-0006-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:32:36.6792358+05:30 80000084-0006-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:32:36.6793268+05:30 80000084-0006-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T18:32:36.6794324+05:30 80000084-0006-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:32:36.6800306+05:30 8000001e-0007-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T18:32:36.6807084+05:30 8000001e-0007-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:32:36.6810458+05:30 8000001e-0007-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T18:32:36.6814717+05:30 80000084-0006-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T18:32:36.6814594+05:30 8000001e-0007-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:32:36.6821636+05:30 80000084-0006-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T18:32:36.6821333+05:30 8000001e-0007-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T18:32:36.6824877+05:30 8000001e-0007-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.8696ms (afa2e885)
2021-09-30T18:32:36.6824795+05:30 80000084-0006-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 2.9086ms (afa2e885)
2021-09-30T18:32:36.6825276+05:30 80000084-0006-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:32:36.6825276+05:30 8000001e-0007-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:32:36.6826222+05:30 80000084-0006-fc00-b63f-84710c7967bb [INF] Request finished in 3.4404ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:32:36.6826193+05:30 8000001e-0007-fe00-b63f-84710c7967bb [INF] Request finished in 2.6429ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:32:36.6833200+05:30 8000004a-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:32:36.6833726+05:30 8000004a-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:32:36.6835970+05:30 8000004a-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (500cc934)
2021-09-30T18:32:36.6837870+05:30 8000004a-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllCapabilityDropdownData\", controller = \"MasterData\"}". Executing controller action with signature "IoT.DataLayer.Models.AllCapabilityMasterModel GetAllCapabilityDropdownData(System.String)" on controller "IoT.WebAPI.Controllers.MasterDataController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:32:36.6846959+05:30 8000004a-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T18:32:36.6862980+05:30 8000004a-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityInterfaceId]) AS [Key], [c].[CapabilityInterfaceName] AS [Value]
FROM [CapabilityInterface] AS [c]" (0723d8ff)
2021-09-30T18:32:36.6881176+05:30 8000004a-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilitySupportedPropertyId]) AS [Key], [c].[CapabilitySupportedPropertyName] AS [Value]
FROM [CapabilitySupportedProperty] AS [c]" (0723d8ff)
2021-09-30T18:32:36.6904428+05:30 8000004a-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityTypeId]) AS [Key], [c].[CapabilityTypeName] AS [Value]
FROM [CapabilityTypes] AS [c]" (0723d8ff)
2021-09-30T18:32:36.6925044+05:30 8000004a-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityVersionId]) AS [Key], [c].[CapabilityVersionName] AS [Value]
FROM [CapabilityVersion] AS [c]" (0723d8ff)
2021-09-30T18:32:36.6938722+05:30 8000004a-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DisplayCategoryValue] AS [Key], [d].[DisplayCategoryLabel] AS [Value]
FROM [DisplayCategory] AS [d]" (0723d8ff)
2021-09-30T18:32:36.6939770+05:30 8000004a-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.AllCapabilityMasterModel"'. (8a1b66c8)
2021-09-30T18:32:36.6942347+05:30 8000004a-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)" in 10.4053ms (afa2e885)
2021-09-30T18:32:36.6942770+05:30 8000004a-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:32:36.6943729+05:30 8000004a-0002-f900-b63f-84710c7967bb [INF] Request finished in 11.0867ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:32:37.2315355+05:30 80000020-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T18:32:37.2316813+05:30 80000020-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:32:37.2320986+05:30 80000020-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T18:32:37.2323536+05:30 80000020-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:32:37.2362632+05:30 80000020-0001-fb00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T18:32:37.2369105+05:30 80000020-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T18:32:37.2383539+05:30 80000020-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 5.8077ms (afa2e885)
2021-09-30T18:32:37.2385923+05:30 80000020-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:32:37.2407065+05:30 80000020-0001-fb00-b63f-84710c7967bb [INF] Request finished in 9.462ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T18:32:37.2433247+05:30 80000020-0001-fb00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("10"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T18:32:37.2522211+05:30 80000020-0001-fb00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T18:34:20.1460370+05:30 80000022-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:34:20.1461357+05:30 80000022-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:34:20.1462632+05:30 80000022-0001-fb00-b63f-84710c7967bb [INF] Request finished in 0.2418ms 204  (791a596a)
2021-09-30T18:34:20.1468215+05:30 80000002-0004-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T18:34:20.1469116+05:30 80000002-0004-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:34:20.1470785+05:30 80000002-0004-fd00-b63f-84710c7967bb [INF] Request finished in 0.5355ms 204  (791a596a)
2021-09-30T18:34:20.1472142+05:30 8000005c-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:34:20.1472681+05:30 8000005c-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:34:20.1488581+05:30 8000005c-0004-fe00-b63f-84710c7967bb [INF] Request finished in 0.5232ms 204  (791a596a)
2021-09-30T18:34:20.1529863+05:30 8000005e-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T18:34:20.1529932+05:30 80000026-0003-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:34:20.1538748+05:30 80000033-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:34:20.1539569+05:30 80000033-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:34:20.1539570+05:30 80000026-0003-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:34:20.1545513+05:30 80000026-0003-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (500cc934)
2021-09-30T18:34:20.1545427+05:30 8000005e-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:34:20.1545857+05:30 80000033-0005-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T18:34:20.1545985+05:30 8000005e-0004-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T18:34:20.1546990+05:30 80000026-0003-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllCapabilityDropdownData\", controller = \"MasterData\"}". Executing controller action with signature "IoT.DataLayer.Models.AllCapabilityMasterModel GetAllCapabilityDropdownData(System.String)" on controller "IoT.WebAPI.Controllers.MasterDataController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:34:20.1577111+05:30 80000033-0005-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:34:20.1587929+05:30 8000005e-0004-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:34:20.1639168+05:30 8000005e-0004-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T18:34:20.1735667+05:30 8000005e-0004-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 14.5831ms (afa2e885)
2021-09-30T18:34:20.1736273+05:30 8000005e-0004-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:34:20.1739356+05:30 8000005e-0004-fe00-b63f-84710c7967bb [INF] Request finished in 20.9588ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:34:20.1885203+05:30 80000026-0003-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T18:34:20.1909589+05:30 80000026-0003-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityInterfaceId]) AS [Key], [c].[CapabilityInterfaceName] AS [Value]
FROM [CapabilityInterface] AS [c]" (0723d8ff)
2021-09-30T18:34:20.1923103+05:30 80000026-0003-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilitySupportedPropertyId]) AS [Key], [c].[CapabilitySupportedPropertyName] AS [Value]
FROM [CapabilitySupportedProperty] AS [c]" (0723d8ff)
2021-09-30T18:34:20.1933559+05:30 80000026-0003-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityTypeId]) AS [Key], [c].[CapabilityTypeName] AS [Value]
FROM [CapabilityTypes] AS [c]" (0723d8ff)
2021-09-30T18:34:20.1949819+05:30 80000026-0003-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityVersionId]) AS [Key], [c].[CapabilityVersionName] AS [Value]
FROM [CapabilityVersion] AS [c]" (0723d8ff)
2021-09-30T18:34:20.1977705+05:30 80000033-0005-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T18:34:20.1981066+05:30 80000033-0005-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T18:34:20.1985711+05:30 80000033-0005-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 39.6983ms (afa2e885)
2021-09-30T18:34:20.1986205+05:30 80000033-0005-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:34:20.1986422+05:30 80000026-0003-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DisplayCategoryValue] AS [Key], [d].[DisplayCategoryLabel] AS [Value]
FROM [DisplayCategory] AS [d]" (0723d8ff)
2021-09-30T18:34:20.1987360+05:30 80000033-0005-fb00-b63f-84710c7967bb [INF] Request finished in 45.8282ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:34:20.1987444+05:30 80000026-0003-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.AllCapabilityMasterModel"'. (8a1b66c8)
2021-09-30T18:34:20.1990068+05:30 80000026-0003-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)" in 44.2517ms (afa2e885)
2021-09-30T18:34:20.1990489+05:30 80000026-0003-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:34:20.1991021+05:30 80000026-0003-fd00-b63f-84710c7967bb [INF] Request finished in 46.1971ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:34:20.6739162+05:30 80000060-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T18:34:20.6740526+05:30 80000060-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:34:20.6743389+05:30 80000060-0004-fe00-b63f-84710c7967bb [INF] Request finished in 0.4798ms 204  (791a596a)
2021-09-30T18:34:20.6827303+05:30 80000056-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T18:34:20.6828626+05:30 80000056-0000-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:34:20.6829929+05:30 80000056-0000-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T18:34:20.6831904+05:30 80000056-0000-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:34:20.6865353+05:30 80000056-0000-f900-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T18:34:20.6867903+05:30 80000056-0000-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T18:34:20.6874433+05:30 80000056-0000-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 4.0971ms (afa2e885)
2021-09-30T18:34:20.6875571+05:30 80000056-0000-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:34:20.6891752+05:30 80000056-0000-f900-b63f-84710c7967bb [INF] Request finished in 6.4584ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T18:34:20.6930812+05:30 80000056-0000-f900-b63f-84710c7967bb [ERR] Failed executing DbCommand ("8"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T18:34:20.7013995+05:30 80000056-0000-f900-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T18:34:23.2511682+05:30 80000028-0003-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T18:34:23.2512994+05:30 8000004c-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:34:23.2513957+05:30 8000004c-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:34:23.2512759+05:30 80000028-0003-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:34:23.2518363+05:30 8000004c-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T18:34:23.2520053+05:30 80000028-0003-fd00-b63f-84710c7967bb [INF] Request finished in 0.9547ms 204  (791a596a)
2021-09-30T18:34:23.2520545+05:30 8000004c-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:34:23.2531401+05:30 8000002a-0003-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T18:34:23.2535086+05:30 8000002a-0003-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:34:23.2536139+05:30 8000002a-0003-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T18:34:23.2538354+05:30 8000002a-0003-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:34:23.2564468+05:30 8000004c-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T18:34:23.2565735+05:30 8000002a-0003-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T18:34:23.2578212+05:30 8000002a-0003-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 3.5014ms (afa2e885)
2021-09-30T18:34:23.2581976+05:30 8000002a-0003-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:34:23.2583171+05:30 8000004c-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T18:34:23.2582960+05:30 8000002a-0003-fd00-b63f-84710c7967bb [INF] Request finished in 5.3167ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:34:23.2588504+05:30 8000004c-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 6.7169ms (afa2e885)
2021-09-30T18:34:23.2589247+05:30 8000003e-0002-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T18:34:23.2589776+05:30 8000004c-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:34:23.2590156+05:30 8000003e-0002-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:34:23.2591010+05:30 8000004c-0002-f900-b63f-84710c7967bb [INF] Request finished in 7.8642ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:34:23.2591264+05:30 8000003e-0002-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-30T18:34:23.2592722+05:30 8000003e-0002-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllDeviceCapability(System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:34:23.2603843+05:30 8000003e-0002-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T18:34:23.2657364+05:30 8000003e-0002-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
ORDER BY [d].[CapabilityType]" (0723d8ff)
2021-09-30T18:34:23.2662845+05:30 8000003e-0002-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[IoT.DataLayer.Models.DeviceCapability, IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-30T18:34:23.2665682+05:30 8000003e-0002-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)" in 7.2382ms (afa2e885)
2021-09-30T18:34:23.2666197+05:30 8000003e-0002-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:34:23.2666856+05:30 8000003e-0002-fa00-b63f-84710c7967bb [INF] Request finished in 7.7807ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:34:23.7954961+05:30 80000058-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T18:34:23.7955423+05:30 80000058-0000-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:34:23.7956208+05:30 80000058-0000-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T18:34:23.7957131+05:30 80000058-0000-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:34:23.7971825+05:30 80000058-0000-f900-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T18:34:23.7975797+05:30 80000058-0000-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T18:34:23.7979262+05:30 80000058-0000-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 2.1248ms (afa2e885)
2021-09-30T18:34:23.7979892+05:30 80000058-0000-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:34:23.7990626+05:30 80000058-0000-f900-b63f-84710c7967bb [INF] Request finished in 3.6051ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T18:34:23.7997285+05:30 80000058-0000-f900-b63f-84710c7967bb [ERR] Failed executing DbCommand ("3"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T18:34:23.8017078+05:30 80000058-0000-f900-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T18:34:32.7237288+05:30 80000035-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:34:32.7238604+05:30 80000035-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:34:32.7249409+05:30 8000000e-0005-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:34:32.7250953+05:30 8000000e-0005-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:34:32.7253114+05:30 8000000e-0005-fc00-b63f-84710c7967bb [INF] Request finished in 0.5117ms 204  (791a596a)
2021-09-30T18:34:32.7254299+05:30 80000035-0005-fb00-b63f-84710c7967bb [INF] Request finished in 0.6965ms 204  (791a596a)
2021-09-30T18:34:32.7307120+05:30 80000010-0005-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T18:34:32.7307804+05:30 80000010-0005-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:34:32.7309276+05:30 80000010-0005-fc00-b63f-84710c7967bb [INF] Request finished in 0.2552ms 204  (791a596a)
2021-09-30T18:34:32.7350011+05:30 80000012-0005-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:34:32.7349513+05:30 80000024-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:34:32.7350841+05:30 80000012-0005-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:34:32.7351572+05:30 80000024-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:34:32.7352990+05:30 80000024-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (500cc934)
2021-09-30T18:34:32.7353738+05:30 80000012-0005-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T18:34:32.7354854+05:30 80000012-0005-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:34:32.7355959+05:30 80000024-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllCapabilityDropdownData\", controller = \"MasterData\"}". Executing controller action with signature "IoT.DataLayer.Models.AllCapabilityMasterModel GetAllCapabilityDropdownData(System.String)" on controller "IoT.WebAPI.Controllers.MasterDataController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:34:32.7361563+05:30 80000086-0006-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T18:34:32.7362258+05:30 80000086-0006-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:34:32.7363074+05:30 80000086-0006-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T18:34:32.7364710+05:30 80000086-0006-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:34:32.7370101+05:30 80000086-0006-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T18:34:32.7437265+05:30 80000086-0006-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 7.0561ms (afa2e885)
2021-09-30T18:34:32.7439415+05:30 80000086-0006-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:34:32.7442279+05:30 80000086-0006-fc00-b63f-84710c7967bb [INF] Request finished in 8.0157ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:34:32.7499533+05:30 80000024-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T18:34:32.7517939+05:30 80000024-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityInterfaceId]) AS [Key], [c].[CapabilityInterfaceName] AS [Value]
FROM [CapabilityInterface] AS [c]" (0723d8ff)
2021-09-30T18:34:32.7545115+05:30 80000012-0005-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T18:34:32.7554025+05:30 80000012-0005-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T18:34:32.7560105+05:30 80000012-0005-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 20.4395ms (afa2e885)
2021-09-30T18:34:32.7562443+05:30 80000012-0005-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:34:32.7564400+05:30 80000012-0005-fc00-b63f-84710c7967bb [INF] Request finished in 21.4494ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:34:32.7567130+05:30 80000024-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilitySupportedPropertyId]) AS [Key], [c].[CapabilitySupportedPropertyName] AS [Value]
FROM [CapabilitySupportedProperty] AS [c]" (0723d8ff)
2021-09-30T18:34:32.7584241+05:30 80000024-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityTypeId]) AS [Key], [c].[CapabilityTypeName] AS [Value]
FROM [CapabilityTypes] AS [c]" (0723d8ff)
2021-09-30T18:34:32.7600665+05:30 80000024-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityVersionId]) AS [Key], [c].[CapabilityVersionName] AS [Value]
FROM [CapabilityVersion] AS [c]" (0723d8ff)
2021-09-30T18:34:32.7612795+05:30 80000024-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DisplayCategoryValue] AS [Key], [d].[DisplayCategoryLabel] AS [Value]
FROM [DisplayCategory] AS [d]" (0723d8ff)
2021-09-30T18:34:32.7614257+05:30 80000024-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.AllCapabilityMasterModel"'. (8a1b66c8)
2021-09-30T18:34:32.7617290+05:30 80000024-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)" in 26.0814ms (afa2e885)
2021-09-30T18:34:32.7617712+05:30 80000024-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:34:32.7618712+05:30 80000024-0001-fb00-b63f-84710c7967bb [INF] Request finished in 27.051ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:35:41.2221902+05:30 80000077-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T18:35:41.2222751+05:30 80000077-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:35:41.2224478+05:30 80000077-0006-fd00-b63f-84710c7967bb [INF] Request finished in 0.3251ms 204  (791a596a)
2021-09-30T18:35:41.2269717+05:30 80000040-0002-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T18:35:41.2270347+05:30 80000040-0002-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:35:41.2271149+05:30 80000040-0002-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T18:35:41.2272523+05:30 80000040-0002-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:35:41.2294707+05:30 80000040-0002-fa00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T18:35:41.2296865+05:30 80000040-0002-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T18:35:41.2301405+05:30 80000040-0002-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 2.818ms (afa2e885)
2021-09-30T18:35:41.2302339+05:30 80000040-0002-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:35:41.2326033+05:30 80000040-0002-fa00-b63f-84710c7967bb [INF] Request finished in 5.5916ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T18:35:41.2391762+05:30 80000040-0002-fa00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("11"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T18:35:41.2437394+05:30 80000040-0002-fa00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
2021-09-30T18:35:43.7065057+05:30 80000014-0005-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:35:43.7066083+05:30 80000014-0005-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:35:43.7066012+05:30 80000026-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:35:43.7066512+05:30 80000026-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:35:43.7067646+05:30 80000014-0005-fc00-b63f-84710c7967bb [INF] Request finished in 0.3012ms 204  (791a596a)
2021-09-30T18:35:43.7067824+05:30 80000026-0001-fb00-b63f-84710c7967bb [INF] Request finished in 0.2101ms 204  (791a596a)
2021-09-30T18:35:43.7081903+05:30 80000020-0007-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T18:35:43.7083108+05:30 80000020-0007-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:35:43.7084358+05:30 80000020-0007-fe00-b63f-84710c7967bb [INF] Request finished in 0.3138ms 204  (791a596a)
2021-09-30T18:35:43.7113039+05:30 80000022-0007-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:35:43.7114372+05:30 80000022-0007-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:35:43.7114939+05:30 80000022-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:35:43.7115344+05:30 80000022-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:35:43.7116031+05:30 80000022-0007-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T18:35:43.7116168+05:30 80000022-0007-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (500cc934)
2021-09-30T18:35:43.7120103+05:30 80000022-0007-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:35:43.7120089+05:30 80000022-0007-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllCapabilityDropdownData\", controller = \"MasterData\"}". Executing controller action with signature "IoT.DataLayer.Models.AllCapabilityMasterModel GetAllCapabilityDropdownData(System.String)" on controller "IoT.WebAPI.Controllers.MasterDataController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:35:43.7149046+05:30 80000004-0007-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T18:35:43.7159658+05:30 80000004-0007-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:35:43.7165078+05:30 80000004-0007-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T18:35:43.7166126+05:30 80000004-0007-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:35:43.7168943+05:30 80000004-0007-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T18:35:43.7176545+05:30 80000004-0007-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.6749ms (afa2e885)
2021-09-30T18:35:43.7192484+05:30 80000004-0007-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:35:43.7193789+05:30 80000022-0007-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T18:35:43.7194056+05:30 80000004-0007-fd00-b63f-84710c7967bb [INF] Request finished in 4.9356ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:35:43.7504913+05:30 80000022-0007-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T18:35:43.7536746+05:30 80000022-0007-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 41.5825ms (afa2e885)
2021-09-30T18:35:43.7537310+05:30 80000022-0007-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:35:43.7538380+05:30 80000022-0007-ff00-b63f-84710c7967bb [INF] Request finished in 42.3508ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:35:43.7576300+05:30 80000022-0007-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T18:35:43.7588053+05:30 80000022-0007-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityInterfaceId]) AS [Key], [c].[CapabilityInterfaceName] AS [Value]
FROM [CapabilityInterface] AS [c]" (0723d8ff)
2021-09-30T18:35:43.7600559+05:30 80000022-0007-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilitySupportedPropertyId]) AS [Key], [c].[CapabilitySupportedPropertyName] AS [Value]
FROM [CapabilitySupportedProperty] AS [c]" (0723d8ff)
2021-09-30T18:35:43.7610640+05:30 80000022-0007-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityTypeId]) AS [Key], [c].[CapabilityTypeName] AS [Value]
FROM [CapabilityTypes] AS [c]" (0723d8ff)
2021-09-30T18:35:43.7633301+05:30 80000022-0007-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityVersionId]) AS [Key], [c].[CapabilityVersionName] AS [Value]
FROM [CapabilityVersion] AS [c]" (0723d8ff)
2021-09-30T18:35:43.7647432+05:30 80000022-0007-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DisplayCategoryValue] AS [Key], [d].[DisplayCategoryLabel] AS [Value]
FROM [DisplayCategory] AS [d]" (0723d8ff)
2021-09-30T18:35:43.7649512+05:30 80000022-0007-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.AllCapabilityMasterModel"'. (8a1b66c8)
2021-09-30T18:35:43.7653573+05:30 80000022-0007-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)" in 53.2678ms (afa2e885)
2021-09-30T18:35:43.7654225+05:30 80000022-0007-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:35:43.7655205+05:30 80000022-0007-fe00-b63f-84710c7967bb [INF] Request finished in 54.2712ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:35:44.2604954+05:30 80000062-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T18:35:44.2606316+05:30 80000062-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:35:44.2607808+05:30 80000062-0004-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T18:35:44.2609704+05:30 80000062-0004-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:35:44.2656952+05:30 80000062-0004-fe00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T18:35:44.2659788+05:30 80000062-0004-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T18:35:44.2667630+05:30 80000062-0004-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 5.6478ms (afa2e885)
2021-09-30T18:35:44.2668926+05:30 80000062-0004-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:35:44.2686464+05:30 80000062-0004-fe00-b63f-84710c7967bb [INF] Request finished in 8.2186ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T18:35:44.2716907+05:30 80000062-0004-fe00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("9"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T18:35:44.2799863+05:30 80000062-0004-fe00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T18:35:47.7794985+05:30 80000037-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:35:47.7796154+05:30 80000037-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:35:47.7796264+05:30 80000016-0005-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T18:35:47.7796642+05:30 80000016-0005-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:35:47.7797486+05:30 80000037-0005-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T18:35:47.7798078+05:30 80000016-0005-fc00-b63f-84710c7967bb [INF] Request finished in 0.1878ms 204  (791a596a)
2021-09-30T18:35:47.7799509+05:30 80000037-0005-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:35:47.7811226+05:30 80000024-0007-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T18:35:47.7815481+05:30 80000024-0007-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:35:47.7821921+05:30 80000024-0007-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T18:35:47.7825797+05:30 80000024-0007-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:35:47.7826795+05:30 80000037-0005-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T18:35:47.7834679+05:30 80000024-0007-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T18:35:47.7836256+05:30 80000037-0005-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T18:35:47.7837569+05:30 80000024-0007-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 1.0859ms (afa2e885)
2021-09-30T18:35:47.7838866+05:30 80000024-0007-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:35:47.7839370+05:30 80000037-0005-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 3.9484ms (afa2e885)
2021-09-30T18:35:47.7839476+05:30 80000024-0007-fe00-b63f-84710c7967bb [INF] Request finished in 3.0096ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:35:47.7839905+05:30 80000037-0005-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:35:47.7842526+05:30 80000037-0005-fb00-b63f-84710c7967bb [INF] Request finished in 4.8377ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:35:47.7846684+05:30 80000028-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T18:35:47.7847187+05:30 80000028-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:35:47.7848348+05:30 80000028-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-30T18:35:47.7849144+05:30 80000028-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllDeviceCapability(System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:35:47.7857976+05:30 80000028-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T18:35:47.7900153+05:30 80000028-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
ORDER BY [d].[CapabilityType]" (0723d8ff)
2021-09-30T18:35:47.7905040+05:30 80000028-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[IoT.DataLayer.Models.DeviceCapability, IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-30T18:35:47.7907952+05:30 80000028-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)" in 5.8241ms (afa2e885)
2021-09-30T18:35:47.7908358+05:30 80000028-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:35:47.7908997+05:30 80000028-0001-fb00-b63f-84710c7967bb [INF] Request finished in 6.249ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:35:48.7948659+05:30 80000064-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T18:35:48.7949313+05:30 80000064-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:35:48.7950677+05:30 80000064-0004-fe00-b63f-84710c7967bb [INF] Request finished in 0.2307ms 204  (791a596a)
2021-09-30T18:35:48.7984038+05:30 8000005a-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T18:35:48.7985025+05:30 8000005a-0000-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:35:48.7985793+05:30 8000005a-0000-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T18:35:48.7986697+05:30 8000005a-0000-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:35:48.7999143+05:30 8000005a-0000-f900-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T18:35:48.7999944+05:30 8000005a-0000-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T18:35:48.8001908+05:30 8000005a-0000-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1.4777ms (afa2e885)
2021-09-30T18:35:48.8002266+05:30 8000005a-0000-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:35:48.8009883+05:30 8000005a-0000-f900-b63f-84710c7967bb [INF] Request finished in 2.5825ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T18:35:48.8015692+05:30 8000005a-0000-f900-b63f-84710c7967bb [ERR] Failed executing DbCommand ("2"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T18:35:48.8037557+05:30 8000005a-0000-f900-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T18:36:00.5071611+05:30 80000066-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:36:00.5072839+05:30 80000066-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:36:00.5074399+05:30 80000066-0004-fe00-b63f-84710c7967bb [INF] Request finished in 0.3122ms 204  (791a596a)
2021-09-30T18:36:00.5076036+05:30 8000005c-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:36:00.5076738+05:30 8000005c-0000-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:36:00.5078032+05:30 8000005c-0000-f900-b63f-84710c7967bb [INF] Request finished in 0.2015ms 204  (791a596a)
2021-09-30T18:36:00.5086508+05:30 80000079-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T18:36:00.5087316+05:30 80000079-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:36:00.5089458+05:30 80000079-0006-fd00-b63f-84710c7967bb [INF] Request finished in 0.235ms 204  (791a596a)
2021-09-30T18:36:00.5140155+05:30 8000002c-0003-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:36:00.5142749+05:30 8000002c-0003-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:36:00.5145159+05:30 8000000c-0003-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:36:00.5146430+05:30 8000000c-0003-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:36:00.5146805+05:30 8000002c-0003-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (500cc934)
2021-09-30T18:36:00.5148404+05:30 8000000c-0003-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T18:36:00.5148802+05:30 8000002c-0003-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllCapabilityDropdownData\", controller = \"MasterData\"}". Executing controller action with signature "IoT.DataLayer.Models.AllCapabilityMasterModel GetAllCapabilityDropdownData(System.String)" on controller "IoT.WebAPI.Controllers.MasterDataController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:36:00.5150644+05:30 8000000c-0003-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:36:00.5154833+05:30 80000068-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T18:36:00.5155304+05:30 80000068-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:36:00.5156565+05:30 80000068-0004-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T18:36:00.5158620+05:30 80000068-0004-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:36:00.5160957+05:30 80000068-0004-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T18:36:00.5164382+05:30 80000068-0004-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.5074ms (afa2e885)
2021-09-30T18:36:00.5164848+05:30 80000068-0004-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:36:00.5165677+05:30 80000068-0004-fe00-b63f-84710c7967bb [INF] Request finished in 1.1091ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:36:00.5236906+05:30 8000002c-0003-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T18:36:00.5243558+05:30 8000002c-0003-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityInterfaceId]) AS [Key], [c].[CapabilityInterfaceName] AS [Value]
FROM [CapabilityInterface] AS [c]" (0723d8ff)
2021-09-30T18:36:00.5249749+05:30 8000002c-0003-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilitySupportedPropertyId]) AS [Key], [c].[CapabilitySupportedPropertyName] AS [Value]
FROM [CapabilitySupportedProperty] AS [c]" (0723d8ff)
2021-09-30T18:36:00.5254873+05:30 8000002c-0003-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityTypeId]) AS [Key], [c].[CapabilityTypeName] AS [Value]
FROM [CapabilityTypes] AS [c]" (0723d8ff)
2021-09-30T18:36:00.5260156+05:30 8000002c-0003-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityVersionId]) AS [Key], [c].[CapabilityVersionName] AS [Value]
FROM [CapabilityVersion] AS [c]" (0723d8ff)
2021-09-30T18:36:00.5269285+05:30 8000002c-0003-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DisplayCategoryValue] AS [Key], [d].[DisplayCategoryLabel] AS [Value]
FROM [DisplayCategory] AS [d]" (0723d8ff)
2021-09-30T18:36:00.5271462+05:30 8000002c-0003-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.AllCapabilityMasterModel"'. (8a1b66c8)
2021-09-30T18:36:00.5274873+05:30 8000002c-0003-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)" in 12.5467ms (afa2e885)
2021-09-30T18:36:00.5292742+05:30 8000002c-0003-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:36:00.5294452+05:30 8000002c-0003-fd00-b63f-84710c7967bb [INF] Request finished in 15.6526ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:36:00.5327580+05:30 8000000c-0003-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T18:36:00.5331212+05:30 8000000c-0003-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T18:36:00.5335427+05:30 8000000c-0003-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 18.3989ms (afa2e885)
2021-09-30T18:36:00.5335987+05:30 8000000c-0003-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:36:00.5336977+05:30 8000000c-0003-fc00-b63f-84710c7967bb [INF] Request finished in 19.2308ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:36:01.1144634+05:30 8000006a-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T18:36:01.1145053+05:30 8000006a-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:36:01.1145934+05:30 8000006a-0004-fe00-b63f-84710c7967bb [INF] Request finished in 0.1526ms 204  (791a596a)
2021-09-30T18:36:01.1170467+05:30 8000006c-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T18:36:01.1170911+05:30 8000006c-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:36:01.1171513+05:30 8000006c-0004-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T18:36:01.1172217+05:30 8000006c-0004-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:36:01.1184349+05:30 8000006c-0004-fe00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T18:36:01.1185215+05:30 8000006c-0004-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T18:36:01.1187182+05:30 8000006c-0004-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1.4517ms (afa2e885)
2021-09-30T18:36:01.1187583+05:30 8000006c-0004-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:36:01.1194739+05:30 8000006c-0004-fe00-b63f-84710c7967bb [INF] Request finished in 2.3635ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T18:36:01.1202058+05:30 8000006c-0004-fe00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("2"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T18:36:01.1224837+05:30 8000006c-0004-fe00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T18:37:23.6419900+05:30 80000026-0007-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T18:37:23.6420761+05:30 80000026-0007-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:37:23.6422152+05:30 80000026-0007-fe00-b63f-84710c7967bb [INF] Request finished in 0.3218ms 204  (791a596a)
2021-09-30T18:37:23.6424364+05:30 8000007b-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:37:23.6424803+05:30 8000007b-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:37:23.6425760+05:30 8000007b-0006-fd00-b63f-84710c7967bb [INF] Request finished in 0.1442ms 204  (791a596a)
2021-09-30T18:37:23.6434473+05:30 8000000e-0003-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T18:37:23.6435064+05:30 8000000e-0003-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:37:23.6436429+05:30 8000000e-0003-fc00-b63f-84710c7967bb [INF] Request finished in 0.2176ms 204  (791a596a)
2021-09-30T18:37:23.6474284+05:30 8000007d-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T18:37:23.6474285+05:30 8000010a-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T18:37:23.6474406+05:30 8000002a-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:37:23.6474763+05:30 8000002a-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:37:23.6474763+05:30 8000007d-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:37:23.6474768+05:30 8000010a-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:37:23.6475409+05:30 8000002a-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T18:37:23.6475474+05:30 8000007d-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T18:37:23.6475519+05:30 8000010a-0004-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-30T18:37:23.6476177+05:30 8000007d-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:37:23.6476177+05:30 8000010a-0004-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllDeviceCapability(System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:37:23.6476200+05:30 8000002a-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:37:23.6479378+05:30 8000007d-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T18:37:23.6555189+05:30 8000007d-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 7.8335ms (afa2e885)
2021-09-30T18:37:23.6556968+05:30 8000007d-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:37:23.6558293+05:30 8000007d-0006-fd00-b63f-84710c7967bb [INF] Request finished in 8.4152ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:37:23.6618821+05:30 8000002a-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("6"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T18:37:23.6629006+05:30 8000002a-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T18:37:23.6632117+05:30 8000002a-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 15.5502ms (afa2e885)
2021-09-30T18:37:23.6632600+05:30 8000002a-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:37:23.6633585+05:30 8000002a-0001-fb00-b63f-84710c7967bb [INF] Request finished in 15.9444ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:37:23.6668044+05:30 8000010a-0004-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T18:37:23.6708014+05:30 8000010a-0004-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
ORDER BY [d].[CapabilityType]" (0723d8ff)
2021-09-30T18:37:23.6713035+05:30 8000010a-0004-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[IoT.DataLayer.Models.DeviceCapability, IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-30T18:37:23.6716113+05:30 8000010a-0004-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)" in 23.9446ms (afa2e885)
2021-09-30T18:37:23.6716488+05:30 8000010a-0004-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:37:23.6717107+05:30 8000010a-0004-ff00-b63f-84710c7967bb [INF] Request finished in 24.3061ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:37:24.1763304+05:30 8000010c-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T18:37:24.1763747+05:30 8000010c-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:37:24.1764645+05:30 8000010c-0004-ff00-b63f-84710c7967bb [INF] Request finished in 0.1939ms 204  (791a596a)
2021-09-30T18:37:24.1792324+05:30 8000007f-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T18:37:24.1792730+05:30 8000007f-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:37:24.1793900+05:30 8000007f-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T18:37:24.1794803+05:30 8000007f-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:37:24.1806381+05:30 8000007f-0006-fd00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T18:37:24.1807142+05:30 8000007f-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T18:37:24.1809059+05:30 8000007f-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1.3816ms (afa2e885)
2021-09-30T18:37:24.1809411+05:30 8000007f-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:37:24.1815820+05:30 8000007f-0006-fd00-b63f-84710c7967bb [INF] Request finished in 2.3331ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T18:37:24.1827942+05:30 8000007f-0006-fd00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("3"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T18:37:24.1850622+05:30 8000007f-0006-fd00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T18:37:28.2438911+05:30 8000005e-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:37:28.2445179+05:30 8000005e-0000-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:37:28.2447774+05:30 8000005e-0000-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T18:37:28.2449184+05:30 80000081-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:37:28.2450814+05:30 80000081-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:37:28.2450999+05:30 8000005e-0000-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:37:28.2454632+05:30 80000081-0006-fd00-b63f-84710c7967bb [INF] Request finished in 0.7604ms 204  (791a596a)
2021-09-30T18:37:28.2496761+05:30 80000083-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T18:37:28.2500494+05:30 80000083-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:37:28.2513397+05:30 8000005e-0000-f900-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T18:37:28.2514206+05:30 80000083-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T18:37:28.2526686+05:30 80000083-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:37:28.2543615+05:30 8000005e-0000-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T18:37:28.2557004+05:30 80000083-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T18:37:28.2566851+05:30 8000005e-0000-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 11.2006ms (afa2e885)
2021-09-30T18:37:28.2568333+05:30 8000005e-0000-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:37:28.2568361+05:30 80000083-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 4.0398ms (afa2e885)
2021-09-30T18:37:28.2569237+05:30 80000083-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:37:28.2570764+05:30 80000083-0006-fd00-b63f-84710c7967bb [INF] Request finished in 7.6759ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:37:28.2571072+05:30 8000005e-0000-f900-b63f-84710c7967bb [INF] Request finished in 13.2703ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:37:28.2584766+05:30 80000039-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:37:28.2586243+05:30 80000039-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:37:28.2588451+05:30 80000039-0005-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (500cc934)
2021-09-30T18:37:28.2590771+05:30 80000039-0005-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllCapabilityDropdownData\", controller = \"MasterData\"}". Executing controller action with signature "IoT.DataLayer.Models.AllCapabilityMasterModel GetAllCapabilityDropdownData(System.String)" on controller "IoT.WebAPI.Controllers.MasterDataController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:37:28.2614472+05:30 80000039-0005-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T18:37:28.2661835+05:30 80000039-0005-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityInterfaceId]) AS [Key], [c].[CapabilityInterfaceName] AS [Value]
FROM [CapabilityInterface] AS [c]" (0723d8ff)
2021-09-30T18:37:28.2682439+05:30 80000039-0005-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilitySupportedPropertyId]) AS [Key], [c].[CapabilitySupportedPropertyName] AS [Value]
FROM [CapabilitySupportedProperty] AS [c]" (0723d8ff)
2021-09-30T18:37:28.2699534+05:30 80000039-0005-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityTypeId]) AS [Key], [c].[CapabilityTypeName] AS [Value]
FROM [CapabilityTypes] AS [c]" (0723d8ff)
2021-09-30T18:37:28.2715660+05:30 80000039-0005-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityVersionId]) AS [Key], [c].[CapabilityVersionName] AS [Value]
FROM [CapabilityVersion] AS [c]" (0723d8ff)
2021-09-30T18:37:28.2728329+05:30 80000039-0005-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DisplayCategoryValue] AS [Key], [d].[DisplayCategoryLabel] AS [Value]
FROM [DisplayCategory] AS [d]" (0723d8ff)
2021-09-30T18:37:28.2729902+05:30 80000039-0005-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.AllCapabilityMasterModel"'. (8a1b66c8)
2021-09-30T18:37:28.2733518+05:30 80000039-0005-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)" in 14.1773ms (afa2e885)
2021-09-30T18:37:28.2734047+05:30 80000039-0005-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:37:28.2734856+05:30 80000039-0005-fb00-b63f-84710c7967bb [INF] Request finished in 15.4886ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:37:28.7918785+05:30 8000002c-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T18:37:28.7923532+05:30 8000002c-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:37:28.7925101+05:30 8000002c-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T18:37:28.7927034+05:30 8000002c-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:37:28.7962766+05:30 8000002c-0001-fb00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T18:37:28.7965425+05:30 8000002c-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T18:37:28.7972312+05:30 8000002c-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 4.3681ms (afa2e885)
2021-09-30T18:37:28.7973413+05:30 8000002c-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:37:28.8007517+05:30 8000002c-0001-fb00-b63f-84710c7967bb [INF] Request finished in 8.8467ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T18:37:28.8034550+05:30 8000002c-0001-fb00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("9"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T18:37:28.8078750+05:30 8000002c-0001-fb00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T18:38:42.5863497+05:30 80000060-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:38:42.5864031+05:30 80000060-0000-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:38:42.5864177+05:30 80000085-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:38:42.5865658+05:30 80000085-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:38:42.5866455+05:30 80000085-0006-fd00-b63f-84710c7967bb [INF] Request finished in 0.2483ms 204  (791a596a)
2021-09-30T18:38:42.5866467+05:30 80000060-0000-f900-b63f-84710c7967bb [INF] Request finished in 0.3247ms 204  (791a596a)
2021-09-30T18:38:42.5869324+05:30 80000018-0005-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T18:38:42.5869695+05:30 80000018-0005-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:38:42.5870582+05:30 80000018-0005-fc00-b63f-84710c7967bb [INF] Request finished in 0.1402ms 204  (791a596a)
2021-09-30T18:38:42.5927773+05:30 80000062-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T18:38:42.5927893+05:30 80000028-0007-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:38:42.5929297+05:30 80000062-0000-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:38:42.5929406+05:30 80000024-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:38:42.5929425+05:30 80000028-0007-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:38:42.5936876+05:30 80000024-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:38:42.5937338+05:30 80000028-0007-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (500cc934)
2021-09-30T18:38:42.5937338+05:30 80000062-0000-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T18:38:42.5937535+05:30 80000024-0007-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T18:38:42.5938148+05:30 80000024-0007-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:38:42.5938222+05:30 80000062-0000-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:38:42.5963704+05:30 80000028-0007-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllCapabilityDropdownData\", controller = \"MasterData\"}". Executing controller action with signature "IoT.DataLayer.Models.AllCapabilityMasterModel GetAllCapabilityDropdownData(System.String)" on controller "IoT.WebAPI.Controllers.MasterDataController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:38:42.5972055+05:30 80000062-0000-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T18:38:42.6006599+05:30 80000062-0000-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 6.7712ms (afa2e885)
2021-09-30T18:38:42.6007060+05:30 80000062-0000-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:38:42.6008940+05:30 80000062-0000-f900-b63f-84710c7967bb [INF] Request finished in 8.0353ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:38:42.6130226+05:30 80000028-0007-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T18:38:42.6151540+05:30 80000028-0007-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityInterfaceId]) AS [Key], [c].[CapabilityInterfaceName] AS [Value]
FROM [CapabilityInterface] AS [c]" (0723d8ff)
2021-09-30T18:38:42.6180601+05:30 80000024-0007-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T18:38:42.6192686+05:30 80000024-0007-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T18:38:42.6248781+05:30 80000028-0007-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilitySupportedPropertyId]) AS [Key], [c].[CapabilitySupportedPropertyName] AS [Value]
FROM [CapabilitySupportedProperty] AS [c]" (0723d8ff)
2021-09-30T18:38:42.6251907+05:30 80000024-0007-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 31.3229ms (afa2e885)
2021-09-30T18:38:42.6253551+05:30 80000024-0007-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:38:42.6254576+05:30 80000024-0007-ff00-b63f-84710c7967bb [INF] Request finished in 32.6355ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:38:42.6296796+05:30 80000028-0007-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityTypeId]) AS [Key], [c].[CapabilityTypeName] AS [Value]
FROM [CapabilityTypes] AS [c]" (0723d8ff)
2021-09-30T18:38:42.6309664+05:30 80000028-0007-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityVersionId]) AS [Key], [c].[CapabilityVersionName] AS [Value]
FROM [CapabilityVersion] AS [c]" (0723d8ff)
2021-09-30T18:38:42.6319896+05:30 80000028-0007-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DisplayCategoryValue] AS [Key], [d].[DisplayCategoryLabel] AS [Value]
FROM [DisplayCategory] AS [d]" (0723d8ff)
2021-09-30T18:38:42.6321119+05:30 80000028-0007-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.AllCapabilityMasterModel"'. (8a1b66c8)
2021-09-30T18:38:42.6324618+05:30 80000028-0007-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)" in 35.2753ms (afa2e885)
2021-09-30T18:38:42.6326435+05:30 80000028-0007-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:38:42.6327537+05:30 80000028-0007-fe00-b63f-84710c7967bb [INF] Request finished in 39.9785ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:38:43.1132516+05:30 8000010e-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T18:38:43.1133717+05:30 8000010e-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:38:43.1138516+05:30 8000010e-0004-ff00-b63f-84710c7967bb [INF] Request finished in 0.5103ms 204  (791a596a)
2021-09-30T18:38:43.1223721+05:30 80000110-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T18:38:43.1224963+05:30 80000110-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:38:43.1226284+05:30 80000110-0004-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T18:38:43.1228083+05:30 80000110-0004-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:38:43.1266471+05:30 80000110-0004-ff00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T18:38:43.1268806+05:30 80000110-0004-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T18:38:43.1276239+05:30 80000110-0004-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 4.6282ms (afa2e885)
2021-09-30T18:38:43.1277828+05:30 80000110-0004-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:38:43.1299695+05:30 80000110-0004-ff00-b63f-84710c7967bb [INF] Request finished in 7.6163ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T18:38:43.1317385+05:30 80000110-0004-ff00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("7"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T18:38:43.1353307+05:30 80000110-0004-ff00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T18:38:46.1913826+05:30 8000002a-0007-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T18:38:46.1914076+05:30 80000026-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:38:46.1914675+05:30 8000002a-0007-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:38:46.1914675+05:30 80000026-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:38:46.1915796+05:30 80000026-0007-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T18:38:46.1916463+05:30 8000002a-0007-fe00-b63f-84710c7967bb [INF] Request finished in 0.4141ms 204  (791a596a)
2021-09-30T18:38:46.1917528+05:30 80000026-0007-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:38:46.1969323+05:30 80000026-0007-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T18:38:46.1971741+05:30 80000112-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T18:38:46.1972944+05:30 80000112-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:38:46.1974066+05:30 80000112-0004-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T18:38:46.1975618+05:30 80000112-0004-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:38:46.1975690+05:30 80000026-0007-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T18:38:46.1979595+05:30 80000026-0007-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 6.0239ms (afa2e885)
2021-09-30T18:38:46.1979712+05:30 80000112-0004-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T18:38:46.1980504+05:30 80000026-0007-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:38:46.1982686+05:30 80000112-0004-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.6406ms (afa2e885)
2021-09-30T18:38:46.1983003+05:30 80000112-0004-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:38:46.1983816+05:30 80000112-0004-ff00-b63f-84710c7967bb [INF] Request finished in 1.2445ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:38:46.1987317+05:30 80000026-0007-ff00-b63f-84710c7967bb [INF] Request finished in 7.3646ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:38:46.1997046+05:30 80000028-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T18:38:46.1997992+05:30 80000028-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:38:46.1999316+05:30 80000028-0007-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-30T18:38:46.2000313+05:30 80000028-0007-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllDeviceCapability(System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:38:46.2014838+05:30 80000028-0007-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T18:38:46.2071188+05:30 80000028-0007-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
ORDER BY [d].[CapabilityType]" (0723d8ff)
2021-09-30T18:38:46.2075563+05:30 80000028-0007-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[IoT.DataLayer.Models.DeviceCapability, IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-30T18:38:46.2078236+05:30 80000028-0007-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)" in 7.7447ms (afa2e885)
2021-09-30T18:38:46.2078639+05:30 80000028-0007-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:38:46.2079543+05:30 80000028-0007-ff00-b63f-84710c7967bb [INF] Request finished in 8.2884ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:38:46.7154454+05:30 8000002a-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T18:38:46.7155664+05:30 8000002a-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:38:46.7157083+05:30 8000002a-0007-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T18:38:46.7158770+05:30 8000002a-0007-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:38:46.7200127+05:30 8000002a-0007-ff00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T18:38:46.7203196+05:30 8000002a-0007-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T18:38:46.7214453+05:30 8000002a-0007-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 5.4093ms (afa2e885)
2021-09-30T18:38:46.7215872+05:30 8000002a-0007-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:38:46.7248541+05:30 8000002a-0007-ff00-b63f-84710c7967bb [INF] Request finished in 9.3998ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T18:38:46.7264783+05:30 8000002a-0007-ff00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("9"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T18:38:46.7372540+05:30 8000002a-0007-ff00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T18:38:48.9824047+05:30 80000114-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:38:48.9824949+05:30 80000114-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:38:48.9826522+05:30 80000114-0004-ff00-b63f-84710c7967bb [INF] Request finished in 0.445ms 204  (791a596a)
2021-09-30T18:38:48.9917538+05:30 80000087-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:38:48.9918000+05:30 80000087-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:38:48.9918755+05:30 80000087-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (500cc934)
2021-09-30T18:38:48.9919832+05:30 80000087-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllCapabilityDropdownData\", controller = \"MasterData\"}". Executing controller action with signature "IoT.DataLayer.Models.AllCapabilityMasterModel GetAllCapabilityDropdownData(System.String)" on controller "IoT.WebAPI.Controllers.MasterDataController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:38:48.9970296+05:30 80000087-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T18:38:48.9975877+05:30 80000087-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityInterfaceId]) AS [Key], [c].[CapabilityInterfaceName] AS [Value]
FROM [CapabilityInterface] AS [c]" (0723d8ff)
2021-09-30T18:38:48.9980624+05:30 80000087-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilitySupportedPropertyId]) AS [Key], [c].[CapabilitySupportedPropertyName] AS [Value]
FROM [CapabilitySupportedProperty] AS [c]" (0723d8ff)
2021-09-30T18:38:48.9985745+05:30 80000087-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityTypeId]) AS [Key], [c].[CapabilityTypeName] AS [Value]
FROM [CapabilityTypes] AS [c]" (0723d8ff)
2021-09-30T18:38:48.9990736+05:30 80000087-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityVersionId]) AS [Key], [c].[CapabilityVersionName] AS [Value]
FROM [CapabilityVersion] AS [c]" (0723d8ff)
2021-09-30T18:38:48.9995294+05:30 80000087-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DisplayCategoryValue] AS [Key], [d].[DisplayCategoryLabel] AS [Value]
FROM [DisplayCategory] AS [d]" (0723d8ff)
2021-09-30T18:38:48.9996767+05:30 80000087-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.AllCapabilityMasterModel"'. (8a1b66c8)
2021-09-30T18:38:48.9999279+05:30 80000087-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)" in 7.909ms (afa2e885)
2021-09-30T18:38:48.9999648+05:30 80000087-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:38:49.0000560+05:30 80000087-0006-fd00-b63f-84710c7967bb [INF] Request finished in 8.3211ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:40:58.3206804+05:30 8000006e-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:40:58.3206834+05:30 80000116-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T18:40:58.3207600+05:30 8000006e-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:40:58.3207777+05:30 80000116-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:40:58.3208954+05:30 8000006e-0004-fe00-b63f-84710c7967bb [INF] Request finished in 0.3951ms 204  (791a596a)
2021-09-30T18:40:58.3208950+05:30 80000116-0004-ff00-b63f-84710c7967bb [INF] Request finished in 0.2371ms 204  (791a596a)
2021-09-30T18:40:58.3217534+05:30 80000004-0004-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T18:40:58.3228060+05:30 80000004-0004-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:40:58.3229401+05:30 80000004-0004-fd00-b63f-84710c7967bb [INF] Request finished in 1.2118ms 204  (791a596a)
2021-09-30T18:40:58.3269684+05:30 8000003d-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T18:40:58.3268617+05:30 80000010-0003-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:40:58.3270851+05:30 80000010-0003-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:40:58.3272014+05:30 8000003d-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:40:58.3273643+05:30 80000010-0003-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T18:40:58.3272631+05:30 8000003d-0005-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-30T18:40:58.3282636+05:30 80000010-0003-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:40:58.3288053+05:30 8000003d-0005-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllDeviceCapability(System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:40:58.3288498+05:30 8000001a-0005-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T18:40:58.3288810+05:30 8000001a-0005-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:40:58.3289306+05:30 8000001a-0005-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T18:40:58.3289945+05:30 8000001a-0005-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:40:58.3291293+05:30 8000001a-0005-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T18:40:58.3329031+05:30 8000001a-0005-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 3.8617ms (afa2e885)
2021-09-30T18:40:58.3329452+05:30 8000001a-0005-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:40:58.3337838+05:30 8000001a-0005-fc00-b63f-84710c7967bb [INF] Request finished in 4.3511ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:40:58.3395627+05:30 80000010-0003-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("6"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T18:40:58.3428678+05:30 80000010-0003-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T18:40:58.3431353+05:30 80000010-0003-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 14.3922ms (afa2e885)
2021-09-30T18:40:58.3431860+05:30 80000010-0003-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:40:58.3432936+05:30 80000010-0003-fc00-b63f-84710c7967bb [INF] Request finished in 16.4593ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:40:58.3463738+05:30 8000003d-0005-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T18:40:58.3502089+05:30 8000003d-0005-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
ORDER BY [d].[CapabilityType]" (0723d8ff)
2021-09-30T18:40:58.3507249+05:30 8000003d-0005-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[IoT.DataLayer.Models.DeviceCapability, IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-30T18:40:58.3510472+05:30 8000003d-0005-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)" in 22.1627ms (afa2e885)
2021-09-30T18:40:58.3510886+05:30 8000003d-0005-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:40:58.3511508+05:30 8000003d-0005-fb00-b63f-84710c7967bb [INF] Request finished in 24.2745ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:40:58.8594191+05:30 8000001f-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T18:40:58.8595331+05:30 8000001f-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:40:58.8598079+05:30 8000001f-0000-fa00-b63f-84710c7967bb [INF] Request finished in 0.4959ms 204  (791a596a)
2021-09-30T18:40:58.8694527+05:30 80000006-0004-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T18:40:58.8696157+05:30 80000006-0004-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:40:58.8698410+05:30 80000006-0004-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T18:40:58.8700587+05:30 80000006-0004-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:40:58.8746491+05:30 80000006-0004-fd00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T18:40:58.8748843+05:30 80000006-0004-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T18:40:58.8755769+05:30 80000006-0004-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 5.3578ms (afa2e885)
2021-09-30T18:40:58.8757148+05:30 80000006-0004-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:40:58.8775788+05:30 80000006-0004-fd00-b63f-84710c7967bb [INF] Request finished in 8.1603ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T18:40:58.8807447+05:30 80000006-0004-fd00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("9"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T18:40:58.8873702+05:30 80000006-0004-fd00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T18:41:02.2921121+05:30 8000003f-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:41:02.2921954+05:30 8000003f-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:41:02.2922912+05:30 8000003f-0005-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T18:41:02.2924326+05:30 8000001c-0005-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:41:02.2924673+05:30 8000003f-0005-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:41:02.2924854+05:30 8000001c-0005-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:41:02.2926850+05:30 8000001c-0005-fc00-b63f-84710c7967bb [INF] Request finished in 0.2227ms 204  (791a596a)
2021-09-30T18:41:02.2947756+05:30 8000001e-0005-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T18:41:02.2949650+05:30 8000001e-0005-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:41:02.2955030+05:30 8000001e-0005-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T18:41:02.2958801+05:30 8000001e-0005-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:41:02.2963514+05:30 8000003f-0005-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T18:41:02.2963859+05:30 8000001e-0005-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T18:41:02.2967227+05:30 8000001e-0005-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.6897ms (afa2e885)
2021-09-30T18:41:02.2967934+05:30 8000003f-0005-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T18:41:02.2970154+05:30 8000001e-0005-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:41:02.2971253+05:30 8000003f-0005-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 4.6033ms (afa2e885)
2021-09-30T18:41:02.2971766+05:30 8000003f-0005-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:41:02.2970992+05:30 8000001e-0005-fc00-b63f-84710c7967bb [INF] Request finished in 2.7571ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:41:02.2976707+05:30 8000003f-0005-fb00-b63f-84710c7967bb [INF] Request finished in 5.5837ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:41:02.2982311+05:30 80000089-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:41:02.2982751+05:30 80000089-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:41:02.2983576+05:30 80000089-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (500cc934)
2021-09-30T18:41:02.2984336+05:30 80000089-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllCapabilityDropdownData\", controller = \"MasterData\"}". Executing controller action with signature "IoT.DataLayer.Models.AllCapabilityMasterModel GetAllCapabilityDropdownData(System.String)" on controller "IoT.WebAPI.Controllers.MasterDataController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:41:02.2994224+05:30 80000089-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T18:41:02.3011121+05:30 80000089-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityInterfaceId]) AS [Key], [c].[CapabilityInterfaceName] AS [Value]
FROM [CapabilityInterface] AS [c]" (0723d8ff)
2021-09-30T18:41:02.3025081+05:30 80000089-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilitySupportedPropertyId]) AS [Key], [c].[CapabilitySupportedPropertyName] AS [Value]
FROM [CapabilitySupportedProperty] AS [c]" (0723d8ff)
2021-09-30T18:41:02.3038098+05:30 80000089-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityTypeId]) AS [Key], [c].[CapabilityTypeName] AS [Value]
FROM [CapabilityTypes] AS [c]" (0723d8ff)
2021-09-30T18:41:02.3050788+05:30 80000089-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityVersionId]) AS [Key], [c].[CapabilityVersionName] AS [Value]
FROM [CapabilityVersion] AS [c]" (0723d8ff)
2021-09-30T18:41:02.3061178+05:30 80000089-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DisplayCategoryValue] AS [Key], [d].[DisplayCategoryLabel] AS [Value]
FROM [DisplayCategory] AS [d]" (0723d8ff)
2021-09-30T18:41:02.3062351+05:30 80000089-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.AllCapabilityMasterModel"'. (8a1b66c8)
2021-09-30T18:41:02.3064879+05:30 80000089-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)" in 8.0132ms (afa2e885)
2021-09-30T18:41:02.3065212+05:30 80000089-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:41:02.3065768+05:30 80000089-0006-fd00-b63f-84710c7967bb [INF] Request finished in 8.3647ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:41:02.8485067+05:30 8000008b-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T18:41:02.8485719+05:30 8000008b-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:41:02.8486522+05:30 8000008b-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T18:41:02.8487454+05:30 8000008b-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:41:02.8501344+05:30 8000008b-0006-fd00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T18:41:02.8502090+05:30 8000008b-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T18:41:02.8504316+05:30 8000008b-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1.634ms (afa2e885)
2021-09-30T18:41:02.8504645+05:30 8000008b-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:41:02.8511335+05:30 8000008b-0006-fd00-b63f-84710c7967bb [INF] Request finished in 2.5996ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T18:41:02.8517429+05:30 8000008b-0006-fd00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("2"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T18:41:02.8536579+05:30 8000008b-0006-fd00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T18:44:50.5832423+05:30 80000041-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T18:44:50.5832427+05:30 80000044-0002-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:44:50.5834510+05:30 80000044-0002-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:44:50.5836041+05:30 80000041-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:44:50.5836324+05:30 80000044-0002-fb00-b63f-84710c7967bb [INF] Request finished in 0.434ms 204  (791a596a)
2021-09-30T18:44:50.5837687+05:30 80000041-0005-fb00-b63f-84710c7967bb [INF] Request finished in 0.6157ms 204  (791a596a)
2021-09-30T18:44:50.5839831+05:30 80000030-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:44:50.5858070+05:30 80000030-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:44:50.5860583+05:30 80000030-0001-fb00-b63f-84710c7967bb [INF] Request finished in 2.0588ms 204  (791a596a)
2021-09-30T18:44:50.6053941+05:30 80000046-0002-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:44:50.6054291+05:30 8000002c-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T18:44:50.6055267+05:30 8000002c-0007-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:44:50.6055259+05:30 80000046-0002-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:44:50.6055554+05:30 8000002c-0007-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:44:50.6056484+05:30 8000002c-0007-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T18:44:50.6056570+05:30 8000002c-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:44:50.6056488+05:30 80000046-0002-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (500cc934)
2021-09-30T18:44:50.6056891+05:30 8000002c-0007-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T18:44:50.6057952+05:30 80000046-0002-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllCapabilityDropdownData\", controller = \"MasterData\"}". Executing controller action with signature "IoT.DataLayer.Models.AllCapabilityMasterModel GetAllCapabilityDropdownData(System.String)" on controller "IoT.WebAPI.Controllers.MasterDataController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:44:50.6057940+05:30 8000002c-0007-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:44:50.6058006+05:30 8000002c-0007-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:44:50.6060709+05:30 8000002c-0007-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T18:44:50.6064007+05:30 8000002c-0007-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.555ms (afa2e885)
2021-09-30T18:44:50.6064530+05:30 8000002c-0007-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:44:50.6065334+05:30 8000002c-0007-ff00-b63f-84710c7967bb [INF] Request finished in 1.1149ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:44:50.6616387+05:30 80000046-0002-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T18:44:50.6639924+05:30 80000046-0002-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityInterfaceId]) AS [Key], [c].[CapabilityInterfaceName] AS [Value]
FROM [CapabilityInterface] AS [c]" (0723d8ff)
2021-09-30T18:44:50.6674014+05:30 8000002c-0007-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T18:44:50.6680166+05:30 8000002c-0007-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T18:44:50.6683925+05:30 8000002c-0007-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 62.5211ms (afa2e885)
2021-09-30T18:44:50.6684933+05:30 8000002c-0007-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:44:50.6686536+05:30 8000002c-0007-fe00-b63f-84710c7967bb [INF] Request finished in 63.1041ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:44:50.6687082+05:30 80000046-0002-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilitySupportedPropertyId]) AS [Key], [c].[CapabilitySupportedPropertyName] AS [Value]
FROM [CapabilitySupportedProperty] AS [c]" (0723d8ff)
2021-09-30T18:44:50.6705627+05:30 80000046-0002-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityTypeId]) AS [Key], [c].[CapabilityTypeName] AS [Value]
FROM [CapabilityTypes] AS [c]" (0723d8ff)
2021-09-30T18:44:50.6721543+05:30 80000046-0002-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityVersionId]) AS [Key], [c].[CapabilityVersionName] AS [Value]
FROM [CapabilityVersion] AS [c]" (0723d8ff)
2021-09-30T18:44:50.6734525+05:30 80000046-0002-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DisplayCategoryValue] AS [Key], [d].[DisplayCategoryLabel] AS [Value]
FROM [DisplayCategory] AS [d]" (0723d8ff)
2021-09-30T18:44:50.6735848+05:30 80000046-0002-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.AllCapabilityMasterModel"'. (8a1b66c8)
2021-09-30T18:44:50.6738587+05:30 80000046-0002-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)" in 68.0151ms (afa2e885)
2021-09-30T18:44:50.6738994+05:30 80000046-0002-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:44:50.6739584+05:30 80000046-0002-fb00-b63f-84710c7967bb [INF] Request finished in 68.6435ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:44:51.7573424+05:30 80000048-0002-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T18:44:51.7573855+05:30 80000048-0002-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:44:51.7574621+05:30 80000048-0002-fb00-b63f-84710c7967bb [INF] Request finished in 0.1456ms 204  (791a596a)
2021-09-30T18:44:51.7600599+05:30 8000000a-0004-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T18:44:51.7600999+05:30 8000000a-0004-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:44:51.7601484+05:30 8000000a-0004-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T18:44:51.7602741+05:30 8000000a-0004-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:44:51.7616188+05:30 8000000a-0004-fd00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T18:44:51.7618675+05:30 8000000a-0004-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T18:44:51.7622584+05:30 8000000a-0004-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1.9248ms (afa2e885)
2021-09-30T18:44:51.7623865+05:30 8000000a-0004-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:44:51.7636958+05:30 8000000a-0004-fd00-b63f-84710c7967bb [INF] Request finished in 3.6065ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T18:44:51.7641827+05:30 8000000a-0004-fd00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("3"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T18:44:51.7674776+05:30 8000000a-0004-fd00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T18:44:54.3010511+05:30 80000020-0005-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:44:54.3011013+05:30 80000020-0005-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:44:54.3019964+05:30 80000020-0005-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T18:44:54.3021410+05:30 80000020-0005-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:44:54.3022057+05:30 80000043-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T18:44:54.3022218+05:30 8000002e-0007-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T18:44:54.3022453+05:30 80000043-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:44:54.3022584+05:30 8000002e-0007-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:44:54.3023239+05:30 8000002e-0007-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T18:44:54.3023651+05:30 80000043-0005-fb00-b63f-84710c7967bb [INF] Request finished in 0.1849ms 204  (791a596a)
2021-09-30T18:44:54.3023941+05:30 8000002e-0007-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:44:54.3080080+05:30 8000002e-0007-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T18:44:54.3080479+05:30 8000008d-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T18:44:54.3088468+05:30 8000008d-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:44:54.3089640+05:30 8000008d-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-30T18:44:54.3090603+05:30 8000008d-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllDeviceCapability(System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:44:54.3129458+05:30 8000002e-0007-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 10.3343ms (afa2e885)
2021-09-30T18:44:54.3133170+05:30 8000002e-0007-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:44:54.3135510+05:30 8000002e-0007-fe00-b63f-84710c7967bb [INF] Request finished in 11.2571ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:44:54.3144462+05:30 80000020-0005-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("6"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T18:44:54.3149723+05:30 80000020-0005-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T18:44:54.3155003+05:30 80000020-0005-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 13.2807ms (afa2e885)
2021-09-30T18:44:54.3155869+05:30 80000020-0005-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:44:54.3157244+05:30 80000020-0005-fc00-b63f-84710c7967bb [INF] Request finished in 14.7061ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:44:54.3184944+05:30 8000008d-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T18:44:54.3215108+05:30 8000008d-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
ORDER BY [d].[CapabilityType]" (0723d8ff)
2021-09-30T18:44:54.3219395+05:30 8000008d-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[IoT.DataLayer.Models.DeviceCapability, IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-30T18:44:54.3223465+05:30 8000008d-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)" in 13.2283ms (afa2e885)
2021-09-30T18:44:54.3223895+05:30 8000008d-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:44:54.3224489+05:30 8000008d-0006-fd00-b63f-84710c7967bb [INF] Request finished in 14.5585ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:44:54.8565490+05:30 8000000c-0004-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T18:44:54.8566327+05:30 8000000c-0004-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:44:54.8566814+05:30 8000000c-0004-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T18:44:54.8567932+05:30 8000000c-0004-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:44:54.8578397+05:30 8000000c-0004-fd00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T18:44:54.8579939+05:30 8000000c-0004-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T18:44:54.8582280+05:30 8000000c-0004-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1.3812ms (afa2e885)
2021-09-30T18:44:54.8582846+05:30 8000000c-0004-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:44:54.8589245+05:30 8000000c-0004-fd00-b63f-84710c7967bb [INF] Request finished in 2.2851ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T18:44:54.8596100+05:30 8000000c-0004-fd00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("2"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T18:44:54.8614906+05:30 8000000c-0004-fd00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T18:49:10.2984114+05:30 80000064-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:49:10.2984115+05:30 80000022-0005-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:49:10.2984464+05:30 80000049-0000-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T18:49:10.2985088+05:30 80000049-0000-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:49:10.2985088+05:30 80000064-0000-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:49:10.2985091+05:30 80000022-0005-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:49:10.2986600+05:30 80000064-0000-f900-b63f-84710c7967bb [INF] Request finished in 0.3072ms 204  (791a596a)
2021-09-30T18:49:10.2986601+05:30 80000022-0005-fc00-b63f-84710c7967bb [INF] Request finished in 0.307ms 204  (791a596a)
2021-09-30T18:49:10.2988108+05:30 80000049-0000-fb00-b63f-84710c7967bb [INF] Request finished in 0.3196ms 204  (791a596a)
2021-09-30T18:49:10.3040077+05:30 80000024-0005-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T18:49:10.3040081+05:30 8000008f-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:49:10.3041280+05:30 80000024-0005-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:49:10.3041746+05:30 8000008f-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:49:10.3043723+05:30 80000024-0005-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T18:49:10.3052358+05:30 80000024-0005-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:49:10.3052291+05:30 8000008f-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T18:49:10.3053210+05:30 8000004b-0000-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:49:10.3053680+05:30 8000004b-0000-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:49:10.3053782+05:30 8000008f-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:49:10.3054633+05:30 8000004b-0000-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (500cc934)
2021-09-30T18:49:10.3055946+05:30 80000024-0005-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T18:49:10.3056532+05:30 8000004b-0000-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllCapabilityDropdownData\", controller = \"MasterData\"}". Executing controller action with signature "IoT.DataLayer.Models.AllCapabilityMasterModel GetAllCapabilityDropdownData(System.String)" on controller "IoT.WebAPI.Controllers.MasterDataController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:49:10.3149397+05:30 80000024-0005-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 9.4955ms (afa2e885)
2021-09-30T18:49:10.3151737+05:30 80000024-0005-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:49:10.3164075+05:30 80000024-0005-fc00-b63f-84710c7967bb [INF] Request finished in 11.6083ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:49:10.3319884+05:30 8000004b-0000-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T18:49:10.3335110+05:30 8000004b-0000-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityInterfaceId]) AS [Key], [c].[CapabilityInterfaceName] AS [Value]
FROM [CapabilityInterface] AS [c]" (0723d8ff)
2021-09-30T18:49:10.3364351+05:30 8000008f-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T18:49:10.3367981+05:30 8000008f-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T18:49:10.3371633+05:30 8000008f-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 31.7191ms (afa2e885)
2021-09-30T18:49:10.3372226+05:30 8000008f-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:49:10.3373392+05:30 8000008f-0006-fd00-b63f-84710c7967bb [INF] Request finished in 33.3752ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:49:10.3374329+05:30 8000004b-0000-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilitySupportedPropertyId]) AS [Key], [c].[CapabilitySupportedPropertyName] AS [Value]
FROM [CapabilitySupportedProperty] AS [c]" (0723d8ff)
2021-09-30T18:49:10.3388121+05:30 8000004b-0000-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityTypeId]) AS [Key], [c].[CapabilityTypeName] AS [Value]
FROM [CapabilityTypes] AS [c]" (0723d8ff)
2021-09-30T18:49:10.3404726+05:30 8000004b-0000-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityVersionId]) AS [Key], [c].[CapabilityVersionName] AS [Value]
FROM [CapabilityVersion] AS [c]" (0723d8ff)
2021-09-30T18:49:10.3415974+05:30 8000004b-0000-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DisplayCategoryValue] AS [Key], [d].[DisplayCategoryLabel] AS [Value]
FROM [DisplayCategory] AS [d]" (0723d8ff)
2021-09-30T18:49:10.3417152+05:30 8000004b-0000-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.AllCapabilityMasterModel"'. (8a1b66c8)
2021-09-30T18:49:10.3419680+05:30 8000004b-0000-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)" in 27.2838ms (afa2e885)
2021-09-30T18:49:10.3420342+05:30 8000004b-0000-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:49:10.3421087+05:30 8000004b-0000-fb00-b63f-84710c7967bb [INF] Request finished in 36.8197ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:49:10.8000954+05:30 8000004d-0000-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T18:49:10.8002290+05:30 8000004d-0000-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:49:10.8008959+05:30 8000004d-0000-fb00-b63f-84710c7967bb [INF] Request finished in 0.8675ms 204  (791a596a)
2021-09-30T18:49:10.8073714+05:30 80000118-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T18:49:10.8074346+05:30 80000118-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:49:10.8074975+05:30 80000118-0004-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T18:49:10.8075876+05:30 80000118-0004-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:49:10.8091797+05:30 80000118-0004-ff00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T18:49:10.8093957+05:30 80000118-0004-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T18:49:10.8097358+05:30 80000118-0004-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 2.086ms (afa2e885)
2021-09-30T18:49:10.8098602+05:30 80000118-0004-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:49:10.8115610+05:30 80000118-0004-ff00-b63f-84710c7967bb [INF] Request finished in 4.0428ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T18:49:10.8134859+05:30 80000118-0004-ff00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("5"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T18:49:10.8177986+05:30 80000118-0004-ff00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T18:49:13.3478053+05:30 8000002e-0003-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:49:13.3479726+05:30 8000002e-0003-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:49:13.3481551+05:30 8000002e-0003-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T18:49:13.3483054+05:30 8000002e-0003-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:49:13.3484830+05:30 8000004f-0000-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T18:49:13.3485231+05:30 80000032-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T18:49:13.3485742+05:30 8000004f-0000-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:49:13.3485980+05:30 80000032-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:49:13.3487065+05:30 80000032-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T18:49:13.3487630+05:30 8000004f-0000-fb00-b63f-84710c7967bb [INF] Request finished in 0.3064ms 204  (791a596a)
2021-09-30T18:49:13.3488591+05:30 80000032-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:49:13.3491808+05:30 80000032-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T18:49:13.3504238+05:30 80000032-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.7249ms (afa2e885)
2021-09-30T18:49:13.3513127+05:30 80000032-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:49:13.3516537+05:30 8000002e-0003-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T18:49:13.3523238+05:30 80000032-0001-fb00-b63f-84710c7967bb [INF] Request finished in 3.2893ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:49:13.3559918+05:30 8000002e-0003-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T18:49:13.3563880+05:30 8000002e-0003-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 8.0048ms (afa2e885)
2021-09-30T18:49:13.3564694+05:30 8000002e-0003-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:49:13.3566256+05:30 8000002e-0003-fd00-b63f-84710c7967bb [INF] Request finished in 9.2929ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:49:13.3566912+05:30 80000026-0005-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T18:49:13.3569834+05:30 80000026-0005-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:49:13.3571165+05:30 80000026-0005-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-30T18:49:13.3575257+05:30 80000026-0005-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllDeviceCapability(System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:49:13.3589661+05:30 80000026-0005-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T18:49:13.3651293+05:30 80000026-0005-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
ORDER BY [d].[CapabilityType]" (0723d8ff)
2021-09-30T18:49:13.3657150+05:30 80000026-0005-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[IoT.DataLayer.Models.DeviceCapability, IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-30T18:49:13.3661761+05:30 80000026-0005-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)" in 8.5714ms (afa2e885)
2021-09-30T18:49:13.3662374+05:30 80000026-0005-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:49:13.3663140+05:30 80000026-0005-fc00-b63f-84710c7967bb [INF] Request finished in 9.6474ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:49:13.9652534+05:30 8000004e-0002-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T18:49:13.9653806+05:30 8000004e-0002-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:49:13.9655342+05:30 8000004e-0002-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T18:49:13.9657114+05:30 8000004e-0002-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:49:13.9694856+05:30 8000004e-0002-fb00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T18:49:13.9699141+05:30 8000004e-0002-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T18:49:13.9706047+05:30 8000004e-0002-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 4.745ms (afa2e885)
2021-09-30T18:49:13.9707472+05:30 8000004e-0002-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:49:13.9729095+05:30 8000004e-0002-fb00-b63f-84710c7967bb [INF] Request finished in 7.4789ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T18:49:13.9753196+05:30 8000004e-0002-fb00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("8"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T18:49:13.9824356+05:30 8000004e-0002-fb00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T18:50:31.4748047+05:30 8000002e-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:50:31.4748931+05:30 8000002e-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:50:31.4750364+05:30 8000002e-0007-ff00-b63f-84710c7967bb [INF] Request finished in 0.4859ms 204  (791a596a)
2021-09-30T18:50:31.4753551+05:30 80000030-0007-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:50:31.4755428+05:30 80000030-0007-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:50:31.4757005+05:30 80000030-0007-fe00-b63f-84710c7967bb [INF] Request finished in 0.3678ms 204  (791a596a)
2021-09-30T18:50:31.4776029+05:30 80000066-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T18:50:31.4776842+05:30 80000066-0000-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:50:31.4779205+05:30 80000066-0000-f900-b63f-84710c7967bb [INF] Request finished in 0.3763ms 204  (791a596a)
2021-09-30T18:50:31.4820851+05:30 80000088-0006-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:50:31.4820952+05:30 80000091-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:50:31.4821332+05:30 80000091-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:50:31.4821332+05:30 80000088-0006-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:50:31.4832186+05:30 80000088-0006-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (500cc934)
2021-09-30T18:50:31.4833442+05:30 80000091-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T18:50:31.4833768+05:30 80000088-0006-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllCapabilityDropdownData\", controller = \"MasterData\"}". Executing controller action with signature "IoT.DataLayer.Models.AllCapabilityMasterModel GetAllCapabilityDropdownData(System.String)" on controller "IoT.WebAPI.Controllers.MasterDataController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:50:31.4834104+05:30 80000091-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:50:31.4928107+05:30 80000028-0005-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T18:50:31.4929589+05:30 80000028-0005-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:50:31.4971071+05:30 80000028-0005-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T18:50:31.4976698+05:30 80000028-0005-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:50:31.4985584+05:30 80000028-0005-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T18:50:31.4991345+05:30 80000028-0005-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 1.3449ms (afa2e885)
2021-09-30T18:50:31.4991827+05:30 80000028-0005-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:50:31.4992487+05:30 80000028-0005-fc00-b63f-84710c7967bb [INF] Request finished in 6.9284ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:50:31.5050938+05:30 80000088-0006-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T18:50:31.5064315+05:30 80000088-0006-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityInterfaceId]) AS [Key], [c].[CapabilityInterfaceName] AS [Value]
FROM [CapabilityInterface] AS [c]" (0723d8ff)
2021-09-30T18:50:31.5092205+05:30 80000091-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T18:50:31.5095226+05:30 80000091-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T18:50:31.5099735+05:30 80000091-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 26.4957ms (afa2e885)
2021-09-30T18:50:31.5100371+05:30 80000091-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:50:31.5101508+05:30 80000091-0006-fd00-b63f-84710c7967bb [INF] Request finished in 28.1546ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:50:31.5101803+05:30 80000088-0006-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilitySupportedPropertyId]) AS [Key], [c].[CapabilitySupportedPropertyName] AS [Value]
FROM [CapabilitySupportedProperty] AS [c]" (0723d8ff)
2021-09-30T18:50:31.5115186+05:30 80000088-0006-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityTypeId]) AS [Key], [c].[CapabilityTypeName] AS [Value]
FROM [CapabilityTypes] AS [c]" (0723d8ff)
2021-09-30T18:50:31.5130136+05:30 80000088-0006-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityVersionId]) AS [Key], [c].[CapabilityVersionName] AS [Value]
FROM [CapabilityVersion] AS [c]" (0723d8ff)
2021-09-30T18:50:31.5140373+05:30 80000088-0006-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DisplayCategoryValue] AS [Key], [d].[DisplayCategoryLabel] AS [Value]
FROM [DisplayCategory] AS [d]" (0723d8ff)
2021-09-30T18:50:31.5141550+05:30 80000088-0006-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.AllCapabilityMasterModel"'. (8a1b66c8)
2021-09-30T18:50:31.5143996+05:30 80000088-0006-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)" in 30.98ms (afa2e885)
2021-09-30T18:50:31.5144369+05:30 80000088-0006-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:50:31.5145034+05:30 80000088-0006-fc00-b63f-84710c7967bb [INF] Request finished in 32.5129ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:50:32.0409857+05:30 80000068-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T18:50:32.0410657+05:30 80000068-0000-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:50:32.0412708+05:30 80000068-0000-f900-b63f-84710c7967bb [INF] Request finished in 0.3023ms 204  (791a596a)
2021-09-30T18:50:32.0461939+05:30 80000050-0002-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T18:50:32.0462669+05:30 80000050-0002-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:50:32.0463494+05:30 80000050-0002-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T18:50:32.0464511+05:30 80000050-0002-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:50:32.0483435+05:30 80000050-0002-fb00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T18:50:32.0485550+05:30 80000050-0002-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T18:50:32.0489500+05:30 80000050-0002-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 2.4141ms (afa2e885)
2021-09-30T18:50:32.0490173+05:30 80000050-0002-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:50:32.0650176+05:30 80000050-0002-fb00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("18"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T18:50:32.0687628+05:30 80000050-0002-fb00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T18:50:32.1730529+05:30 80000050-0002-fb00-b63f-84710c7967bb [INF] Request finished in 126.8536ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T18:50:33.5051486+05:30 8000002a-0005-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:50:33.5052350+05:30 8000002a-0005-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:50:33.5056279+05:30 8000002a-0005-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (500cc934)
2021-09-30T18:50:33.5058815+05:30 8000002a-0005-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllCapabilityDropdownData\", controller = \"MasterData\"}". Executing controller action with signature "IoT.DataLayer.Models.AllCapabilityMasterModel GetAllCapabilityDropdownData(System.String)" on controller "IoT.WebAPI.Controllers.MasterDataController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:50:33.5098688+05:30 8000002a-0005-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T18:50:33.5119187+05:30 8000002a-0005-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityInterfaceId]) AS [Key], [c].[CapabilityInterfaceName] AS [Value]
FROM [CapabilityInterface] AS [c]" (0723d8ff)
2021-09-30T18:50:33.5127490+05:30 8000002a-0005-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilitySupportedPropertyId]) AS [Key], [c].[CapabilitySupportedPropertyName] AS [Value]
FROM [CapabilitySupportedProperty] AS [c]" (0723d8ff)
2021-09-30T18:50:33.5133848+05:30 8000002a-0005-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityTypeId]) AS [Key], [c].[CapabilityTypeName] AS [Value]
FROM [CapabilityTypes] AS [c]" (0723d8ff)
2021-09-30T18:50:33.5139903+05:30 8000002a-0005-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityVersionId]) AS [Key], [c].[CapabilityVersionName] AS [Value]
FROM [CapabilityVersion] AS [c]" (0723d8ff)
2021-09-30T18:50:33.5145778+05:30 8000002a-0005-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DisplayCategoryValue] AS [Key], [d].[DisplayCategoryLabel] AS [Value]
FROM [DisplayCategory] AS [d]" (0723d8ff)
2021-09-30T18:50:33.5146916+05:30 8000002a-0005-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.AllCapabilityMasterModel"'. (8a1b66c8)
2021-09-30T18:50:33.5149531+05:30 8000002a-0005-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)" in 8.9187ms (afa2e885)
2021-09-30T18:50:33.5149926+05:30 8000002a-0005-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:50:33.5150520+05:30 8000002a-0005-fc00-b63f-84710c7967bb [INF] Request finished in 9.9896ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:50:35.2856757+05:30 80000052-0002-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T18:50:35.2857410+05:30 80000052-0002-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:50:35.2858284+05:30 8000006a-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T18:50:35.2858396+05:30 80000012-0004-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T18:50:35.2858794+05:30 8000006a-0000-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:50:35.2858787+05:30 80000052-0002-fb00-b63f-84710c7967bb [INF] Request finished in 0.3536ms 204  (791a596a)
2021-09-30T18:50:35.2858801+05:30 80000012-0004-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:50:35.2859665+05:30 80000012-0004-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T18:50:35.2859758+05:30 8000006a-0000-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T18:50:35.2860782+05:30 8000006a-0000-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:50:35.2861008+05:30 80000012-0004-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:50:35.2863247+05:30 8000006a-0000-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T18:50:35.2867380+05:30 8000006a-0000-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.583ms (afa2e885)
2021-09-30T18:50:35.2867977+05:30 8000006a-0000-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:50:35.2868968+05:30 8000006a-0000-f900-b63f-84710c7967bb [INF] Request finished in 1.0624ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:50:35.2898618+05:30 80000012-0004-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T18:50:35.2905990+05:30 80000012-0004-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T18:50:35.2912150+05:30 80000012-0004-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 5.0213ms (afa2e885)
2021-09-30T18:50:35.2912722+05:30 80000012-0004-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:50:35.2913681+05:30 80000032-0007-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T18:50:35.2913781+05:30 80000012-0004-fd00-b63f-84710c7967bb [INF] Request finished in 5.5533ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:50:35.2914212+05:30 80000032-0007-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:50:35.2915272+05:30 80000032-0007-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-30T18:50:35.2916447+05:30 80000032-0007-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllDeviceCapability(System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:50:35.2924391+05:30 80000032-0007-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T18:50:35.2969006+05:30 80000032-0007-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
ORDER BY [d].[CapabilityType]" (0723d8ff)
2021-09-30T18:50:35.2973866+05:30 80000032-0007-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[IoT.DataLayer.Models.DeviceCapability, IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-30T18:50:35.2976854+05:30 80000032-0007-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)" in 5.987ms (afa2e885)
2021-09-30T18:50:35.2977407+05:30 80000032-0007-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:50:35.2978088+05:30 80000032-0007-fe00-b63f-84710c7967bb [INF] Request finished in 6.4504ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T18:50:35.8343509+05:30 8000006c-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T18:50:35.8345188+05:30 8000006c-0000-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:50:35.8346606+05:30 8000006c-0000-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T18:50:35.8348350+05:30 8000006c-0000-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:50:35.8385315+05:30 8000006c-0000-f900-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T18:50:35.8387893+05:30 8000006c-0000-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T18:50:35.8394507+05:30 8000006c-0000-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 4.4971ms (afa2e885)
2021-09-30T18:50:35.8395530+05:30 8000006c-0000-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:50:35.8413293+05:30 8000006c-0000-f900-b63f-84710c7967bb [INF] Request finished in 7.0067ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T18:50:35.8448628+05:30 8000006c-0000-f900-b63f-84710c7967bb [ERR] Failed executing DbCommand ("9"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T18:50:35.8524145+05:30 8000006c-0000-f900-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T18:50:37.7819883+05:30 80000034-0007-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:50:37.7821926+05:30 80000034-0007-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:50:37.7824498+05:30 80000034-0007-fe00-b63f-84710c7967bb [INF] Request finished in 0.5194ms 204  (791a596a)
2021-09-30T18:50:37.7923452+05:30 8000006e-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T18:50:37.7923943+05:30 8000006e-0000-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T18:50:37.7924710+05:30 8000006e-0000-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (500cc934)
2021-09-30T18:50:37.7925423+05:30 8000006e-0000-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllCapabilityDropdownData\", controller = \"MasterData\"}". Executing controller action with signature "IoT.DataLayer.Models.AllCapabilityMasterModel GetAllCapabilityDropdownData(System.String)" on controller "IoT.WebAPI.Controllers.MasterDataController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T18:50:37.7966416+05:30 8000006e-0000-f900-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T18:50:37.7971092+05:30 8000006e-0000-f900-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityInterfaceId]) AS [Key], [c].[CapabilityInterfaceName] AS [Value]
FROM [CapabilityInterface] AS [c]" (0723d8ff)
2021-09-30T18:50:37.7974549+05:30 8000006e-0000-f900-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilitySupportedPropertyId]) AS [Key], [c].[CapabilitySupportedPropertyName] AS [Value]
FROM [CapabilitySupportedProperty] AS [c]" (0723d8ff)
2021-09-30T18:50:37.7978007+05:30 8000006e-0000-f900-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityTypeId]) AS [Key], [c].[CapabilityTypeName] AS [Value]
FROM [CapabilityTypes] AS [c]" (0723d8ff)
2021-09-30T18:50:37.7982231+05:30 8000006e-0000-f900-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityVersionId]) AS [Key], [c].[CapabilityVersionName] AS [Value]
FROM [CapabilityVersion] AS [c]" (0723d8ff)
2021-09-30T18:50:37.7986647+05:30 8000006e-0000-f900-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DisplayCategoryValue] AS [Key], [d].[DisplayCategoryLabel] AS [Value]
FROM [DisplayCategory] AS [d]" (0723d8ff)
2021-09-30T18:50:37.7987691+05:30 8000006e-0000-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.AllCapabilityMasterModel"'. (8a1b66c8)
2021-09-30T18:50:37.7990717+05:30 8000006e-0000-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)" in 6.4842ms (afa2e885)
2021-09-30T18:50:37.7991177+05:30 8000006e-0000-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (99874f2b)
2021-09-30T18:50:37.7993466+05:30 8000006e-0000-f900-b63f-84710c7967bb [INF] Request finished in 7.0059ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:01:51.9190213+05:30 80000070-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T19:01:51.9191004+05:30 80000070-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:01:51.9200801+05:30 80000070-0004-fe00-b63f-84710c7967bb [INF] Request finished in 0.4421ms 204  (791a596a)
2021-09-30T19:01:51.9309595+05:30 80000093-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T19:01:51.9309796+05:30 8000001a-0004-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T19:01:51.9309918+05:30 8000011a-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T19:01:51.9310168+05:30 8000001a-0004-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:01:51.9310172+05:30 80000093-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:01:51.9310384+05:30 8000011a-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:01:51.9311243+05:30 80000093-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T19:01:51.9311385+05:30 8000001a-0004-fd00-b63f-84710c7967bb [INF] Request finished in 0.194ms 204  (791a596a)
2021-09-30T19:01:51.9311508+05:30 8000011a-0004-ff00-b63f-84710c7967bb [INF] Request finished in 0.1666ms 204  (791a596a)
2021-09-30T19:01:51.9313015+05:30 80000093-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:01:51.9342983+05:30 80000093-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T19:01:51.9346206+05:30 80000093-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 3.2597ms (afa2e885)
2021-09-30T19:01:51.9346766+05:30 80000093-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:01:51.9347834+05:30 80000093-0006-fd00-b63f-84710c7967bb [INF] Request finished in 4.9922ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:01:51.9358154+05:30 8000005c-0002-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T19:01:51.9358163+05:30 80000014-0003-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T19:01:51.9358776+05:30 8000005c-0002-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:01:51.9358975+05:30 80000014-0003-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:01:51.9359838+05:30 8000005c-0002-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T19:01:51.9359892+05:30 80000014-0003-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-30T19:01:51.9360853+05:30 8000005c-0002-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:01:51.9362182+05:30 80000014-0003-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllDeviceCapability(System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:01:51.9490353+05:30 80000014-0003-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T19:01:51.9531803+05:30 80000014-0003-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
ORDER BY [d].[CapabilityType]" (0723d8ff)
2021-09-30T19:01:51.9534101+05:30 8000005c-0002-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T19:01:51.9542801+05:30 8000005c-0002-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T19:01:51.9544137+05:30 80000014-0003-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[IoT.DataLayer.Models.DeviceCapability, IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-30T19:01:51.9576116+05:30 80000014-0003-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)" in 21.3306ms (afa2e885)
2021-09-30T19:01:51.9576587+05:30 80000014-0003-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:01:51.9576117+05:30 8000005c-0002-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 21.4383ms (afa2e885)
2021-09-30T19:01:51.9577025+05:30 8000005c-0002-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:01:51.9577290+05:30 80000014-0003-fc00-b63f-84710c7967bb [INF] Request finished in 21.9289ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:01:51.9578992+05:30 8000005c-0002-fb00-b63f-84710c7967bb [INF] Request finished in 22.05ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:01:53.1150505+05:30 80000016-0003-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T19:01:53.1151983+05:30 80000016-0003-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:01:53.1155215+05:30 80000016-0003-fc00-b63f-84710c7967bb [INF] Request finished in 0.5961ms 204  (791a596a)
2021-09-30T19:01:53.1234735+05:30 80000018-0003-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T19:01:53.1235949+05:30 80000018-0003-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:01:53.1237380+05:30 80000018-0003-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T19:01:53.1239159+05:30 80000018-0003-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:01:53.1273487+05:30 80000018-0003-fc00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T19:01:53.1275292+05:30 80000018-0003-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T19:01:53.1282484+05:30 80000018-0003-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 4.1829ms (afa2e885)
2021-09-30T19:01:53.1283774+05:30 80000018-0003-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:01:53.1300638+05:30 80000018-0003-fc00-b63f-84710c7967bb [INF] Request finished in 6.5901ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T19:01:53.1327731+05:30 80000018-0003-fc00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("7"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T19:01:53.1371323+05:30 80000018-0003-fc00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T19:02:20.2254108+05:30 80000053-0000-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T19:02:20.2256630+05:30 80000053-0000-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:02:20.2260038+05:30 80000053-0000-fb00-b63f-84710c7967bb [INF] Request finished in 0.6818ms 204  (791a596a)
2021-09-30T19:02:20.2260797+05:30 8000005e-0002-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T19:02:20.2261258+05:30 8000005e-0002-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:02:20.2262175+05:30 8000005e-0002-fb00-b63f-84710c7967bb [INF] Request finished in 0.1617ms 204  (791a596a)
2021-09-30T19:02:20.2275055+05:30 8000011c-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T19:02:20.2275855+05:30 8000011c-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:02:20.2278564+05:30 8000011c-0004-ff00-b63f-84710c7967bb [INF] Request finished in 0.3782ms 204  (791a596a)
2021-09-30T19:02:20.2307338+05:30 80000030-0003-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T19:02:20.2307259+05:30 8000001a-0003-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T19:02:20.2307797+05:30 8000001a-0003-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:02:20.2307783+05:30 80000030-0003-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:02:20.2308659+05:30 80000030-0003-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T19:02:20.2308659+05:30 8000001a-0003-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-30T19:02:20.2309469+05:30 8000001a-0003-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllDeviceCapability(System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:02:20.2309457+05:30 80000030-0003-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:02:20.2311302+05:30 80000060-0002-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T19:02:20.2311646+05:30 80000060-0002-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:02:20.2312248+05:30 80000060-0002-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T19:02:20.2312924+05:30 80000060-0002-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:02:20.2314882+05:30 80000060-0002-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T19:02:20.2319850+05:30 80000060-0002-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.5953ms (afa2e885)
2021-09-30T19:02:20.2321640+05:30 80000060-0002-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:02:20.2324548+05:30 80000060-0002-fb00-b63f-84710c7967bb [INF] Request finished in 1.2604ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:02:20.2378284+05:30 80000030-0003-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("6"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T19:02:20.2381745+05:30 80000030-0003-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T19:02:20.2384787+05:30 80000030-0003-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 7.4874ms (afa2e885)
2021-09-30T19:02:20.2385730+05:30 80000030-0003-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:02:20.2386763+05:30 80000030-0003-fd00-b63f-84710c7967bb [INF] Request finished in 7.9953ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:02:20.2405037+05:30 8000001a-0003-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T19:02:20.2442601+05:30 8000001a-0003-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
ORDER BY [d].[CapabilityType]" (0723d8ff)
2021-09-30T19:02:20.2448140+05:30 8000001a-0003-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[IoT.DataLayer.Models.DeviceCapability, IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-30T19:02:20.2451299+05:30 8000001a-0003-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)" in 14.1267ms (afa2e885)
2021-09-30T19:02:20.2451724+05:30 8000001a-0003-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:02:20.2452383+05:30 8000001a-0003-fc00-b63f-84710c7967bb [INF] Request finished in 14.5589ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:02:21.8482783+05:30 80000055-0000-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T19:02:21.8484015+05:30 80000055-0000-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:02:21.8486802+05:30 80000055-0000-fb00-b63f-84710c7967bb [INF] Request finished in 0.4629ms 204  (791a596a)
2021-09-30T19:02:21.8558782+05:30 80000062-0002-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T19:02:21.8559995+05:30 80000062-0002-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:02:21.8561296+05:30 80000062-0002-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T19:02:21.8563022+05:30 80000062-0002-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:02:21.8598157+05:30 80000062-0002-fb00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T19:02:21.8600693+05:30 80000062-0002-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T19:02:21.8608544+05:30 80000062-0002-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 4.3569ms (afa2e885)
2021-09-30T19:02:21.8609899+05:30 80000062-0002-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:02:21.8631678+05:30 80000062-0002-fb00-b63f-84710c7967bb [INF] Request finished in 7.2607ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T19:02:21.8676095+05:30 80000062-0002-fb00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("10"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T19:02:21.8726630+05:30 80000062-0002-fb00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T19:02:35.7404708+05:30 80000024-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T19:02:35.7405662+05:30 80000024-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:02:35.7408033+05:30 80000024-0000-fa00-b63f-84710c7967bb [INF] Request finished in 0.3907ms 204  (791a596a)
2021-09-30T19:02:35.7417726+05:30 80000036-0007-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T19:02:35.7417726+05:30 80000030-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T19:02:35.7418309+05:30 80000030-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:02:35.7418309+05:30 80000036-0007-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:02:35.7420008+05:30 80000030-0007-ff00-b63f-84710c7967bb [INF] Request finished in 0.3437ms 204  (791a596a)
2021-09-30T19:02:35.7431687+05:30 80000036-0007-fe00-b63f-84710c7967bb [INF] Request finished in 1.2373ms 204  (791a596a)
2021-09-30T19:02:35.7471234+05:30 80000064-0002-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-30T19:02:35.7471788+05:30 80000064-0002-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:02:35.7472584+05:30 80000064-0002-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-30T19:02:35.7475288+05:30 80000064-0002-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllDeviceCapability(System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:02:35.7478450+05:30 8000001c-0003-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T19:02:35.7478881+05:30 8000001c-0003-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:02:35.7479507+05:30 8000001c-0003-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T19:02:35.7480244+05:30 8000001c-0003-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:02:35.7482065+05:30 8000001c-0003-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T19:02:35.7482524+05:30 8000011e-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T19:02:35.7484324+05:30 8000011e-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:02:35.7484940+05:30 80000064-0002-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T19:02:35.7485139+05:30 8000001c-0003-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.4465ms (afa2e885)
2021-09-30T19:02:35.7485167+05:30 8000011e-0004-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T19:02:35.7485430+05:30 8000001c-0003-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:02:35.7485928+05:30 8000011e-0004-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:02:35.7485994+05:30 8000001c-0003-fc00-b63f-84710c7967bb [INF] Request finished in 0.7806ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:02:35.7496122+05:30 80000064-0002-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
ORDER BY [d].[CapabilityType]" (0723d8ff)
2021-09-30T19:02:35.7514590+05:30 80000064-0002-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[IoT.DataLayer.Models.DeviceCapability, IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-30T19:02:35.7551738+05:30 80000064-0002-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)" in 7.029ms (afa2e885)
2021-09-30T19:02:35.7552474+05:30 80000064-0002-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:02:35.7553448+05:30 80000064-0002-fb00-b63f-84710c7967bb [INF] Request finished in 8.2393ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:02:35.7604064+05:30 8000011e-0004-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T19:02:35.7608061+05:30 8000011e-0004-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T19:02:35.7611049+05:30 8000011e-0004-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 12.4635ms (afa2e885)
2021-09-30T19:02:35.7611689+05:30 8000011e-0004-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:02:35.7613256+05:30 8000011e-0004-ff00-b63f-84710c7967bb [INF] Request finished in 13.0304ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:02:36.6305888+05:30 80000120-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T19:02:36.6306446+05:30 80000120-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:02:36.6307755+05:30 80000120-0004-ff00-b63f-84710c7967bb [INF] Request finished in 0.2167ms 204  (791a596a)
2021-09-30T19:02:36.6345784+05:30 80000066-0002-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T19:02:36.6347520+05:30 80000066-0002-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:02:36.6348179+05:30 80000066-0002-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T19:02:36.6349016+05:30 80000066-0002-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:02:36.6361567+05:30 80000066-0002-fb00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T19:02:36.6362448+05:30 80000066-0002-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T19:02:36.6365102+05:30 80000066-0002-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1.5587ms (afa2e885)
2021-09-30T19:02:36.6365426+05:30 80000066-0002-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:02:36.6374146+05:30 80000066-0002-fb00-b63f-84710c7967bb [INF] Request finished in 2.7395ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T19:02:36.6380066+05:30 80000066-0002-fb00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("3"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T19:02:36.6409630+05:30 80000066-0002-fb00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T19:02:38.6747690+05:30 80000122-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T19:02:38.6751367+05:30 80000122-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:02:38.6761080+05:30 80000122-0004-ff00-b63f-84710c7967bb [INF] Request finished in 1.4686ms 204  (791a596a)
2021-09-30T19:02:38.6834297+05:30 80000124-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T19:02:38.6834836+05:30 80000124-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:02:38.6835758+05:30 80000124-0004-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (500cc934)
2021-09-30T19:02:38.6837580+05:30 80000124-0004-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllCapabilityDropdownData\", controller = \"MasterData\"}". Executing controller action with signature "IoT.DataLayer.Models.AllCapabilityMasterModel GetAllCapabilityDropdownData(System.String)" on controller "IoT.WebAPI.Controllers.MasterDataController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:02:38.6874293+05:30 80000124-0004-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T19:02:38.6887030+05:30 80000124-0004-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityInterfaceId]) AS [Key], [c].[CapabilityInterfaceName] AS [Value]
FROM [CapabilityInterface] AS [c]" (0723d8ff)
2021-09-30T19:02:38.6897246+05:30 80000124-0004-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilitySupportedPropertyId]) AS [Key], [c].[CapabilitySupportedPropertyName] AS [Value]
FROM [CapabilitySupportedProperty] AS [c]" (0723d8ff)
2021-09-30T19:02:38.6907558+05:30 80000124-0004-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityTypeId]) AS [Key], [c].[CapabilityTypeName] AS [Value]
FROM [CapabilityTypes] AS [c]" (0723d8ff)
2021-09-30T19:02:38.6924202+05:30 80000124-0004-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityVersionId]) AS [Key], [c].[CapabilityVersionName] AS [Value]
FROM [CapabilityVersion] AS [c]" (0723d8ff)
2021-09-30T19:02:38.6946626+05:30 80000124-0004-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DisplayCategoryValue] AS [Key], [d].[DisplayCategoryLabel] AS [Value]
FROM [DisplayCategory] AS [d]" (0723d8ff)
2021-09-30T19:02:38.6948985+05:30 80000124-0004-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.AllCapabilityMasterModel"'. (8a1b66c8)
2021-09-30T19:02:38.6951748+05:30 80000124-0004-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)" in 11.3689ms (afa2e885)
2021-09-30T19:02:38.6952215+05:30 80000124-0004-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:02:38.6952821+05:30 80000124-0004-ff00-b63f-84710c7967bb [INF] Request finished in 11.8786ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:15:40.7662997+05:30 80000020-0004-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T19:15:40.7662994+05:30 80000128-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T19:15:40.7665972+05:30 80000020-0004-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:15:40.7666269+05:30 80000128-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:15:40.7698610+05:30 80000020-0004-fd00-b63f-84710c7967bb [INF] Request finished in 3.7165ms 204  (791a596a)
2021-09-30T19:15:40.7699037+05:30 80000128-0004-ff00-b63f-84710c7967bb [INF] Request finished in 3.6757ms 204  (791a596a)
2021-09-30T19:15:40.7813916+05:30 80000036-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T19:15:40.7814998+05:30 80000036-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:15:40.7818692+05:30 80000036-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T19:15:40.7819184+05:30 80000022-0004-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T19:15:40.7820302+05:30 80000022-0004-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:15:40.7821273+05:30 80000036-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:15:40.7821494+05:30 80000022-0004-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T19:15:40.7823191+05:30 80000022-0004-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:15:40.7828310+05:30 80000022-0004-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T19:15:40.7834012+05:30 80000022-0004-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.962ms (afa2e885)
2021-09-30T19:15:40.7834935+05:30 80000022-0004-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:15:40.7854677+05:30 80000022-0004-fd00-b63f-84710c7967bb [INF] Request finished in 1.9527ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:15:40.8096891+05:30 80000036-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T19:15:40.8099458+05:30 80000036-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T19:15:40.8101559+05:30 80000036-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 27.9671ms (afa2e885)
2021-09-30T19:15:40.8101929+05:30 80000036-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:15:40.8102675+05:30 80000036-0001-fb00-b63f-84710c7967bb [INF] Request finished in 28.9425ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:15:41.3029390+05:30 80000024-0004-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T19:15:41.3030903+05:30 80000024-0004-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:15:41.3035854+05:30 80000024-0004-fd00-b63f-84710c7967bb [INF] Request finished in 0.6549ms 204  (791a596a)
2021-09-30T19:15:41.3119471+05:30 8000001e-0003-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T19:15:41.3120611+05:30 8000001e-0003-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:15:41.3122178+05:30 8000001e-0003-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T19:15:41.3123906+05:30 8000001e-0003-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:15:41.3161070+05:30 8000001e-0003-fc00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T19:15:41.3163683+05:30 8000001e-0003-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T19:15:41.3170545+05:30 8000001e-0003-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 4.5068ms (afa2e885)
2021-09-30T19:15:41.3172162+05:30 8000001e-0003-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:15:41.3200553+05:30 8000001e-0003-fc00-b63f-84710c7967bb [INF] Request finished in 7.8306ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T19:15:41.3214055+05:30 8000001e-0003-fc00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("8"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T19:15:41.3277557+05:30 8000001e-0003-fc00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T19:15:52.4821677+05:30 8000002c-0005-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T19:15:52.4822108+05:30 8000002c-0005-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:15:52.4822527+05:30 80000038-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T19:15:52.4822833+05:30 80000038-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:15:52.4823087+05:30 8000002c-0005-fc00-b63f-84710c7967bb [INF] Request finished in 0.1678ms 204  (791a596a)
2021-09-30T19:15:52.4823746+05:30 80000038-0001-fb00-b63f-84710c7967bb [INF] Request finished in 0.1457ms 204  (791a596a)
2021-09-30T19:15:52.4942000+05:30 8000012a-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T19:15:52.4942200+05:30 80000059-0000-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T19:15:52.4942614+05:30 80000059-0000-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:15:52.4942615+05:30 8000012a-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:15:52.4943314+05:30 8000012a-0004-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T19:15:52.4943314+05:30 80000059-0000-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T19:15:52.4944236+05:30 8000012a-0004-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:15:52.4944758+05:30 80000059-0000-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:15:52.4946468+05:30 8000012a-0004-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T19:15:52.4949736+05:30 8000012a-0004-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.4879ms (afa2e885)
2021-09-30T19:15:52.4951828+05:30 8000012a-0004-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:15:52.4953203+05:30 8000012a-0004-ff00-b63f-84710c7967bb [INF] Request finished in 1.1651ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:15:52.5082850+05:30 80000059-0000-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T19:15:52.5085154+05:30 80000059-0000-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T19:15:52.5111000+05:30 80000059-0000-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 16.569ms (afa2e885)
2021-09-30T19:15:52.5111596+05:30 80000059-0000-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:15:52.5112666+05:30 80000059-0000-fb00-b63f-84710c7967bb [INF] Request finished in 17.0446ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:15:53.0281489+05:30 80000099-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T19:15:53.0282433+05:30 80000099-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:15:53.0284882+05:30 80000099-0006-fd00-b63f-84710c7967bb [INF] Request finished in 0.4222ms 204  (791a596a)
2021-09-30T19:15:53.0347235+05:30 8000012c-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T19:15:53.0348146+05:30 8000012c-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:15:53.0349048+05:30 8000012c-0004-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T19:15:53.0350498+05:30 8000012c-0004-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:15:53.0376202+05:30 8000012c-0004-ff00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T19:15:53.0379449+05:30 8000012c-0004-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T19:15:53.0387701+05:30 8000012c-0004-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 3.6032ms (afa2e885)
2021-09-30T19:15:53.0388573+05:30 8000012c-0004-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:15:53.0413529+05:30 8000012c-0004-ff00-b63f-84710c7967bb [INF] Request finished in 6.3594ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T19:15:53.0427627+05:30 8000012c-0004-ff00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("7"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T19:15:53.0471983+05:30 8000012c-0004-ff00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T19:15:56.2339054+05:30 8000012e-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T19:15:56.2339742+05:30 8000012e-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:15:56.2341019+05:30 8000012e-0004-ff00-b63f-84710c7967bb [INF] Request finished in 0.2257ms 204  (791a596a)
2021-09-30T19:15:56.2399218+05:30 80000055-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T19:15:56.2401656+05:30 80000055-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:15:56.2406138+05:30 80000055-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (500cc934)
2021-09-30T19:15:56.2407579+05:30 80000055-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllCapabilityDropdownData\", controller = \"MasterData\"}". Executing controller action with signature "IoT.DataLayer.Models.AllCapabilityMasterModel GetAllCapabilityDropdownData(System.String)" on controller "IoT.WebAPI.Controllers.MasterDataController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:15:56.2473439+05:30 80000055-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T19:15:56.2485630+05:30 80000055-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityInterfaceId]) AS [Key], [c].[CapabilityInterfaceName] AS [Value]
FROM [CapabilityInterface] AS [c]" (0723d8ff)
2021-09-30T19:15:56.2499880+05:30 80000055-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilitySupportedPropertyId]) AS [Key], [c].[CapabilitySupportedPropertyName] AS [Value]
FROM [CapabilitySupportedProperty] AS [c]" (0723d8ff)
2021-09-30T19:15:56.2513047+05:30 80000055-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityTypeId]) AS [Key], [c].[CapabilityTypeName] AS [Value]
FROM [CapabilityTypes] AS [c]" (0723d8ff)
2021-09-30T19:15:56.2526583+05:30 80000055-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityVersionId]) AS [Key], [c].[CapabilityVersionName] AS [Value]
FROM [CapabilityVersion] AS [c]" (0723d8ff)
2021-09-30T19:15:56.2561251+05:30 80000055-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DisplayCategoryValue] AS [Key], [d].[DisplayCategoryLabel] AS [Value]
FROM [DisplayCategory] AS [d]" (0723d8ff)
2021-09-30T19:15:56.2566204+05:30 80000055-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.AllCapabilityMasterModel"'. (8a1b66c8)
2021-09-30T19:15:56.2571470+05:30 80000055-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)" in 16.2409ms (afa2e885)
2021-09-30T19:15:56.2572193+05:30 80000055-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:15:56.2574915+05:30 80000055-0002-f900-b63f-84710c7967bb [INF] Request finished in 17.6614ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:16:19.9483995+05:30 8000009b-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T19:16:19.9484737+05:30 8000009b-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:16:19.9486001+05:30 8000009b-0006-fd00-b63f-84710c7967bb [INF] Request finished in 0.2382ms 204  (791a596a)
2021-09-30T19:16:19.9537695+05:30 80000057-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/masterData/getAllCapabilityDropdownData   (ca22a1cb)
2021-09-30T19:16:19.9542287+05:30 80000057-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:16:19.9550692+05:30 80000057-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (500cc934)
2021-09-30T19:16:19.9555733+05:30 80000057-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllCapabilityDropdownData\", controller = \"MasterData\"}". Executing controller action with signature "IoT.DataLayer.Models.AllCapabilityMasterModel GetAllCapabilityDropdownData(System.String)" on controller "IoT.WebAPI.Controllers.MasterDataController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:16:19.9596325+05:30 80000057-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-30T19:16:19.9606083+05:30 80000057-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityInterfaceId]) AS [Key], [c].[CapabilityInterfaceName] AS [Value]
FROM [CapabilityInterface] AS [c]" (0723d8ff)
2021-09-30T19:16:19.9615820+05:30 80000057-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilitySupportedPropertyId]) AS [Key], [c].[CapabilitySupportedPropertyName] AS [Value]
FROM [CapabilitySupportedProperty] AS [c]" (0723d8ff)
2021-09-30T19:16:19.9625027+05:30 80000057-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityTypeId]) AS [Key], [c].[CapabilityTypeName] AS [Value]
FROM [CapabilityTypes] AS [c]" (0723d8ff)
2021-09-30T19:16:19.9636170+05:30 80000057-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CONVERT(VARCHAR(11), [c].[CapabilityVersionId]) AS [Key], [c].[CapabilityVersionName] AS [Value]
FROM [CapabilityVersion] AS [c]" (0723d8ff)
2021-09-30T19:16:19.9646279+05:30 80000057-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DisplayCategoryValue] AS [Key], [d].[DisplayCategoryLabel] AS [Value]
FROM [DisplayCategory] AS [d]" (0723d8ff)
2021-09-30T19:16:19.9647509+05:30 80000057-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.AllCapabilityMasterModel"'. (8a1b66c8)
2021-09-30T19:16:19.9649721+05:30 80000057-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)" in 9.3517ms (afa2e885)
2021-09-30T19:16:19.9650124+05:30 80000057-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.MasterDataController.GetAllCapabilityDropdownData (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:16:19.9650708+05:30 80000057-0002-f900-b63f-84710c7967bb [INF] Request finished in 11.4895ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:16:55.9396684+05:30 80000072-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T19:16:55.9397169+05:30 80000072-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:16:55.9398180+05:30 80000072-0004-fe00-b63f-84710c7967bb [INF] Request finished in 0.1713ms 204  (791a596a)
2021-09-30T19:16:55.9406370+05:30 80000074-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T19:16:55.9407725+05:30 80000074-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:16:55.9409042+05:30 80000074-0004-fe00-b63f-84710c7967bb [INF] Request finished in 0.292ms 204  (791a596a)
2021-09-30T19:16:55.9432800+05:30 8000009d-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T19:16:55.9433556+05:30 8000009d-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:16:55.9434574+05:30 8000009d-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T19:16:55.9435536+05:30 8000009d-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:16:55.9438750+05:30 8000004d-0002-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T19:16:55.9439684+05:30 8000004d-0002-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:16:55.9440309+05:30 8000004d-0002-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T19:16:55.9441142+05:30 8000004d-0002-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:16:55.9450676+05:30 8000004d-0002-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T19:16:55.9457606+05:30 8000004d-0002-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 1.5425ms (afa2e885)
2021-09-30T19:16:55.9459591+05:30 8000004d-0002-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:16:55.9474453+05:30 8000004d-0002-fa00-b63f-84710c7967bb [INF] Request finished in 3.5378ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:16:55.9527869+05:30 8000009d-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("8"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T19:16:55.9555576+05:30 8000009d-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T19:16:55.9558736+05:30 8000009d-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 12.2739ms (afa2e885)
2021-09-30T19:16:55.9559217+05:30 8000009d-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:16:55.9560132+05:30 8000009d-0006-fd00-b63f-84710c7967bb [INF] Request finished in 12.7664ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:16:56.4915096+05:30 80000076-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T19:16:56.4916518+05:30 80000076-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:16:56.4919765+05:30 80000076-0004-fe00-b63f-84710c7967bb [INF] Request finished in 0.5164ms 204  (791a596a)
2021-09-30T19:16:56.4999693+05:30 80000020-0003-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T19:16:56.5000841+05:30 80000020-0003-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:16:56.5002349+05:30 80000020-0003-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T19:16:56.5004155+05:30 80000020-0003-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:16:56.5039382+05:30 80000020-0003-fc00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T19:16:56.5041698+05:30 80000020-0003-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T19:16:56.5050241+05:30 80000020-0003-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 4.4502ms (afa2e885)
2021-09-30T19:16:56.5051874+05:30 80000020-0003-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:16:56.5075972+05:30 80000020-0003-fc00-b63f-84710c7967bb [INF] Request finished in 7.5506ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T19:16:56.5087926+05:30 80000020-0003-fc00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("7"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T19:16:56.5123351+05:30 80000020-0003-fc00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T19:16:59.3288489+05:30 80000059-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T19:16:59.3288488+05:30 8000004f-0002-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T19:16:59.3289744+05:30 80000059-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:16:59.3290288+05:30 8000004f-0002-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:16:59.3297324+05:30 80000059-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T19:16:59.3297866+05:30 8000004f-0002-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T19:16:59.3298554+05:30 8000004f-0002-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:16:59.3299023+05:30 80000059-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:16:59.3301030+05:30 8000004f-0002-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T19:16:59.3329301+05:30 8000004f-0002-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 3.0041ms (afa2e885)
2021-09-30T19:16:59.3329858+05:30 8000004f-0002-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:16:59.3331134+05:30 8000004f-0002-fa00-b63f-84710c7967bb [INF] Request finished in 4.355ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:16:59.3438564+05:30 80000059-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T19:16:59.3465304+05:30 80000059-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T19:16:59.3469803+05:30 80000059-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 17.0075ms (afa2e885)
2021-09-30T19:16:59.3470465+05:30 80000059-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:16:59.3471632+05:30 80000059-0002-f900-b63f-84710c7967bb [INF] Request finished in 18.4615ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:16:59.8303336+05:30 8000009f-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T19:16:59.8305162+05:30 8000009f-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:16:59.8307530+05:30 8000009f-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T19:16:59.8310781+05:30 8000009f-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:16:59.8351369+05:30 8000009f-0006-fd00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T19:16:59.8353824+05:30 8000009f-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T19:16:59.8361064+05:30 8000009f-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 4.8385ms (afa2e885)
2021-09-30T19:16:59.8362447+05:30 8000009f-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:16:59.8381925+05:30 8000009f-0006-fd00-b63f-84710c7967bb [INF] Request finished in 7.8815ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T19:16:59.8407437+05:30 8000009f-0006-fd00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("8"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T19:16:59.8483689+05:30 8000009f-0006-fd00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T19:20:34.1870966+05:30 80000134-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T19:20:34.1870816+05:30 80000078-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T19:20:34.1871797+05:30 80000078-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:20:34.1871921+05:30 80000134-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:20:34.1873319+05:30 80000078-0004-fe00-b63f-84710c7967bb [INF] Request finished in 0.3464ms 204  (791a596a)
2021-09-30T19:20:34.1873443+05:30 80000134-0004-ff00-b63f-84710c7967bb [INF] Request finished in 0.365ms 204  (791a596a)
2021-09-30T19:20:34.1923913+05:30 8000003a-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T19:20:34.1924586+05:30 8000003a-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:20:34.1924341+05:30 8000003c-0007-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T19:20:34.1926227+05:30 8000003c-0007-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:20:34.1931916+05:30 8000003c-0007-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T19:20:34.1932907+05:30 8000003c-0007-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:20:34.1933145+05:30 8000003a-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T19:20:34.1964050+05:30 8000003a-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:20:34.1964141+05:30 8000003c-0007-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T19:20:34.1967193+05:30 8000003c-0007-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 3.375ms (afa2e885)
2021-09-30T19:20:34.1967570+05:30 8000003c-0007-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:20:34.1968228+05:30 8000003c-0007-fe00-b63f-84710c7967bb [INF] Request finished in 4.3946ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:20:34.2154042+05:30 8000003a-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("7"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T19:20:34.2192304+05:30 8000003a-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T19:20:34.2196245+05:30 8000003a-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 23.1393ms (afa2e885)
2021-09-30T19:20:34.2196853+05:30 8000003a-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:20:34.2197899+05:30 8000003a-0001-fb00-b63f-84710c7967bb [INF] Request finished in 27.4202ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:20:34.7607424+05:30 8000006f-0002-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T19:20:34.7607993+05:30 8000006f-0002-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:20:34.7609287+05:30 8000006f-0002-fb00-b63f-84710c7967bb [INF] Request finished in 0.2423ms 204  (791a596a)
2021-09-30T19:20:34.7644737+05:30 80000028-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T19:20:34.7645320+05:30 80000028-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:20:34.7646027+05:30 80000028-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T19:20:34.7647237+05:30 80000028-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:20:34.7663615+05:30 80000028-0000-fa00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T19:20:34.7664730+05:30 80000028-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T19:20:34.7668473+05:30 80000028-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 2.0445ms (afa2e885)
2021-09-30T19:20:34.7668939+05:30 80000028-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:20:34.7680235+05:30 80000028-0000-fa00-b63f-84710c7967bb [INF] Request finished in 3.3404ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T19:20:34.7686191+05:30 80000028-0000-fa00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("3"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T19:20:34.7715466+05:30 80000028-0000-fa00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T19:20:38.0353390+05:30 8000002e-0005-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T19:20:38.0355168+05:30 8000002e-0005-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:20:38.0359447+05:30 8000002e-0005-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T19:20:38.0362432+05:30 8000002e-0005-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:20:38.0368957+05:30 80000045-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T19:20:38.0373063+05:30 80000045-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:20:38.0374617+05:30 80000045-0005-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T19:20:38.0376052+05:30 80000045-0005-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:20:38.0387162+05:30 80000045-0005-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T19:20:38.0400873+05:30 80000045-0005-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 2.3285ms (afa2e885)
2021-09-30T19:20:38.0401798+05:30 80000045-0005-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:20:38.0402616+05:30 80000045-0005-fb00-b63f-84710c7967bb [INF] Request finished in 3.6595ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:20:38.0525104+05:30 8000002e-0005-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T19:20:38.0527769+05:30 8000002e-0005-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T19:20:38.0532246+05:30 8000002e-0005-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 16.8869ms (afa2e885)
2021-09-30T19:20:38.0532855+05:30 8000002e-0005-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:20:38.0533949+05:30 8000002e-0005-fc00-b63f-84710c7967bb [INF] Request finished in 18.1089ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:20:38.5751691+05:30 80000136-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T19:20:38.5752293+05:30 80000136-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:20:38.5753427+05:30 80000136-0004-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T19:20:38.5754766+05:30 80000136-0004-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:20:38.5769539+05:30 80000136-0004-ff00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T19:20:38.5771044+05:30 80000136-0004-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T19:20:38.5773965+05:30 80000136-0004-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1.8421ms (afa2e885)
2021-09-30T19:20:38.5774451+05:30 80000136-0004-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:20:38.5786160+05:30 80000136-0004-ff00-b63f-84710c7967bb [INF] Request finished in 3.4568ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T19:20:38.5792373+05:30 80000136-0004-ff00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("3"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T19:20:38.5821960+05:30 80000136-0004-ff00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T19:20:59.0471528+05:30 80000022-0003-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T19:20:59.0472732+05:30 80000022-0003-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:20:59.0474467+05:30 80000022-0003-fc00-b63f-84710c7967bb [INF] Request finished in 0.3043ms 204  (791a596a)
2021-09-30T19:20:59.0478563+05:30 8000003e-0007-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T19:20:59.0479513+05:30 8000003e-0007-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:20:59.0481333+05:30 8000003e-0007-fe00-b63f-84710c7967bb [INF] Request finished in 0.3069ms 204  (791a596a)
2021-09-30T19:20:59.0516626+05:30 8000002a-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T19:20:59.0518683+05:30 8000002a-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:20:59.0522607+05:30 8000002a-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T19:20:59.0523317+05:30 80000070-0000-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T19:20:59.0524122+05:30 80000070-0000-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:20:59.0525561+05:30 80000070-0000-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T19:20:59.0526274+05:30 8000002a-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:20:59.0527618+05:30 80000070-0000-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:20:59.0531547+05:30 80000070-0000-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T19:20:59.0534207+05:30 80000070-0000-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.5954ms (afa2e885)
2021-09-30T19:20:59.0534566+05:30 80000070-0000-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:20:59.0535382+05:30 80000070-0000-f900-b63f-84710c7967bb [INF] Request finished in 1.3174ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:20:59.0724768+05:30 8000002a-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T19:20:59.0727370+05:30 8000002a-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T19:20:59.0730196+05:30 8000002a-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 20.3315ms (afa2e885)
2021-09-30T19:20:59.0731187+05:30 8000002a-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:20:59.0732382+05:30 8000002a-0000-fa00-b63f-84710c7967bb [INF] Request finished in 21.5884ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:20:59.5536756+05:30 8000007a-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T19:20:59.5537180+05:30 8000007a-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:20:59.5538150+05:30 8000007a-0004-fe00-b63f-84710c7967bb [INF] Request finished in 0.1943ms 204  (791a596a)
2021-09-30T19:20:59.5562233+05:30 800000a1-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T19:20:59.5562707+05:30 800000a1-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:20:59.5563152+05:30 800000a1-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T19:20:59.5564802+05:30 800000a1-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:20:59.5574047+05:30 800000a1-0006-fd00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T19:20:59.5574990+05:30 800000a1-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T19:20:59.5576812+05:30 800000a1-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1.1643ms (afa2e885)
2021-09-30T19:20:59.5577164+05:30 800000a1-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:20:59.5583703+05:30 800000a1-0006-fd00-b63f-84710c7967bb [INF] Request finished in 2.1424ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T19:20:59.5589583+05:30 800000a1-0006-fd00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("2"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T19:20:59.5608863+05:30 800000a1-0006-fd00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T19:21:02.6087937+05:30 800000a3-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T19:21:02.6088699+05:30 800000a3-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:21:02.6090403+05:30 800000a3-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T19:21:02.6092201+05:30 800000a3-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:21:02.6098381+05:30 8000003c-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T19:21:02.6099605+05:30 8000003c-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:21:02.6100632+05:30 8000003c-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T19:21:02.6101961+05:30 8000003c-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:21:02.6106051+05:30 8000003c-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T19:21:02.6109578+05:30 8000003c-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.6937ms (afa2e885)
2021-09-30T19:21:02.6110135+05:30 8000003c-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:21:02.6112423+05:30 8000003c-0001-fb00-b63f-84710c7967bb [INF] Request finished in 1.4107ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:21:02.6223674+05:30 800000a3-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T19:21:02.6250755+05:30 800000a3-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T19:21:02.6254079+05:30 800000a3-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 16.106ms (afa2e885)
2021-09-30T19:21:02.6254577+05:30 800000a3-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:21:02.6255609+05:30 800000a3-0006-fd00-b63f-84710c7967bb [INF] Request finished in 16.8119ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:21:03.2172737+05:30 800000a5-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T19:21:03.2173901+05:30 800000a5-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:21:03.2175258+05:30 800000a5-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T19:21:03.2176889+05:30 800000a5-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:21:03.2210798+05:30 800000a5-0006-fd00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T19:21:03.2214490+05:30 800000a5-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T19:21:03.2221754+05:30 800000a5-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 4.3529ms (afa2e885)
2021-09-30T19:21:03.2223215+05:30 800000a5-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:21:03.2244595+05:30 800000a5-0006-fd00-b63f-84710c7967bb [INF] Request finished in 7.2041ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T19:21:03.2263024+05:30 800000a5-0006-fd00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("7"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T19:21:03.2344109+05:30 800000a5-0006-fd00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T19:21:12.3869518+05:30 8000002c-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T19:21:12.3870044+05:30 8000002c-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:21:12.3871303+05:30 8000002c-0000-fa00-b63f-84710c7967bb [INF] Request finished in 0.2209ms 204  (791a596a)
2021-09-30T19:21:12.3880300+05:30 80000071-0002-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T19:21:12.3882638+05:30 80000071-0002-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:21:12.3887569+05:30 80000071-0002-fb00-b63f-84710c7967bb [INF] Request finished in 0.7487ms 204  (791a596a)
2021-09-30T19:21:12.3916689+05:30 80000030-0005-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T19:21:12.3917431+05:30 80000030-0005-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:21:12.3918653+05:30 80000030-0005-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T19:21:12.3919537+05:30 80000030-0005-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:21:12.3920025+05:30 8000007c-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T19:21:12.3920501+05:30 8000007c-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:21:12.3921013+05:30 8000007c-0004-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T19:21:12.3921972+05:30 8000007c-0004-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:21:12.3923559+05:30 8000007c-0004-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T19:21:12.3926477+05:30 8000007c-0004-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.4061ms (afa2e885)
2021-09-30T19:21:12.3926827+05:30 8000007c-0004-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:21:12.3927413+05:30 8000007c-0004-fe00-b63f-84710c7967bb [INF] Request finished in 0.749ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:21:12.4117726+05:30 80000030-0005-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T19:21:12.4145818+05:30 80000030-0005-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T19:21:12.4149820+05:30 80000030-0005-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 22.9743ms (afa2e885)
2021-09-30T19:21:12.4150468+05:30 80000030-0005-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:21:12.4151950+05:30 80000030-0005-fc00-b63f-84710c7967bb [INF] Request finished in 23.6753ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:21:12.9666356+05:30 8000002e-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T19:21:12.9667538+05:30 8000002e-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:21:12.9669870+05:30 8000002e-0000-fa00-b63f-84710c7967bb [INF] Request finished in 0.458ms 204  (791a596a)
2021-09-30T19:21:12.9747578+05:30 800000a7-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T19:21:12.9748734+05:30 800000a7-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:21:12.9750031+05:30 800000a7-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T19:21:12.9751723+05:30 800000a7-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:21:12.9785186+05:30 800000a7-0006-fd00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T19:21:12.9787411+05:30 800000a7-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T19:21:12.9793975+05:30 800000a7-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 4.0931ms (afa2e885)
2021-09-30T19:21:12.9795805+05:30 800000a7-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:21:12.9813343+05:30 800000a7-0006-fd00-b63f-84710c7967bb [INF] Request finished in 6.5833ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T19:21:12.9843932+05:30 800000a7-0006-fd00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("8"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T19:21:12.9889313+05:30 800000a7-0006-fd00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T19:21:16.3526083+05:30 8000003e-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T19:21:16.3527453+05:30 8000003e-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:21:16.3529571+05:30 8000003e-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T19:21:16.3532230+05:30 8000003e-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:21:16.3545193+05:30 8000007e-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T19:21:16.3546839+05:30 8000007e-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:21:16.3549161+05:30 8000007e-0004-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T19:21:16.3552118+05:30 8000007e-0004-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:21:16.3562586+05:30 8000007e-0004-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T19:21:16.3575696+05:30 8000007e-0004-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 1.7557ms (afa2e885)
2021-09-30T19:21:16.3581119+05:30 8000007e-0004-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:21:16.3590171+05:30 8000007e-0004-fe00-b63f-84710c7967bb [INF] Request finished in 4.3289ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:21:16.3784710+05:30 8000003e-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T19:21:16.3822092+05:30 8000003e-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T19:21:16.3824953+05:30 8000003e-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 29.1729ms (afa2e885)
2021-09-30T19:21:16.3825515+05:30 8000003e-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:21:16.3826536+05:30 8000003e-0001-fb00-b63f-84710c7967bb [INF] Request finished in 30.1705ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:21:16.8777090+05:30 800000a9-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T19:21:16.8778227+05:30 800000a9-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:21:16.8780113+05:30 800000a9-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T19:21:16.8781337+05:30 800000a9-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:21:16.8802602+05:30 800000a9-0006-fd00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T19:21:16.8804796+05:30 800000a9-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T19:21:16.8807839+05:30 800000a9-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 2.511ms (afa2e885)
2021-09-30T19:21:16.8808563+05:30 800000a9-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:21:16.8822939+05:30 800000a9-0006-fd00-b63f-84710c7967bb [INF] Request finished in 4.4804ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T19:21:16.8831241+05:30 800000a9-0006-fd00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("4"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T19:21:16.8858580+05:30 800000a9-0006-fd00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T19:21:51.9079804+05:30 80000030-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T19:21:51.9080246+05:30 80000030-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:21:51.9081570+05:30 80000030-0000-fa00-b63f-84710c7967bb [INF] Request finished in 0.1841ms 204  (791a596a)
2021-09-30T19:21:51.9088369+05:30 800000ab-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T19:21:51.9088915+05:30 800000ab-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:21:51.9090035+05:30 800000ab-0006-fd00-b63f-84710c7967bb [INF] Request finished in 0.191ms 204  (791a596a)
2021-09-30T19:21:51.9131041+05:30 80000032-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T19:21:51.9131844+05:30 80000032-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:21:51.9133169+05:30 80000032-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T19:21:51.9134953+05:30 80000032-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:21:51.9135985+05:30 80000073-0002-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T19:21:51.9136393+05:30 80000073-0002-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:21:51.9137058+05:30 80000073-0002-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T19:21:51.9137750+05:30 80000073-0002-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:21:51.9139452+05:30 80000073-0002-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T19:21:51.9141943+05:30 80000073-0002-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.3763ms (afa2e885)
2021-09-30T19:21:51.9142945+05:30 80000073-0002-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:21:51.9143741+05:30 80000073-0002-fb00-b63f-84710c7967bb [INF] Request finished in 0.8532ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:21:51.9286922+05:30 80000032-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T19:21:51.9289441+05:30 80000032-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T19:21:51.9292083+05:30 80000032-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 15.6587ms (afa2e885)
2021-09-30T19:21:51.9293414+05:30 80000032-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:21:51.9295772+05:30 80000032-0000-fa00-b63f-84710c7967bb [INF] Request finished in 16.5128ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:21:53.1422848+05:30 80000080-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T19:21:53.1423868+05:30 80000080-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:21:53.1425708+05:30 80000080-0004-fe00-b63f-84710c7967bb [INF] Request finished in 0.3338ms 204  (791a596a)
2021-09-30T19:21:53.1490855+05:30 80000075-0002-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T19:21:53.1491863+05:30 80000075-0002-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:21:53.1493024+05:30 80000075-0002-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T19:21:53.1494245+05:30 80000075-0002-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:21:53.1520323+05:30 80000075-0002-fb00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T19:21:53.1521766+05:30 80000075-0002-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T19:21:53.1527042+05:30 80000075-0002-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 3.1741ms (afa2e885)
2021-09-30T19:21:53.1527816+05:30 80000075-0002-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:21:53.1541353+05:30 80000075-0002-fb00-b63f-84710c7967bb [INF] Request finished in 4.913ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T19:21:53.1556257+05:30 80000075-0002-fb00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("5"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T19:21:53.1614846+05:30 80000075-0002-fb00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T19:21:55.3128512+05:30 80000034-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T19:21:55.3129466+05:30 80000034-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:21:55.3130797+05:30 80000034-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T19:21:55.3131904+05:30 80000034-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:21:55.3133115+05:30 800000ad-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T19:21:55.3133543+05:30 800000ad-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:21:55.3134108+05:30 800000ad-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T19:21:55.3134777+05:30 800000ad-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:21:55.3136557+05:30 800000ad-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T19:21:55.3139323+05:30 800000ad-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.4011ms (afa2e885)
2021-09-30T19:21:55.3139742+05:30 800000ad-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:21:55.3140358+05:30 800000ad-0006-fd00-b63f-84710c7967bb [INF] Request finished in 0.7358ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:21:55.3268643+05:30 80000034-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T19:21:55.3272563+05:30 80000034-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T19:21:55.3275476+05:30 80000034-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 14.2879ms (afa2e885)
2021-09-30T19:21:55.3276062+05:30 80000034-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:21:55.3293960+05:30 80000034-0000-fa00-b63f-84710c7967bb [INF] Request finished in 16.5867ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:21:55.4820121+05:30 80000077-0002-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T19:21:55.4820519+05:30 80000077-0002-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:21:55.4821017+05:30 80000077-0002-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T19:21:55.4821668+05:30 80000077-0002-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:21:55.4832936+05:30 80000077-0002-fb00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T19:21:55.4833705+05:30 80000077-0002-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T19:21:55.4836147+05:30 80000077-0002-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1.4047ms (afa2e885)
2021-09-30T19:21:55.4836489+05:30 80000077-0002-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:21:55.4842834+05:30 80000077-0002-fb00-b63f-84710c7967bb [INF] Request finished in 2.2039ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T19:21:55.4848573+05:30 80000077-0002-fb00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("2"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T19:21:55.4870713+05:30 80000077-0002-fb00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T19:22:10.2346115+05:30 80000040-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T19:22:10.2347762+05:30 80000040-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:22:10.2350208+05:30 80000040-0001-fb00-b63f-84710c7967bb [INF] Request finished in 0.4401ms 204  (791a596a)
2021-09-30T19:22:10.2453088+05:30 80000040-0007-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T19:22:10.2453782+05:30 80000040-0007-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:22:10.2455285+05:30 80000040-0007-fe00-b63f-84710c7967bb [INF] Request finished in 0.3065ms 204  (791a596a)
2021-09-30T19:22:10.2476406+05:30 800000af-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T19:22:10.2477616+05:30 800000af-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:22:10.2480145+05:30 800000af-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T19:22:10.2481073+05:30 800000af-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:22:10.2496087+05:30 80000024-0003-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T19:22:10.2498065+05:30 80000024-0003-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:22:10.2501051+05:30 80000024-0003-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T19:22:10.2512413+05:30 80000024-0003-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:22:10.2786759+05:30 80000024-0003-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T19:22:10.2791979+05:30 80000024-0003-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 27.8767ms (afa2e885)
2021-09-30T19:22:10.2792945+05:30 80000024-0003-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:22:10.2793825+05:30 80000024-0003-fc00-b63f-84710c7967bb [INF] Request finished in 29.8051ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:22:10.2862668+05:30 800000af-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T19:22:10.2864891+05:30 800000af-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T19:22:10.2868065+05:30 800000af-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 38.6533ms (afa2e885)
2021-09-30T19:22:10.2869107+05:30 800000af-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:22:10.2870035+05:30 800000af-0006-fd00-b63f-84710c7967bb [INF] Request finished in 39.5005ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:22:11.6093807+05:30 80000082-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T19:22:11.6096248+05:30 80000082-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:22:11.6102865+05:30 80000082-0004-fe00-b63f-84710c7967bb [INF] Request finished in 1.2358ms 204  (791a596a)
2021-09-30T19:22:11.6144787+05:30 80000084-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T19:22:11.6179320+05:30 80000084-0004-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:22:11.6180566+05:30 80000084-0004-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T19:22:11.6181815+05:30 80000084-0004-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:22:11.6211554+05:30 80000084-0004-fe00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T19:22:11.6213102+05:30 80000084-0004-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T19:22:11.6218074+05:30 80000084-0004-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 3.5604ms (afa2e885)
2021-09-30T19:22:11.6218622+05:30 80000084-0004-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:22:11.6239768+05:30 80000084-0004-fe00-b63f-84710c7967bb [INF] Request finished in 8.5125ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T19:22:11.6319405+05:30 80000084-0004-fe00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("12"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T19:22:11.6357918+05:30 80000084-0004-fe00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T19:22:54.8318773+05:30 800000b1-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T19:22:54.8320481+05:30 800000b1-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:22:54.8328662+05:30 800000b1-0006-fd00-b63f-84710c7967bb [INF] Request finished in 1.2585ms 204  (791a596a)
2021-09-30T19:22:54.8370913+05:30 80000042-0007-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T19:22:54.8371650+05:30 80000042-0007-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:22:54.8373027+05:30 80000042-0007-fe00-b63f-84710c7967bb [INF] Request finished in 0.2902ms 204  (791a596a)
2021-09-30T19:22:54.8453210+05:30 80000036-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T19:22:54.8454246+05:30 80000036-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:22:54.8457389+05:30 80000036-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T19:22:54.8456522+05:30 80000026-0003-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T19:22:54.8458331+05:30 80000026-0003-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:22:54.8458444+05:30 80000036-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:22:54.8459023+05:30 80000026-0003-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T19:22:54.8459743+05:30 80000026-0003-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:22:54.8461853+05:30 80000026-0003-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T19:22:54.8468911+05:30 80000026-0003-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.6964ms (afa2e885)
2021-09-30T19:22:54.8471367+05:30 80000026-0003-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:22:54.8472500+05:30 80000026-0003-fc00-b63f-84710c7967bb [INF] Request finished in 1.6078ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:22:54.8861067+05:30 80000036-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T19:22:54.8865244+05:30 80000036-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T19:22:54.8869825+05:30 80000036-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 41.0624ms (afa2e885)
2021-09-30T19:22:54.8870448+05:30 80000036-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:22:54.8888078+05:30 80000036-0000-fa00-b63f-84710c7967bb [INF] Request finished in 43.4759ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:23:10.3217622+05:30 8000005b-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T19:23:10.3218565+05:30 8000005b-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:23:10.3219109+05:30 80000042-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T19:23:10.3219975+05:30 8000005b-0002-f900-b63f-84710c7967bb [INF] Request finished in 0.3014ms 204  (791a596a)
2021-09-30T19:23:10.3220216+05:30 80000042-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:23:10.3221316+05:30 80000042-0001-fb00-b63f-84710c7967bb [INF] Request finished in 0.2245ms 204  (791a596a)
2021-09-30T19:23:10.3325415+05:30 80000032-0005-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T19:23:10.3325788+05:30 80000047-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T19:23:10.3326046+05:30 80000032-0005-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:23:10.3326046+05:30 80000047-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:23:10.3326961+05:30 80000047-0005-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T19:23:10.3327853+05:30 80000032-0005-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T19:23:10.3328897+05:30 80000047-0005-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:23:10.3329495+05:30 80000032-0005-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:23:10.3332124+05:30 80000032-0005-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T19:23:10.3357234+05:30 80000032-0005-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 2.6829ms (afa2e885)
2021-09-30T19:23:10.3358103+05:30 80000032-0005-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:23:10.3358974+05:30 80000032-0005-fc00-b63f-84710c7967bb [INF] Request finished in 3.4083ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:23:10.3435160+05:30 80000047-0005-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("7"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T19:23:10.3444445+05:30 80000047-0005-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T19:23:10.3449615+05:30 80000047-0005-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 11.9903ms (afa2e885)
2021-09-30T19:23:10.3450272+05:30 80000047-0005-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:23:10.3451946+05:30 80000047-0005-fb00-b63f-84710c7967bb [INF] Request finished in 12.566ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:23:10.8578140+05:30 8000005d-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T19:23:10.8579435+05:30 8000005d-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:23:10.8582592+05:30 8000005d-0002-f900-b63f-84710c7967bb [INF] Request finished in 0.5268ms 204  (791a596a)
2021-09-30T19:23:10.8648560+05:30 80000038-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T19:23:10.8649206+05:30 80000038-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:23:10.8649882+05:30 80000038-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T19:23:10.8651274+05:30 80000038-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:23:10.8669015+05:30 80000038-0000-fa00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T19:23:10.8670244+05:30 80000038-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T19:23:10.8673437+05:30 80000038-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 2.1336ms (afa2e885)
2021-09-30T19:23:10.8673978+05:30 80000038-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:23:10.8683586+05:30 80000038-0000-fa00-b63f-84710c7967bb [INF] Request finished in 3.4901ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T19:23:10.8747511+05:30 80000038-0000-fa00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("9"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T19:23:10.8773335+05:30 80000038-0000-fa00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T19:23:14.3139681+05:30 80000049-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T19:23:14.3141151+05:30 80000049-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:23:14.3142843+05:30 80000049-0005-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T19:23:14.3143890+05:30 80000049-0005-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:23:14.3150148+05:30 80000044-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T19:23:14.3151519+05:30 80000044-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:23:14.3153986+05:30 80000044-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T19:23:14.3155526+05:30 80000044-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:23:14.3199297+05:30 80000044-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T19:23:14.3248219+05:30 80000044-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 8.8854ms (afa2e885)
2021-09-30T19:23:14.3250205+05:30 80000044-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:23:14.3252516+05:30 80000044-0001-fb00-b63f-84710c7967bb [INF] Request finished in 10.2139ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:23:14.3380101+05:30 80000049-0005-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T19:23:14.3382177+05:30 80000049-0005-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T19:23:14.3385342+05:30 80000049-0005-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 24.0036ms (afa2e885)
2021-09-30T19:23:14.3386217+05:30 80000049-0005-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:23:14.3387153+05:30 80000049-0005-fb00-b63f-84710c7967bb [INF] Request finished in 24.7957ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:23:14.8452312+05:30 8000005f-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T19:23:14.8454048+05:30 8000005f-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:23:14.8455867+05:30 8000005f-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T19:23:14.8458391+05:30 8000005f-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:23:14.8517521+05:30 8000005f-0002-f900-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T19:23:14.8524870+05:30 8000005f-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T19:23:14.8533172+05:30 8000005f-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 7.2697ms (afa2e885)
2021-09-30T19:23:14.8534481+05:30 8000005f-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:23:14.8558275+05:30 8000005f-0002-f900-b63f-84710c7967bb [INF] Request finished in 10.6024ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T19:23:14.8590208+05:30 8000005f-0002-f900-b63f-84710c7967bb [ERR] Failed executing DbCommand ("11"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T19:23:14.8682674+05:30 8000005f-0002-f900-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T19:23:17.3688218+05:30 80000044-0007-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T19:23:17.3690579+05:30 80000044-0007-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:23:17.3692196+05:30 80000044-0007-fe00-b63f-84710c7967bb [INF] Request finished in 0.4872ms 204  (791a596a)
2021-09-30T19:23:17.3692351+05:30 80000032-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T19:23:17.3692877+05:30 80000032-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:23:17.3703628+05:30 80000032-0007-ff00-b63f-84710c7967bb [INF] Request finished in 0.2624ms 204  (791a596a)
2021-09-30T19:23:17.3756485+05:30 8000004b-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T19:23:17.3757147+05:30 8000004b-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:23:17.3757371+05:30 800000b3-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T19:23:17.3758184+05:30 8000004b-0005-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T19:23:17.3758839+05:30 800000b3-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:23:17.3759149+05:30 8000004b-0005-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:23:17.3759547+05:30 800000b3-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T19:23:17.3760223+05:30 800000b3-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:23:17.3761205+05:30 8000004b-0005-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T19:23:17.3763889+05:30 8000004b-0005-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.4304ms (afa2e885)
2021-09-30T19:23:17.3764250+05:30 8000004b-0005-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:23:17.3764842+05:30 8000004b-0005-fb00-b63f-84710c7967bb [INF] Request finished in 0.8795ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:23:17.3958297+05:30 800000b3-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T19:23:17.3970065+05:30 800000b3-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T19:23:17.3982225+05:30 800000b3-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 21.9311ms (afa2e885)
2021-09-30T19:23:17.3983225+05:30 800000b3-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:23:17.3985192+05:30 800000b3-0006-fd00-b63f-84710c7967bb [INF] Request finished in 22.8348ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:23:17.9030422+05:30 8000003a-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T19:23:17.9031750+05:30 8000003a-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:23:17.9036533+05:30 8000003a-0000-fa00-b63f-84710c7967bb [INF] Request finished in 0.6793ms 204  (791a596a)
2021-09-30T19:23:17.9123312+05:30 800000b5-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T19:23:17.9124515+05:30 800000b5-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:23:17.9125841+05:30 800000b5-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T19:23:17.9128839+05:30 800000b5-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:23:17.9166806+05:30 800000b5-0006-fd00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T19:23:17.9169479+05:30 800000b5-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T19:23:17.9177129+05:30 800000b5-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 4.6616ms (afa2e885)
2021-09-30T19:23:17.9178497+05:30 800000b5-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:23:17.9201114+05:30 800000b5-0006-fd00-b63f-84710c7967bb [INF] Request finished in 7.2804ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T19:23:17.9220086+05:30 800000b5-0006-fd00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("8"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T19:23:17.9261690+05:30 800000b5-0006-fd00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T19:45:17.6747811+05:30 8000008f-0006-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T19:45:17.6754809+05:30 8000008f-0006-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:45:17.6757410+05:30 8000008f-0006-fc00-b63f-84710c7967bb [INF] Request finished in 1.7647ms 204  (791a596a)
2021-09-30T19:45:17.6771731+05:30 80000008-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T19:45:17.6775261+05:30 80000008-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:45:17.6777347+05:30 80000008-0006-fa00-b63f-84710c7967bb [INF] Request finished in 1.6144ms 204  (791a596a)
2021-09-30T19:45:17.6857020+05:30 8000000a-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T19:45:17.6857713+05:30 8000000a-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:45:17.6859019+05:30 80000140-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T19:45:17.6859126+05:30 8000000a-0006-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T19:45:17.6859381+05:30 80000140-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:45:17.6861422+05:30 8000000a-0006-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:45:17.6862232+05:30 80000140-0004-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T19:45:17.6863141+05:30 80000140-0004-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:45:17.6866827+05:30 80000140-0004-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T19:45:17.6909533+05:30 80000140-0004-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 4.4591ms (afa2e885)
2021-09-30T19:45:17.6911468+05:30 80000140-0004-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:45:17.6935652+05:30 80000140-0004-ff00-b63f-84710c7967bb [INF] Request finished in 7.5909ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:45:17.7270499+05:30 8000000a-0006-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T19:45:17.7303089+05:30 8000000a-0006-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T19:45:17.7305917+05:30 8000000a-0006-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 44.4009ms (afa2e885)
2021-09-30T19:45:17.7306510+05:30 8000000a-0006-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:45:17.7307532+05:30 8000000a-0006-fa00-b63f-84710c7967bb [INF] Request finished in 45.0987ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:45:19.7508662+05:30 80000034-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T19:45:19.7509232+05:30 80000034-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:45:19.7510815+05:30 80000034-0007-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T19:45:19.7513027+05:30 80000034-0007-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:45:19.7515633+05:30 8000004d-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T19:45:19.7516244+05:30 8000004d-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:45:19.7517042+05:30 8000004d-0005-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T19:45:19.7519132+05:30 8000004d-0005-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:45:19.7541774+05:30 80000034-0007-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T19:45:19.7540905+05:30 8000004d-0005-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T19:45:19.7547125+05:30 8000004d-0005-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 2.6803ms (afa2e885)
2021-09-30T19:45:19.7549233+05:30 8000004d-0005-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:45:19.7550021+05:30 80000034-0007-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T19:45:19.7550378+05:30 8000004d-0005-fb00-b63f-84710c7967bb [INF] Request finished in 3.5407ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:45:19.7567299+05:30 80000034-0007-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 5.2694ms (afa2e885)
2021-09-30T19:45:19.7568280+05:30 80000034-0007-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:45:19.7569558+05:30 80000034-0007-ff00-b63f-84710c7967bb [INF] Request finished in 6.3615ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:45:20.1910003+05:30 80000142-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T19:45:20.1910415+05:30 80000142-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:45:20.1911269+05:30 80000142-0004-ff00-b63f-84710c7967bb [INF] Request finished in 0.1487ms 204  (791a596a)
2021-09-30T19:45:20.1940219+05:30 80000144-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T19:45:20.1940591+05:30 80000144-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:45:20.1941064+05:30 80000144-0004-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T19:45:20.1941598+05:30 80000144-0004-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:45:20.1951870+05:30 80000144-0004-ff00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T19:45:20.1952734+05:30 80000144-0004-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T19:45:20.1960602+05:30 80000144-0004-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1.312ms (afa2e885)
2021-09-30T19:45:20.1961262+05:30 80000144-0004-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:45:20.1998595+05:30 80000144-0004-ff00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("5"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T19:45:20.2013653+05:30 80000144-0004-ff00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T19:45:20.3134613+05:30 80000144-0004-ff00-b63f-84710c7967bb [INF] Request finished in 119.342ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T19:46:29.0488099+05:30 80000036-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T19:46:29.0489363+05:30 80000036-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:46:29.0497910+05:30 80000036-0007-ff00-b63f-84710c7967bb [INF] Request finished in 0.6363ms 204  (791a596a)
2021-09-30T19:46:29.0508119+05:30 8000000c-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T19:46:29.0511743+05:30 8000000c-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:46:29.0515429+05:30 8000000c-0006-fa00-b63f-84710c7967bb [INF] Request finished in 1.0899ms 204  (791a596a)
2021-09-30T19:46:29.0591586+05:30 80000046-0007-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T19:46:29.0592192+05:30 80000046-0007-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:46:29.0591576+05:30 80000038-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T19:46:29.0592866+05:30 80000038-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:46:29.0593095+05:30 80000046-0007-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T19:46:29.0593558+05:30 80000038-0007-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T19:46:29.0593972+05:30 80000046-0007-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:46:29.0596994+05:30 80000038-0007-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:46:29.0600411+05:30 80000038-0007-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T19:46:29.0605249+05:30 80000038-0007-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.7516ms (afa2e885)
2021-09-30T19:46:29.0606173+05:30 80000038-0007-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:46:29.0608808+05:30 80000038-0007-ff00-b63f-84710c7967bb [INF] Request finished in 1.6897ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:46:29.0868531+05:30 80000046-0007-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T19:46:29.0874128+05:30 80000046-0007-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T19:46:29.0877926+05:30 80000046-0007-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 28.339ms (afa2e885)
2021-09-30T19:46:29.0878682+05:30 80000046-0007-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:46:29.0881010+05:30 80000046-0007-fe00-b63f-84710c7967bb [INF] Request finished in 28.9314ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T19:46:29.6549494+05:30 80000146-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T19:46:29.6549883+05:30 80000146-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:46:29.6551688+05:30 80000146-0004-ff00-b63f-84710c7967bb [INF] Request finished in 0.2498ms 204  (791a596a)
2021-09-30T19:46:29.6583994+05:30 80000148-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T19:46:29.6584439+05:30 80000148-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T19:46:29.6584892+05:30 80000148-0004-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T19:46:29.6585503+05:30 80000148-0004-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T19:46:29.6595418+05:30 80000148-0004-ff00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T19:46:29.6596604+05:30 80000148-0004-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T19:46:29.6598647+05:30 80000148-0004-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1.2796ms (afa2e885)
2021-09-30T19:46:29.6599907+05:30 80000148-0004-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T19:46:29.6608719+05:30 80000148-0004-ff00-b63f-84710c7967bb [INF] Request finished in 2.3948ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T19:46:29.6618139+05:30 80000148-0004-ff00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("3"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T19:46:29.6639381+05:30 80000148-0004-ff00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T23:44:36.3990876+05:30 80000051-0002-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T23:44:36.3990876+05:30 8000007d-0002-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T23:44:36.3993787+05:30 8000007d-0002-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T23:44:36.4002904+05:30 80000051-0002-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T23:44:36.4005059+05:30 80000051-0002-fa00-b63f-84710c7967bb [INF] Request finished in 1.613ms 204  (791a596a)
2021-09-30T23:44:36.4005061+05:30 8000007d-0002-fb00-b63f-84710c7967bb [INF] Request finished in 1.6498ms 204  (791a596a)
2021-09-30T23:44:36.4054418+05:30 80000072-0000-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T23:44:36.4054976+05:30 80000072-0000-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T23:44:36.4390127+05:30 80000072-0000-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T23:44:36.4394236+05:30 8000002c-0003-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T23:44:36.4394858+05:30 8000002c-0003-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T23:44:36.4395687+05:30 80000072-0000-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T23:44:36.4396623+05:30 8000002c-0003-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T23:44:36.4397929+05:30 8000002c-0003-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T23:44:36.4402077+05:30 80000072-0000-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T23:44:36.4407540+05:30 80000072-0000-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 1.1203ms (afa2e885)
2021-09-30T23:44:36.4408191+05:30 80000072-0000-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T23:44:36.4409316+05:30 80000072-0000-fb00-b63f-84710c7967bb [INF] Request finished in 35.5563ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T23:44:36.4709358+05:30 8000002c-0003-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T23:44:36.4736990+05:30 8000002c-0003-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T23:44:36.4740268+05:30 8000002c-0003-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 34.1614ms (afa2e885)
2021-09-30T23:44:36.4740779+05:30 8000002c-0003-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T23:44:36.4741818+05:30 8000002c-0003-fc00-b63f-84710c7967bb [INF] Request finished in 34.8149ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T23:44:37.9138123+05:30 8000002e-0003-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T23:44:37.9142669+05:30 8000002e-0003-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T23:44:37.9146320+05:30 8000002e-0003-fc00-b63f-84710c7967bb [INF] Request finished in 1.151ms 204  (791a596a)
2021-09-30T23:44:37.9225580+05:30 80000074-0000-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T23:44:37.9226978+05:30 80000074-0000-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T23:44:37.9229008+05:30 80000074-0000-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T23:44:37.9231483+05:30 80000074-0000-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T23:44:37.9273871+05:30 80000074-0000-fb00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T23:44:37.9276210+05:30 80000074-0000-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T23:44:37.9308412+05:30 80000074-0000-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 5.2633ms (afa2e885)
2021-09-30T23:44:37.9310199+05:30 80000074-0000-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T23:44:37.9414761+05:30 80000074-0000-fb00-b63f-84710c7967bb [INF] Request finished in 18.9837ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T23:44:37.9447826+05:30 80000074-0000-fb00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("19"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T23:44:37.9556646+05:30 80000074-0000-fb00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T23:49:37.3813716+05:30 80000012-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T23:49:37.3816956+05:30 80000012-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T23:49:37.3813716+05:30 800000c8-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T23:49:37.3818740+05:30 800000c8-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T23:49:37.3821215+05:30 80000012-0006-fa00-b63f-84710c7967bb [INF] Request finished in 1.1677ms 204  (791a596a)
2021-09-30T23:49:37.3821204+05:30 800000c8-0006-fd00-b63f-84710c7967bb [INF] Request finished in 1.1676ms 204  (791a596a)
2021-09-30T23:49:37.3936339+05:30 80000150-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T23:49:37.3937645+05:30 80000150-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T23:49:37.3940788+05:30 80000150-0004-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T23:49:37.3941027+05:30 80000055-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T23:49:37.3941804+05:30 80000055-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T23:49:37.3942944+05:30 80000055-0005-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T23:49:37.3943480+05:30 80000150-0004-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T23:49:37.3944966+05:30 80000055-0005-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T23:49:37.3955617+05:30 80000055-0005-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T23:49:37.3975816+05:30 80000055-0005-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 1.4899ms (afa2e885)
2021-09-30T23:49:37.3977352+05:30 80000055-0005-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T23:49:37.3979063+05:30 80000055-0005-fb00-b63f-84710c7967bb [INF] Request finished in 3.8375ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T23:49:37.4243051+05:30 80000150-0004-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T23:49:37.4247795+05:30 80000150-0004-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T23:49:37.4251156+05:30 80000150-0004-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 30.7023ms (afa2e885)
2021-09-30T23:49:37.4251816+05:30 80000150-0004-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T23:49:37.4259825+05:30 80000150-0004-ff00-b63f-84710c7967bb [INF] Request finished in 31.8582ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T23:49:38.2078074+05:30 80000152-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T23:49:38.2080349+05:30 80000152-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T23:49:38.2084290+05:30 80000152-0004-ff00-b63f-84710c7967bb [INF] Request finished in 0.9212ms 204  (791a596a)
2021-09-30T23:49:38.2155542+05:30 8000004e-0007-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T23:49:38.2156813+05:30 8000004e-0007-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T23:49:38.2158779+05:30 8000004e-0007-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T23:49:38.2162019+05:30 8000004e-0007-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T23:49:38.2189457+05:30 8000004e-0007-fe00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T23:49:38.2191165+05:30 8000004e-0007-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T23:49:38.2197283+05:30 8000004e-0007-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 3.3383ms (afa2e885)
2021-09-30T23:49:38.2198148+05:30 8000004e-0007-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T23:49:38.2213194+05:30 8000004e-0007-fe00-b63f-84710c7967bb [INF] Request finished in 5.7588ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T23:49:38.2226959+05:30 8000004e-0007-fe00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("5"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T23:49:38.2281981+05:30 8000004e-0007-fe00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T23:49:46.0433511+05:30 8000003c-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T23:49:46.0433628+05:30 80000050-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T23:49:46.0434260+05:30 8000003c-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T23:49:46.0434290+05:30 80000050-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T23:49:46.0435987+05:30 8000003c-0000-fa00-b63f-84710c7967bb [INF] Request finished in 0.3559ms 204  (791a596a)
2021-09-30T23:49:46.0436134+05:30 80000050-0001-fb00-b63f-84710c7967bb [INF] Request finished in 0.357ms 204  (791a596a)
2021-09-30T23:49:46.0493792+05:30 80000050-0007-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T23:49:46.0495333+05:30 80000050-0007-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T23:49:46.0497234+05:30 80000050-0007-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T23:49:46.0500028+05:30 80000050-0007-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T23:49:46.0505923+05:30 80000050-0007-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T23:49:46.0511128+05:30 8000003a-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T23:49:46.0512209+05:30 8000003a-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T23:49:46.0513861+05:30 80000050-0007-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 1.0681ms (afa2e885)
2021-09-30T23:49:46.0514710+05:30 8000003a-0007-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T23:49:46.0515416+05:30 80000050-0007-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T23:49:46.0516660+05:30 80000050-0007-fe00-b63f-84710c7967bb [INF] Request finished in 2.3779ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T23:49:46.0519587+05:30 8000003a-0007-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T23:49:46.0754442+05:30 8000003a-0007-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T23:49:46.0784164+05:30 8000003a-0007-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T23:49:46.0788814+05:30 8000003a-0007-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 26.2188ms (afa2e885)
2021-09-30T23:49:46.0789419+05:30 8000003a-0007-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T23:49:46.0790620+05:30 8000003a-0007-ff00-b63f-84710c7967bb [INF] Request finished in 28.2993ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T23:49:46.7995925+05:30 80000052-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T23:49:46.7996531+05:30 80000052-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T23:49:46.7997510+05:30 80000052-0001-fb00-b63f-84710c7967bb [INF] Request finished in 0.1978ms 204  (791a596a)
2021-09-30T23:49:46.8030780+05:30 80000154-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T23:49:46.8031778+05:30 80000154-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T23:49:46.8033150+05:30 80000154-0004-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T23:49:46.8034678+05:30 80000154-0004-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T23:49:46.8057240+05:30 80000154-0004-ff00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T23:49:46.8058568+05:30 80000154-0004-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T23:49:46.8061136+05:30 80000154-0004-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 2.5753ms (afa2e885)
2021-09-30T23:49:46.8061470+05:30 80000154-0004-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T23:49:46.8077306+05:30 80000154-0004-ff00-b63f-84710c7967bb [INF] Request finished in 4.5329ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T23:49:46.8080359+05:30 80000154-0004-ff00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("3"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T23:49:46.8116258+05:30 80000154-0004-ff00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T23:54:43.6082479+05:30 80000057-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T23:54:43.6082603+05:30 8000007e-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T23:54:43.6083704+05:30 8000007e-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T23:54:43.6083694+05:30 80000057-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T23:54:43.6086488+05:30 8000007e-0002-f900-b63f-84710c7967bb [INF] Request finished in 0.6722ms 204  (791a596a)
2021-09-30T23:54:43.6086956+05:30 80000057-0005-fb00-b63f-84710c7967bb [INF] Request finished in 0.7211ms 204  (791a596a)
2021-09-30T23:54:43.6226716+05:30 80000156-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T23:54:43.6241505+05:30 80000156-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T23:54:43.6244068+05:30 80000156-0004-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T23:54:43.6288190+05:30 80000156-0004-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T23:54:43.6289257+05:30 80000030-0003-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T23:54:43.6289881+05:30 80000030-0003-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T23:54:43.6304674+05:30 80000030-0003-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T23:54:43.6306160+05:30 80000030-0003-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T23:54:43.6363721+05:30 80000030-0003-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T23:54:43.6368669+05:30 80000030-0003-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 6.1816ms (afa2e885)
2021-09-30T23:54:43.6369262+05:30 80000030-0003-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T23:54:43.6370107+05:30 80000030-0003-fc00-b63f-84710c7967bb [INF] Request finished in 8.1143ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T23:54:43.6572958+05:30 80000156-0004-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T23:54:43.6620798+05:30 80000156-0004-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T23:54:43.6625880+05:30 80000156-0004-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 33.6502ms (afa2e885)
2021-09-30T23:54:43.6626812+05:30 80000156-0004-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T23:54:43.6628457+05:30 80000156-0004-ff00-b63f-84710c7967bb [INF] Request finished in 40.2261ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T23:54:44.5411191+05:30 80000158-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T23:54:44.5411660+05:30 80000158-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T23:54:44.5412911+05:30 80000158-0004-ff00-b63f-84710c7967bb [INF] Request finished in 0.4246ms 204  (791a596a)
2021-09-30T23:54:44.5446957+05:30 80000077-0000-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T23:54:44.5447468+05:30 80000077-0000-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T23:54:44.5448070+05:30 80000077-0000-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T23:54:44.5449061+05:30 80000077-0000-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T23:54:44.5477170+05:30 80000077-0000-fb00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T23:54:44.5478556+05:30 80000077-0000-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T23:54:44.5482508+05:30 80000077-0000-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 3.2691ms (afa2e885)
2021-09-30T23:54:44.5483180+05:30 80000077-0000-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T23:54:44.5491103+05:30 80000077-0000-fb00-b63f-84710c7967bb [INF] Request finished in 4.4182ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T23:54:44.5566553+05:30 80000077-0000-fb00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("10"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T23:54:44.5590294+05:30 80000077-0000-fb00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T23:55:29.7486833+05:30 80000080-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T23:55:29.7487623+05:30 80000080-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T23:55:29.7489555+05:30 80000080-0002-f900-b63f-84710c7967bb [INF] Request finished in 0.3111ms 204  (791a596a)
2021-09-30T23:55:29.7506512+05:30 80000052-0007-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T23:55:29.7507964+05:30 80000052-0007-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T23:55:29.7510259+05:30 80000052-0007-fe00-b63f-84710c7967bb [INF] Request finished in 0.4011ms 204  (791a596a)
2021-09-30T23:55:29.7638565+05:30 80000082-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T23:55:29.7639490+05:30 80000082-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T23:55:29.7640416+05:30 80000082-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T23:55:29.7641510+05:30 80000082-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T23:55:29.7644828+05:30 80000082-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T23:55:29.7658294+05:30 80000082-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 1.5537ms (afa2e885)
2021-09-30T23:55:29.7659678+05:30 80000082-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T23:55:29.7661354+05:30 80000082-0002-f900-b63f-84710c7967bb [INF] Request finished in 2.2547ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T23:55:29.7680764+05:30 80000059-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T23:55:29.7681889+05:30 80000059-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T23:55:29.7683911+05:30 80000059-0005-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T23:55:29.7685377+05:30 80000059-0005-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T23:55:29.7957538+05:30 80000059-0005-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T23:55:29.7961915+05:30 80000059-0005-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T23:55:29.7965819+05:30 80000059-0005-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 27.9814ms (afa2e885)
2021-09-30T23:55:29.7966390+05:30 80000059-0005-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T23:55:29.7969051+05:30 80000059-0005-fb00-b63f-84710c7967bb [INF] Request finished in 28.8725ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T23:55:30.3872577+05:30 80000079-0000-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T23:55:30.3873074+05:30 80000079-0000-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T23:55:30.3874112+05:30 80000079-0000-fb00-b63f-84710c7967bb [INF] Request finished in 0.1761ms 204  (791a596a)
2021-09-30T23:55:30.3908641+05:30 8000007b-0000-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T23:55:30.3909687+05:30 8000007b-0000-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T23:55:30.3910407+05:30 8000007b-0000-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T23:55:30.3911163+05:30 8000007b-0000-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T23:55:30.3921936+05:30 8000007b-0000-fb00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T23:55:30.3922901+05:30 8000007b-0000-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T23:55:30.3925015+05:30 8000007b-0000-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1.3416ms (afa2e885)
2021-09-30T23:55:30.3925373+05:30 8000007b-0000-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T23:55:30.3932407+05:30 8000007b-0000-fb00-b63f-84710c7967bb [INF] Request finished in 2.367ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T23:55:30.3951899+05:30 8000007b-0000-fb00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("3"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T23:55:30.3973980+05:30 8000007b-0000-fb00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-30T23:57:46.1590389+05:30 8000003d-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T23:57:46.1592746+05:30 8000003d-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T23:57:46.1600924+05:30 8000003d-0007-ff00-b63f-84710c7967bb [INF] Request finished in 1.0623ms 204  (791a596a)
2021-09-30T23:57:46.1639056+05:30 8000015a-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-30T23:57:46.1650008+05:30 8000015a-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T23:57:46.1659968+05:30 8000015a-0004-ff00-b63f-84710c7967bb [INF] Request finished in 2.1333ms 204  (791a596a)
2021-09-30T23:57:46.1844460+05:30 8000005b-0005-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-30T23:57:46.1845510+05:30 8000005b-0005-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T23:57:46.1847965+05:30 800000ca-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-30T23:57:46.1848843+05:30 800000ca-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T23:57:46.1849227+05:30 8000005b-0005-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-30T23:57:46.1850029+05:30 800000ca-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-30T23:57:46.1853739+05:30 8000005b-0005-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T23:57:46.1875275+05:30 800000ca-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T23:57:46.1956076+05:30 800000ca-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-30T23:57:46.2021015+05:30 800000ca-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 14.4454ms (afa2e885)
2021-09-30T23:57:46.2022088+05:30 800000ca-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-30T23:57:46.2023284+05:30 800000ca-0006-fd00-b63f-84710c7967bb [INF] Request finished in 17.9667ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T23:57:46.2378338+05:30 8000005b-0005-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("9"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-30T23:57:46.2381644+05:30 8000005b-0005-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-30T23:57:46.2385007+05:30 8000005b-0005-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 50.9962ms (afa2e885)
2021-09-30T23:57:46.2385513+05:30 8000005b-0005-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-30T23:57:46.2386595+05:30 8000005b-0005-fb00-b63f-84710c7967bb [INF] Request finished in 54.361ms 200 application/json; charset=utf-8 (791a596a)
2021-09-30T23:57:46.8198170+05:30 8000007d-0000-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-30T23:57:46.8199999+05:30 8000007d-0000-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T23:57:46.8203760+05:30 8000007d-0000-fb00-b63f-84710c7967bb [INF] Request finished in 0.7802ms 204  (791a596a)
2021-09-30T23:57:46.8304362+05:30 800000cc-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-30T23:57:46.8305811+05:30 800000cc-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-30T23:57:46.8307754+05:30 800000cc-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-30T23:57:46.8309991+05:30 800000cc-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-30T23:57:46.8354647+05:30 800000cc-0006-fd00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-30T23:57:46.8358036+05:30 800000cc-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-30T23:57:46.8365862+05:30 800000cc-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 5.4253ms (afa2e885)
2021-09-30T23:57:46.8369104+05:30 800000cc-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-30T23:57:46.8399211+05:30 800000cc-0006-fd00-b63f-84710c7967bb [INF] Request finished in 9.5362ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-30T23:57:46.8545706+05:30 800000cc-0006-fd00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("22"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-30T23:57:46.8604313+05:30 800000cc-0006-fd00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
