2021-09-29T13:16:07.0954570+05:30  [INF] User profile is available. Using '"C:\Users\satishsonkar\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2021-09-29T13:16:07.3698119+05:30 80000182-0003-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T13:16:07.3698118+05:30 8000067c-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T13:16:07.3698118+05:30 8000062e-0003-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/dashboard/getDashboardData   (ca22a1cb)
2021-09-29T13:16:07.3698119+05:30 80000347-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/   (ca22a1cb)
2021-09-29T13:16:07.3699678+05:30 8000022f-0003-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T13:16:07.3930049+05:30 8000062e-0003-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:16:07.3930049+05:30 8000022f-0003-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:16:07.3930049+05:30 8000067c-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:16:07.3930049+05:30 80000182-0003-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:16:07.4617601+05:30 8000067c-0001-ff00-b63f-84710c7967bb [INF] Request finished in 104.4556ms 204  (791a596a)
2021-09-29T13:16:07.4678592+05:30 80000182-0003-fb00-b63f-84710c7967bb [INF] Request finished in 107.5403ms 204  (791a596a)
2021-09-29T13:16:07.4724665+05:30 8000062e-0003-fd00-b63f-84710c7967bb [INF] Request finished in 116.6552ms 204  (791a596a)
2021-09-29T13:16:07.4752628+05:30 8000022f-0003-f900-b63f-84710c7967bb [INF] Request finished in 118.5488ms 204  (791a596a)
2021-09-29T13:16:07.4861231+05:30 800002fd-0005-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T13:16:07.4881974+05:30 800002fd-0005-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:16:07.4904744+05:30 80000231-0003-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T13:16:07.4905518+05:30 80000231-0003-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:16:07.4970281+05:30 800005c0-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/dashboard/getDashboardData   (ca22a1cb)
2021-09-29T13:16:07.4971224+05:30 800005c0-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:16:07.5265247+05:30 8000067e-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T13:16:07.5266253+05:30 8000067e-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:16:07.5598834+05:30 800005c0-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DashboardController.GetDashboardData (IoT.WebAPI)"' (500cc934)
2021-09-29T13:16:07.5598834+05:30 8000067e-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T13:16:07.5601698+05:30 800002fd-0005-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T13:16:07.5602792+05:30 80000231-0003-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T13:16:07.5629611+05:30 80000347-0002-f500-b63f-84710c7967bb [INF] Request finished in 206.7307ms 404  (791a596a)
2021-09-29T13:16:07.7046281+05:30 80000231-0003-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T13:16:07.7056064+05:30 800005c0-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDashboardData\", controller = \"Dashboard\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDashboardData(System.String)" on controller "IoT.WebAPI.Controllers.DashboardController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T13:16:07.7046370+05:30 800002fd-0005-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T13:16:07.7058105+05:30 8000067e-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T13:16:08.3147651+05:30 8000067e-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T13:16:08.3677586+05:30 8000067e-0001-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 650.5869ms (afa2e885)
2021-09-29T13:16:08.3679648+05:30 8000067e-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T13:16:08.3847954+05:30 8000067e-0001-ff00-b63f-84710c7967bb [INF] Request finished in 858.2564ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T13:16:09.6531712+05:30 80000231-0003-f900-b63f-84710c7967bb [INF] Entity Framework Core "5.0.9" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2021-09-29T13:16:09.6531712+05:30 800002fd-0005-fd00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.9" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2021-09-29T13:16:09.6531712+05:30 800005c0-0001-fb00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.9" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2021-09-29T13:16:10.1154468+05:30 800002fd-0005-fd00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T13:16:10.1169408+05:30 800002fd-0005-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T13:16:10.1216664+05:30 800002fd-0005-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 2415.7396ms (afa2e885)
2021-09-29T13:16:10.1217843+05:30 800002fd-0005-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T13:16:10.1334054+05:30 800002fd-0005-fd00-b63f-84710c7967bb [INF] Request finished in 2659.8816ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T13:16:10.1475792+05:30 800002fd-0005-fd00-b63f-84710c7967bb [ERR] An error occurred using the connection to database '"IoT-AppDatabase"' on server '"IoT-AppDatabase.mssql.somee.com"'. (5fc3407c)
2021-09-29T13:16:10.2988349+05:30 800002fd-0005-fd00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T13:16:12.6020855+05:30 800005c0-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("336"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[ConnectionCount], [d].[DeviceDesc], [d].[DeviceName], [d].[DeviceKey], [d].[DeviceId], [d].[LastConnected], [r].[RoomName], [d0].[DeviceTypeName], [d].[RoomId], [r].[RoomKey]
FROM [Devices] AS [d]
INNER JOIN [Rooms] AS [r] ON [d].[RoomId] = [r].[RoomId]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[UserKey] = @__userKey_0
ORDER BY [d].[DeviceName]" (0723d8ff)
2021-09-29T13:16:12.9556139+05:30 800005c0-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("320"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[RoomId], [r].[CreatedDate], [r].[ModifiedDate], [r].[RoomDesc], [r].[RoomKey], [r].[RoomName], [r].[UserKey]
FROM [Rooms] AS [r]
WHERE [r].[UserKey] = @__userKey_0
ORDER BY [r].[RoomName]" (0723d8ff)
2021-09-29T13:16:13.0547556+05:30 800005c0-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DashboardModel"'. (8a1b66c8)
2021-09-29T13:16:13.0711935+05:30 800005c0-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DashboardController.GetDashboardData (IoT.WebAPI)" in 5365.3582ms (afa2e885)
2021-09-29T13:16:13.0713671+05:30 800005c0-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DashboardController.GetDashboardData (IoT.WebAPI)"' (99874f2b)
2021-09-29T13:16:13.0725319+05:30 800005c0-0001-fb00-b63f-84710c7967bb [INF] Request finished in 5575.4061ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T13:16:13.9201237+05:30 80000231-0003-f900-b63f-84710c7967bb [INF] Executed DbCommand ("325"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T13:16:13.9551559+05:30 80000231-0003-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T13:16:13.9633824+05:30 80000231-0003-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 6257.997ms (afa2e885)
2021-09-29T13:16:13.9639652+05:30 80000231-0003-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T13:16:13.9669213+05:30 80000231-0003-f900-b63f-84710c7967bb [INF] Request finished in 6476.4481ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T13:16:38.6415273+05:30 8000070c-0004-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/updateDeviceHistory?deviceKey=8B51DFAAF40242D4AC306EFA8B4D66E6&isconnected=true   (ca22a1cb)
2021-09-29T13:16:38.6418102+05:30 8000070c-0004-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:16:38.6421447+05:30 8000070c-0004-fb00-b63f-84710c7967bb [INF] Request finished in 0.8864ms 204  (791a596a)
2021-09-29T13:16:38.6453435+05:30 800006f8-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/device/updateDeviceHistory?deviceKey=8B51DFAAF40242D4AC306EFA8B4D66E6&isconnected=true application/json;charset=UTF-8 2 (ca22a1cb)
2021-09-29T13:16:38.6454063+05:30 800006f8-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:16:38.6482451+05:30 800006f8-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.UpdateDeviceHistory (IoT.WebAPI)"' (500cc934)
2021-09-29T13:16:38.6505389+05:30 800006f8-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"UpdateDeviceHistory\", controller = \"Device\"}". Executing controller action with signature "Boolean UpdateDeviceHistory(System.String, Boolean, System.String)" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T13:16:38.6779174+05:30 800006f8-0000-fa00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.9" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2021-09-29T13:16:39.0046259+05:30 800006f8-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("310"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T13:16:39.3264906+05:30 800006f8-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("312"ms) [Parameters=["@__deviceKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceId], [d].[ConnectionCount], [d].[CreatedDate], [d].[DeviceDesc], [d].[DeviceKey], [d].[DeviceName], [d].[DeviceTypeId], [d].[FriendlyName], [d].[LastConnected], [d].[ManufacturerName], [d].[ModifiedDate], [d].[RoomId], [d].[UserKey]
FROM [Devices] AS [d]
WHERE [d].[DeviceKey] = @__deviceKey_0" (0723d8ff)
2021-09-29T13:16:40.1057452+05:30 800006f8-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("315"ms) [Parameters=["@p12='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Devices] SET [ConnectionCount] = @p0, [CreatedDate] = @p1, [DeviceDesc] = @p2, [DeviceKey] = @p3, [DeviceName] = @p4, [DeviceTypeId] = @p5, [FriendlyName] = @p6, [LastConnected] = @p7, [ManufacturerName] = @p8, [ModifiedDate] = @p9, [RoomId] = @p10, [UserKey] = @p11
WHERE [DeviceId] = @p12;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-09-29T13:16:40.4509832+05:30 800006f8-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Boolean"'. (8a1b66c8)
2021-09-29T13:16:40.4551773+05:30 800006f8-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.UpdateDeviceHistory (IoT.WebAPI)" in 1804.3474ms (afa2e885)
2021-09-29T13:16:40.4553314+05:30 800006f8-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.UpdateDeviceHistory (IoT.WebAPI)"' (99874f2b)
2021-09-29T13:16:40.4560372+05:30 800006f8-0000-fa00-b63f-84710c7967bb [INF] Request finished in 1810.5734ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T13:17:38.8489512+05:30 800003f3-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T13:17:38.8518172+05:30 800002ff-0005-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/dashboard/getDashboardData   (ca22a1cb)
2021-09-29T13:17:38.8606725+05:30 800002ff-0005-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:17:38.8606642+05:30 800003f3-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:17:38.8632153+05:30 800002ff-0005-fd00-b63f-84710c7967bb [INF] Request finished in 12.832ms 204  (791a596a)
2021-09-29T13:17:38.8634362+05:30 800003d8-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T13:17:38.8649746+05:30 800003d8-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:17:38.8657673+05:30 800003f3-0006-fa00-b63f-84710c7967bb [INF] Request finished in 16.9887ms 204  (791a596a)
2021-09-29T13:17:38.8666189+05:30 800003d8-0007-ff00-b63f-84710c7967bb [INF] Request finished in 3.6907ms 204  (791a596a)
2021-09-29T13:17:38.8732304+05:30 800006fa-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/dashboard/getDashboardData   (ca22a1cb)
2021-09-29T13:17:38.8742031+05:30 800006fa-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:17:38.8752078+05:30 800006fa-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DashboardController.GetDashboardData (IoT.WebAPI)"' (500cc934)
2021-09-29T13:17:38.8763398+05:30 800006fa-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDashboardData\", controller = \"Dashboard\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDashboardData(System.String)" on controller "IoT.WebAPI.Controllers.DashboardController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T13:17:38.8798016+05:30 80000376-0000-f600-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T13:17:38.9246643+05:30 80000318-0000-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T13:17:38.9248975+05:30 80000318-0000-f800-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:17:38.9248975+05:30 80000376-0000-f600-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:17:38.9282157+05:30 80000318-0000-f800-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T13:17:38.9285184+05:30 80000376-0000-f600-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T13:17:38.9322403+05:30 80000318-0000-f800-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T13:17:38.9361973+05:30 80000376-0000-f600-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T13:17:38.9366902+05:30 80000318-0000-f800-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T13:17:38.9381596+05:30 80000318-0000-f800-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 5.6351ms (afa2e885)
2021-09-29T13:17:38.9382618+05:30 80000318-0000-f800-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T13:17:38.9386282+05:30 80000318-0000-f800-b63f-84710c7967bb [INF] Request finished in 60.1442ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T13:17:39.2229339+05:30 80000376-0000-f600-b63f-84710c7967bb [INF] Executed DbCommand ("282"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T13:17:39.2249042+05:30 80000376-0000-f600-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T13:17:39.2261979+05:30 80000376-0000-f600-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 289.7956ms (afa2e885)
2021-09-29T13:17:39.2264952+05:30 80000376-0000-f600-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T13:17:39.2271619+05:30 80000376-0000-f600-b63f-84710c7967bb [INF] Request finished in 348.4666ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T13:17:39.2524334+05:30 800006fa-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("312"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[ConnectionCount], [d].[DeviceDesc], [d].[DeviceName], [d].[DeviceKey], [d].[DeviceId], [d].[LastConnected], [r].[RoomName], [d0].[DeviceTypeName], [d].[RoomId], [r].[RoomKey]
FROM [Devices] AS [d]
INNER JOIN [Rooms] AS [r] ON [d].[RoomId] = [r].[RoomId]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[UserKey] = @__userKey_0
ORDER BY [d].[DeviceName]" (0723d8ff)
2021-09-29T13:17:39.5662095+05:30 800006fa-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("311"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[RoomId], [r].[CreatedDate], [r].[ModifiedDate], [r].[RoomDesc], [r].[RoomKey], [r].[RoomName], [r].[UserKey]
FROM [Rooms] AS [r]
WHERE [r].[UserKey] = @__userKey_0
ORDER BY [r].[RoomName]" (0723d8ff)
2021-09-29T13:17:39.5679744+05:30 800006fa-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DashboardModel"'. (8a1b66c8)
2021-09-29T13:17:39.5695322+05:30 800006fa-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DashboardController.GetDashboardData (IoT.WebAPI)" in 692.8026ms (afa2e885)
2021-09-29T13:17:39.5696123+05:30 800006fa-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DashboardController.GetDashboardData (IoT.WebAPI)"' (99874f2b)
2021-09-29T13:17:39.5699736+05:30 800006fa-0000-fa00-b63f-84710c7967bb [INF] Request finished in 697.2544ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T13:17:39.7642843+05:30 80000349-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T13:17:39.7646127+05:30 80000349-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:17:39.7650130+05:30 80000349-0002-f500-b63f-84710c7967bb [INF] Request finished in 0.8454ms 204  (791a596a)
2021-09-29T13:17:39.7721763+05:30 800003ed-0004-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T13:17:39.7722710+05:30 800003ed-0004-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:17:39.7742681+05:30 800003ed-0004-f700-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T13:17:39.7786351+05:30 800003ed-0004-f700-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T13:17:39.7856714+05:30 800003ed-0004-f700-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T13:17:39.7859492+05:30 800003ed-0004-f700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T13:17:39.7867969+05:30 800003ed-0004-f700-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 7.9942ms (afa2e885)
2021-09-29T13:17:39.7869706+05:30 800003ed-0004-f700-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T13:17:39.7968218+05:30 800003ed-0004-f700-b63f-84710c7967bb [INF] Request finished in 24.6685ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T13:17:39.8035254+05:30 800003ed-0004-f700-b63f-84710c7967bb [ERR] Failed executing DbCommand ("18"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-29T13:17:39.8131861+05:30 800003ed-0004-f700-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T13:18:39.6687040+05:30 800003f5-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/updateDeviceHistory?deviceKey=8B51DFAAF40242D4AC306EFA8B4D66E6&isconnected=true   (ca22a1cb)
2021-09-29T13:18:39.6690522+05:30 800003f5-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:18:39.6698769+05:30 800003f5-0006-fa00-b63f-84710c7967bb [INF] Request finished in 1.0715ms 204  (791a596a)
2021-09-29T13:18:39.6747103+05:30 80000233-0003-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/device/updateDeviceHistory?deviceKey=8B51DFAAF40242D4AC306EFA8B4D66E6&isconnected=true application/json;charset=UTF-8 2 (ca22a1cb)
2021-09-29T13:18:39.6749383+05:30 80000233-0003-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:18:39.6785248+05:30 80000233-0003-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.UpdateDeviceHistory (IoT.WebAPI)"' (500cc934)
2021-09-29T13:18:39.6791556+05:30 80000233-0003-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"UpdateDeviceHistory\", controller = \"Device\"}". Executing controller action with signature "Boolean UpdateDeviceHistory(System.String, Boolean, System.String)" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T13:18:39.9697284+05:30 80000233-0003-f900-b63f-84710c7967bb [INF] Executed DbCommand ("284"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T13:18:40.2598003+05:30 80000233-0003-f900-b63f-84710c7967bb [INF] Executed DbCommand ("282"ms) [Parameters=["@__deviceKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceId], [d].[ConnectionCount], [d].[CreatedDate], [d].[DeviceDesc], [d].[DeviceKey], [d].[DeviceName], [d].[DeviceTypeId], [d].[FriendlyName], [d].[LastConnected], [d].[ManufacturerName], [d].[ModifiedDate], [d].[RoomId], [d].[UserKey]
FROM [Devices] AS [d]
WHERE [d].[DeviceKey] = @__deviceKey_0" (0723d8ff)
2021-09-29T13:18:40.8309443+05:30 80000233-0003-f900-b63f-84710c7967bb [INF] Executed DbCommand ("279"ms) [Parameters=["@p12='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Devices] SET [ConnectionCount] = @p0, [CreatedDate] = @p1, [DeviceDesc] = @p2, [DeviceKey] = @p3, [DeviceName] = @p4, [DeviceTypeId] = @p5, [FriendlyName] = @p6, [LastConnected] = @p7, [ManufacturerName] = @p8, [ModifiedDate] = @p9, [RoomId] = @p10, [UserKey] = @p11
WHERE [DeviceId] = @p12;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-09-29T13:18:41.1130972+05:30 80000233-0003-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Boolean"'. (8a1b66c8)
2021-09-29T13:18:41.1155170+05:30 80000233-0003-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.UpdateDeviceHistory (IoT.WebAPI)" in 1435.8671ms (afa2e885)
2021-09-29T13:18:41.1158837+05:30 80000233-0003-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.UpdateDeviceHistory (IoT.WebAPI)"' (99874f2b)
2021-09-29T13:18:41.1170807+05:30 80000233-0003-f900-b63f-84710c7967bb [INF] Request finished in 1442.2142ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T13:19:39.6305254+05:30 80000235-0003-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/updateDeviceHistory?deviceKey=8B51DFAAF40242D4AC306EFA8B4D66E6&isconnected=true   (ca22a1cb)
2021-09-29T13:19:39.6306828+05:30 80000235-0003-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:19:39.6310968+05:30 80000235-0003-f900-b63f-84710c7967bb [INF] Request finished in 0.5896ms 204  (791a596a)
2021-09-29T13:19:39.6356591+05:30 80000204-0002-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/device/updateDeviceHistory?deviceKey=8B51DFAAF40242D4AC306EFA8B4D66E6&isconnected=true application/json;charset=UTF-8 2 (ca22a1cb)
2021-09-29T13:19:39.6359102+05:30 80000204-0002-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:19:39.6363805+05:30 80000204-0002-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.UpdateDeviceHistory (IoT.WebAPI)"' (500cc934)
2021-09-29T13:19:39.6369031+05:30 80000204-0002-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"UpdateDeviceHistory\", controller = \"Device\"}". Executing controller action with signature "Boolean UpdateDeviceHistory(System.String, Boolean, System.String)" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T13:19:39.9199056+05:30 80000204-0002-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("280"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T13:19:40.2066407+05:30 80000204-0002-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("284"ms) [Parameters=["@__deviceKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceId], [d].[ConnectionCount], [d].[CreatedDate], [d].[DeviceDesc], [d].[DeviceKey], [d].[DeviceName], [d].[DeviceTypeId], [d].[FriendlyName], [d].[LastConnected], [d].[ManufacturerName], [d].[ModifiedDate], [d].[RoomId], [d].[UserKey]
FROM [Devices] AS [d]
WHERE [d].[DeviceKey] = @__deviceKey_0" (0723d8ff)
2021-09-29T13:19:40.7782907+05:30 80000204-0002-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("280"ms) [Parameters=["@p12='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Devices] SET [ConnectionCount] = @p0, [CreatedDate] = @p1, [DeviceDesc] = @p2, [DeviceKey] = @p3, [DeviceName] = @p4, [DeviceTypeId] = @p5, [FriendlyName] = @p6, [LastConnected] = @p7, [ManufacturerName] = @p8, [ModifiedDate] = @p9, [RoomId] = @p10, [UserKey] = @p11
WHERE [DeviceId] = @p12;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-09-29T13:19:41.0586666+05:30 80000204-0002-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Boolean"'. (8a1b66c8)
2021-09-29T13:19:41.0593933+05:30 80000204-0002-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.UpdateDeviceHistory (IoT.WebAPI)" in 1422.3414ms (afa2e885)
2021-09-29T13:19:41.0595282+05:30 80000204-0002-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.UpdateDeviceHistory (IoT.WebAPI)"' (99874f2b)
2021-09-29T13:19:41.0598283+05:30 80000204-0002-fa00-b63f-84710c7967bb [INF] Request finished in 1424.3484ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T13:20:39.6177032+05:30 800006fc-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/updateDeviceHistory?deviceKey=8B51DFAAF40242D4AC306EFA8B4D66E6&isconnected=true   (ca22a1cb)
2021-09-29T13:20:39.6179270+05:30 800006fc-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:20:39.6182406+05:30 800006fc-0000-fa00-b63f-84710c7967bb [INF] Request finished in 0.5995ms 204  (791a596a)
2021-09-29T13:20:39.6205826+05:30 800003ef-0004-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/device/updateDeviceHistory?deviceKey=8B51DFAAF40242D4AC306EFA8B4D66E6&isconnected=true application/json;charset=UTF-8 2 (ca22a1cb)
2021-09-29T13:20:39.6207272+05:30 800003ef-0004-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:20:39.6209663+05:30 800003ef-0004-f700-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.UpdateDeviceHistory (IoT.WebAPI)"' (500cc934)
2021-09-29T13:20:39.6212776+05:30 800003ef-0004-f700-b63f-84710c7967bb [INF] Route matched with "{action = \"UpdateDeviceHistory\", controller = \"Device\"}". Executing controller action with signature "Boolean UpdateDeviceHistory(System.String, Boolean, System.String)" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T13:20:39.9963920+05:30 800003ef-0004-f700-b63f-84710c7967bb [INF] Executed DbCommand ("371"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T13:20:40.2808594+05:30 800003ef-0004-f700-b63f-84710c7967bb [INF] Executed DbCommand ("279"ms) [Parameters=["@__deviceKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceId], [d].[ConnectionCount], [d].[CreatedDate], [d].[DeviceDesc], [d].[DeviceKey], [d].[DeviceName], [d].[DeviceTypeId], [d].[FriendlyName], [d].[LastConnected], [d].[ManufacturerName], [d].[ModifiedDate], [d].[RoomId], [d].[UserKey]
FROM [Devices] AS [d]
WHERE [d].[DeviceKey] = @__deviceKey_0" (0723d8ff)
2021-09-29T13:20:40.8451632+05:30 800003ef-0004-f700-b63f-84710c7967bb [INF] Executed DbCommand ("281"ms) [Parameters=["@p12='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Devices] SET [ConnectionCount] = @p0, [CreatedDate] = @p1, [DeviceDesc] = @p2, [DeviceKey] = @p3, [DeviceName] = @p4, [DeviceTypeId] = @p5, [FriendlyName] = @p6, [LastConnected] = @p7, [ManufacturerName] = @p8, [ModifiedDate] = @p9, [RoomId] = @p10, [UserKey] = @p11
WHERE [DeviceId] = @p12;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-09-29T13:20:41.1277429+05:30 800003ef-0004-f700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Boolean"'. (8a1b66c8)
2021-09-29T13:20:41.1300352+05:30 800003ef-0004-f700-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.UpdateDeviceHistory (IoT.WebAPI)" in 1508.4149ms (afa2e885)
2021-09-29T13:20:41.1302607+05:30 800003ef-0004-f700-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.UpdateDeviceHistory (IoT.WebAPI)"' (99874f2b)
2021-09-29T13:20:41.1311653+05:30 800003ef-0004-f700-b63f-84710c7967bb [INF] Request finished in 1510.4487ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T13:21:39.6582860+05:30 800003f1-0004-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/updateDeviceHistory?deviceKey=8B51DFAAF40242D4AC306EFA8B4D66E6&isconnected=true   (ca22a1cb)
2021-09-29T13:21:39.6587290+05:30 800003f1-0004-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:21:39.6593522+05:30 800003f1-0004-f700-b63f-84710c7967bb [INF] Request finished in 1.2444ms 204  (791a596a)
2021-09-29T13:21:39.6631535+05:30 800003f3-0004-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/device/updateDeviceHistory?deviceKey=8B51DFAAF40242D4AC306EFA8B4D66E6&isconnected=true application/json;charset=UTF-8 2 (ca22a1cb)
2021-09-29T13:21:39.6632594+05:30 800003f3-0004-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:21:39.6635230+05:30 800003f3-0004-f700-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.UpdateDeviceHistory (IoT.WebAPI)"' (500cc934)
2021-09-29T13:21:39.6638580+05:30 800003f3-0004-f700-b63f-84710c7967bb [INF] Route matched with "{action = \"UpdateDeviceHistory\", controller = \"Device\"}". Executing controller action with signature "Boolean UpdateDeviceHistory(System.String, Boolean, System.String)" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T13:21:39.9447442+05:30 800003f3-0004-f700-b63f-84710c7967bb [INF] Executed DbCommand ("278"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T13:21:40.2282622+05:30 800003f3-0004-f700-b63f-84710c7967bb [INF] Executed DbCommand ("279"ms) [Parameters=["@__deviceKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceId], [d].[ConnectionCount], [d].[CreatedDate], [d].[DeviceDesc], [d].[DeviceKey], [d].[DeviceName], [d].[DeviceTypeId], [d].[FriendlyName], [d].[LastConnected], [d].[ManufacturerName], [d].[ModifiedDate], [d].[RoomId], [d].[UserKey]
FROM [Devices] AS [d]
WHERE [d].[DeviceKey] = @__deviceKey_0" (0723d8ff)
2021-09-29T13:21:40.7909939+05:30 800003f3-0004-f700-b63f-84710c7967bb [INF] Executed DbCommand ("281"ms) [Parameters=["@p12='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Devices] SET [ConnectionCount] = @p0, [CreatedDate] = @p1, [DeviceDesc] = @p2, [DeviceKey] = @p3, [DeviceName] = @p4, [DeviceTypeId] = @p5, [FriendlyName] = @p6, [LastConnected] = @p7, [ManufacturerName] = @p8, [ModifiedDate] = @p9, [RoomId] = @p10, [UserKey] = @p11
WHERE [DeviceId] = @p12;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-09-29T13:21:41.0713716+05:30 800003f3-0004-f700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Boolean"'. (8a1b66c8)
2021-09-29T13:21:41.0729656+05:30 800003f3-0004-f700-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.UpdateDeviceHistory (IoT.WebAPI)" in 1408.864ms (afa2e885)
2021-09-29T13:21:41.0732189+05:30 800003f3-0004-f700-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.UpdateDeviceHistory (IoT.WebAPI)"' (99874f2b)
2021-09-29T13:21:41.0744896+05:30 800003f3-0004-f700-b63f-84710c7967bb [INF] Request finished in 1411.1277ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T13:22:39.6519250+05:30 8000034d-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/updateDeviceHistory?deviceKey=8B51DFAAF40242D4AC306EFA8B4D66E6&isconnected=true   (ca22a1cb)
2021-09-29T13:22:39.6520345+05:30 8000034d-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:22:39.6522650+05:30 8000034d-0002-f500-b63f-84710c7967bb [INF] Request finished in 0.3952ms 204  (791a596a)
2021-09-29T13:22:39.6559638+05:30 800003f7-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/device/updateDeviceHistory?deviceKey=8B51DFAAF40242D4AC306EFA8B4D66E6&isconnected=true application/json;charset=UTF-8 2 (ca22a1cb)
2021-09-29T13:22:39.6560708+05:30 800003f7-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:22:39.6562550+05:30 800003f7-0006-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.UpdateDeviceHistory (IoT.WebAPI)"' (500cc934)
2021-09-29T13:22:39.6564653+05:30 800003f7-0006-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"UpdateDeviceHistory\", controller = \"Device\"}". Executing controller action with signature "Boolean UpdateDeviceHistory(System.String, Boolean, System.String)" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T13:22:39.9422147+05:30 800003f7-0006-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("283"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T13:22:40.2312804+05:30 800003f7-0006-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("285"ms) [Parameters=["@__deviceKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceId], [d].[ConnectionCount], [d].[CreatedDate], [d].[DeviceDesc], [d].[DeviceKey], [d].[DeviceName], [d].[DeviceTypeId], [d].[FriendlyName], [d].[LastConnected], [d].[ManufacturerName], [d].[ModifiedDate], [d].[RoomId], [d].[UserKey]
FROM [Devices] AS [d]
WHERE [d].[DeviceKey] = @__deviceKey_0" (0723d8ff)
2021-09-29T13:22:40.7969307+05:30 800003f7-0006-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("281"ms) [Parameters=["@p12='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Devices] SET [ConnectionCount] = @p0, [CreatedDate] = @p1, [DeviceDesc] = @p2, [DeviceKey] = @p3, [DeviceName] = @p4, [DeviceTypeId] = @p5, [FriendlyName] = @p6, [LastConnected] = @p7, [ManufacturerName] = @p8, [ModifiedDate] = @p9, [RoomId] = @p10, [UserKey] = @p11
WHERE [DeviceId] = @p12;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-09-29T13:22:41.0770555+05:30 800003f7-0006-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Boolean"'. (8a1b66c8)
2021-09-29T13:22:41.0784286+05:30 800003f7-0006-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.UpdateDeviceHistory (IoT.WebAPI)" in 1421.7499ms (afa2e885)
2021-09-29T13:22:41.0786036+05:30 800003f7-0006-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.UpdateDeviceHistory (IoT.WebAPI)"' (99874f2b)
2021-09-29T13:22:41.0790641+05:30 800003f7-0006-fa00-b63f-84710c7967bb [INF] Request finished in 1423.0797ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T13:23:35.4762085+05:30 800005c6-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-29T13:23:35.4763893+05:30 800005c6-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:23:35.4767608+05:30 800005c6-0001-fb00-b63f-84710c7967bb [INF] Request finished in 0.567ms 204  (791a596a)
2021-09-29T13:23:35.4815529+05:30 800002e2-0000-f400-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-29T13:23:35.4816936+05:30 800002e2-0000-f400-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:23:35.4866340+05:30 800002e2-0000-f400-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T13:23:35.4933218+05:30 800002e2-0000-f400-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllDeviceCapability(System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T13:23:35.7844056+05:30 800002e2-0000-f400-b63f-84710c7967bb [INF] Executed DbCommand ("281"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T13:23:36.1131093+05:30 800002e2-0000-f400-b63f-84710c7967bb [INF] Executed DbCommand ("283"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
ORDER BY [d].[CapabilityType]" (0723d8ff)
2021-09-29T13:23:36.1727145+05:30 800002e2-0000-f400-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[IoT.DataLayer.Models.DeviceCapability, IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T13:23:36.1780619+05:30 800002e2-0000-f400-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)" in 684.6204ms (afa2e885)
2021-09-29T13:23:36.1789052+05:30 800002e2-0000-f400-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T13:23:36.1824740+05:30 800002e2-0000-f400-b63f-84710c7967bb [INF] Request finished in 700.8985ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T13:23:44.6237320+05:30 8000034f-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/updateDeviceHistory?deviceKey=8B51DFAAF40242D4AC306EFA8B4D66E6&isconnected=true   (ca22a1cb)
2021-09-29T13:23:44.6238940+05:30 8000034f-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:23:44.6243315+05:30 8000034f-0002-f500-b63f-84710c7967bb [INF] Request finished in 0.601ms 204  (791a596a)
2021-09-29T13:23:44.6288274+05:30 80000351-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/device/updateDeviceHistory?deviceKey=8B51DFAAF40242D4AC306EFA8B4D66E6&isconnected=true application/json;charset=UTF-8 2 (ca22a1cb)
2021-09-29T13:23:44.6289567+05:30 80000351-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:23:44.6295124+05:30 80000351-0002-f500-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.UpdateDeviceHistory (IoT.WebAPI)"' (500cc934)
2021-09-29T13:23:44.6299135+05:30 80000351-0002-f500-b63f-84710c7967bb [INF] Route matched with "{action = \"UpdateDeviceHistory\", controller = \"Device\"}". Executing controller action with signature "Boolean UpdateDeviceHistory(System.String, Boolean, System.String)" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T13:23:44.9126383+05:30 80000351-0002-f500-b63f-84710c7967bb [INF] Executed DbCommand ("280"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T13:23:45.1927020+05:30 80000351-0002-f500-b63f-84710c7967bb [INF] Executed DbCommand ("278"ms) [Parameters=["@__deviceKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceId], [d].[ConnectionCount], [d].[CreatedDate], [d].[DeviceDesc], [d].[DeviceKey], [d].[DeviceName], [d].[DeviceTypeId], [d].[FriendlyName], [d].[LastConnected], [d].[ManufacturerName], [d].[ModifiedDate], [d].[RoomId], [d].[UserKey]
FROM [Devices] AS [d]
WHERE [d].[DeviceKey] = @__deviceKey_0" (0723d8ff)
2021-09-29T13:23:46.3875407+05:30 80000351-0002-f500-b63f-84710c7967bb [INF] Executed DbCommand ("911"ms) [Parameters=["@p12='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Devices] SET [ConnectionCount] = @p0, [CreatedDate] = @p1, [DeviceDesc] = @p2, [DeviceKey] = @p3, [DeviceName] = @p4, [DeviceTypeId] = @p5, [FriendlyName] = @p6, [LastConnected] = @p7, [ManufacturerName] = @p8, [ModifiedDate] = @p9, [RoomId] = @p10, [UserKey] = @p11
WHERE [DeviceId] = @p12;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-09-29T13:23:46.6678170+05:30 80000351-0002-f500-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Boolean"'. (8a1b66c8)
2021-09-29T13:23:46.6685796+05:30 80000351-0002-f500-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.UpdateDeviceHistory (IoT.WebAPI)" in 2038.5303ms (afa2e885)
2021-09-29T13:23:46.6687343+05:30 80000351-0002-f500-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.UpdateDeviceHistory (IoT.WebAPI)"' (99874f2b)
2021-09-29T13:23:46.6690328+05:30 80000351-0002-f500-b63f-84710c7967bb [INF] Request finished in 2040.2217ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T13:24:44.5839612+05:30 800005c8-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/updateDeviceHistory?deviceKey=8B51DFAAF40242D4AC306EFA8B4D66E6&isconnected=true   (ca22a1cb)
2021-09-29T13:24:44.5841462+05:30 800005c8-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:24:44.5846523+05:30 800005c8-0001-fb00-b63f-84710c7967bb [INF] Request finished in 0.7502ms 204  (791a596a)
2021-09-29T13:24:44.5898400+05:30 800003f7-0004-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/device/updateDeviceHistory?deviceKey=8B51DFAAF40242D4AC306EFA8B4D66E6&isconnected=true application/json;charset=UTF-8 2 (ca22a1cb)
2021-09-29T13:24:44.5900535+05:30 800003f7-0004-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:24:44.5903808+05:30 800003f7-0004-f700-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.UpdateDeviceHistory (IoT.WebAPI)"' (500cc934)
2021-09-29T13:24:44.5908048+05:30 800003f7-0004-f700-b63f-84710c7967bb [INF] Route matched with "{action = \"UpdateDeviceHistory\", controller = \"Device\"}". Executing controller action with signature "Boolean UpdateDeviceHistory(System.String, Boolean, System.String)" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T13:24:44.8715328+05:30 800003f7-0004-f700-b63f-84710c7967bb [INF] Executed DbCommand ("278"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T13:24:45.1544615+05:30 800003f7-0004-f700-b63f-84710c7967bb [INF] Executed DbCommand ("281"ms) [Parameters=["@__deviceKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceId], [d].[ConnectionCount], [d].[CreatedDate], [d].[DeviceDesc], [d].[DeviceKey], [d].[DeviceName], [d].[DeviceTypeId], [d].[FriendlyName], [d].[LastConnected], [d].[ManufacturerName], [d].[ModifiedDate], [d].[RoomId], [d].[UserKey]
FROM [Devices] AS [d]
WHERE [d].[DeviceKey] = @__deviceKey_0" (0723d8ff)
2021-09-29T13:24:45.7159694+05:30 800003f7-0004-f700-b63f-84710c7967bb [INF] Executed DbCommand ("280"ms) [Parameters=["@p12='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Devices] SET [ConnectionCount] = @p0, [CreatedDate] = @p1, [DeviceDesc] = @p2, [DeviceKey] = @p3, [DeviceName] = @p4, [DeviceTypeId] = @p5, [FriendlyName] = @p6, [LastConnected] = @p7, [ManufacturerName] = @p8, [ModifiedDate] = @p9, [RoomId] = @p10, [UserKey] = @p11
WHERE [DeviceId] = @p12;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-09-29T13:24:45.9970014+05:30 800003f7-0004-f700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Boolean"'. (8a1b66c8)
2021-09-29T13:24:45.9988832+05:30 800003f7-0004-f700-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.UpdateDeviceHistory (IoT.WebAPI)" in 1407.7775ms (afa2e885)
2021-09-29T13:24:45.9991317+05:30 800003f7-0004-f700-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.UpdateDeviceHistory (IoT.WebAPI)"' (99874f2b)
2021-09-29T13:24:46.0000394+05:30 800003f7-0004-f700-b63f-84710c7967bb [INF] Request finished in 1410.174ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T13:25:44.6047265+05:30 80000206-0002-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/updateDeviceHistory?deviceKey=8B51DFAAF40242D4AC306EFA8B4D66E6&isconnected=true   (ca22a1cb)
2021-09-29T13:25:44.6049924+05:30 80000206-0002-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:25:44.6057377+05:30 80000206-0002-fa00-b63f-84710c7967bb [INF] Request finished in 1.0334ms 204  (791a596a)
2021-09-29T13:25:44.6131715+05:30 800002e4-0000-f400-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/device/updateDeviceHistory?deviceKey=8B51DFAAF40242D4AC306EFA8B4D66E6&isconnected=true application/json;charset=UTF-8 2 (ca22a1cb)
2021-09-29T13:25:44.6133153+05:30 800002e4-0000-f400-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:25:44.6135990+05:30 800002e4-0000-f400-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.UpdateDeviceHistory (IoT.WebAPI)"' (500cc934)
2021-09-29T13:25:44.6140780+05:30 800002e4-0000-f400-b63f-84710c7967bb [INF] Route matched with "{action = \"UpdateDeviceHistory\", controller = \"Device\"}". Executing controller action with signature "Boolean UpdateDeviceHistory(System.String, Boolean, System.String)" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T13:25:44.8965298+05:30 800002e4-0000-f400-b63f-84710c7967bb [INF] Executed DbCommand ("281"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T13:25:45.1778366+05:30 800002e4-0000-f400-b63f-84710c7967bb [INF] Executed DbCommand ("280"ms) [Parameters=["@__deviceKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceId], [d].[ConnectionCount], [d].[CreatedDate], [d].[DeviceDesc], [d].[DeviceKey], [d].[DeviceName], [d].[DeviceTypeId], [d].[FriendlyName], [d].[LastConnected], [d].[ManufacturerName], [d].[ModifiedDate], [d].[RoomId], [d].[UserKey]
FROM [Devices] AS [d]
WHERE [d].[DeviceKey] = @__deviceKey_0" (0723d8ff)
2021-09-29T13:25:46.3652336+05:30 800002e4-0000-f400-b63f-84710c7967bb [INF] Executed DbCommand ("907"ms) [Parameters=["@p12='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Devices] SET [ConnectionCount] = @p0, [CreatedDate] = @p1, [DeviceDesc] = @p2, [DeviceKey] = @p3, [DeviceName] = @p4, [DeviceTypeId] = @p5, [FriendlyName] = @p6, [LastConnected] = @p7, [ManufacturerName] = @p8, [ModifiedDate] = @p9, [RoomId] = @p10, [UserKey] = @p11
WHERE [DeviceId] = @p12;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-09-29T13:25:46.6448785+05:30 800002e4-0000-f400-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Boolean"'. (8a1b66c8)
2021-09-29T13:25:46.6456476+05:30 800002e4-0000-f400-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.UpdateDeviceHistory (IoT.WebAPI)" in 2031.3302ms (afa2e885)
2021-09-29T13:25:46.6496663+05:30 800002e4-0000-f400-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.UpdateDeviceHistory (IoT.WebAPI)"' (99874f2b)
2021-09-29T13:25:46.6498964+05:30 800002e4-0000-f400-b63f-84710c7967bb [INF] Request finished in 2036.7917ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T13:26:44.6228446+05:30 800003f9-0004-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/updateDeviceHistory?deviceKey=8B51DFAAF40242D4AC306EFA8B4D66E6&isconnected=true   (ca22a1cb)
2021-09-29T13:26:44.6255029+05:30 800003f9-0004-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:26:44.6345863+05:30 800003f9-0004-f700-b63f-84710c7967bb [INF] Request finished in 3.6751ms 204  (791a596a)
2021-09-29T13:26:44.6363729+05:30 800002e6-0000-f400-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/device/updateDeviceHistory?deviceKey=8B51DFAAF40242D4AC306EFA8B4D66E6&isconnected=true application/json;charset=UTF-8 2 (ca22a1cb)
2021-09-29T13:26:44.6368564+05:30 800002e6-0000-f400-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:26:44.6375993+05:30 800002e6-0000-f400-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.UpdateDeviceHistory (IoT.WebAPI)"' (500cc934)
2021-09-29T13:26:44.6384611+05:30 800002e6-0000-f400-b63f-84710c7967bb [INF] Route matched with "{action = \"UpdateDeviceHistory\", controller = \"Device\"}". Executing controller action with signature "Boolean UpdateDeviceHistory(System.String, Boolean, System.String)" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T13:26:44.9223848+05:30 800002e6-0000-f400-b63f-84710c7967bb [INF] Executed DbCommand ("280"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T13:26:45.2094889+05:30 800002e6-0000-f400-b63f-84710c7967bb [INF] Executed DbCommand ("285"ms) [Parameters=["@__deviceKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceId], [d].[ConnectionCount], [d].[CreatedDate], [d].[DeviceDesc], [d].[DeviceKey], [d].[DeviceName], [d].[DeviceTypeId], [d].[FriendlyName], [d].[LastConnected], [d].[ManufacturerName], [d].[ModifiedDate], [d].[RoomId], [d].[UserKey]
FROM [Devices] AS [d]
WHERE [d].[DeviceKey] = @__deviceKey_0" (0723d8ff)
2021-09-29T13:26:45.7718893+05:30 800002e6-0000-f400-b63f-84710c7967bb [INF] Executed DbCommand ("279"ms) [Parameters=["@p12='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Devices] SET [ConnectionCount] = @p0, [CreatedDate] = @p1, [DeviceDesc] = @p2, [DeviceKey] = @p3, [DeviceName] = @p4, [DeviceTypeId] = @p5, [FriendlyName] = @p6, [LastConnected] = @p7, [ManufacturerName] = @p8, [ModifiedDate] = @p9, [RoomId] = @p10, [UserKey] = @p11
WHERE [DeviceId] = @p12;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-09-29T13:26:46.0522267+05:30 800002e6-0000-f400-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Boolean"'. (8a1b66c8)
2021-09-29T13:26:46.0569980+05:30 800002e6-0000-f400-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.UpdateDeviceHistory (IoT.WebAPI)" in 1418.1742ms (afa2e885)
2021-09-29T13:26:46.0571724+05:30 800002e6-0000-f400-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.UpdateDeviceHistory (IoT.WebAPI)"' (99874f2b)
2021-09-29T13:26:46.0645292+05:30 800002e6-0000-f400-b63f-84710c7967bb [INF] Request finished in 1421.4735ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T13:27:44.6179952+05:30 80000237-0003-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/updateDeviceHistory?deviceKey=8B51DFAAF40242D4AC306EFA8B4D66E6&isconnected=true   (ca22a1cb)
2021-09-29T13:27:44.6188065+05:30 80000237-0003-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:27:44.6292014+05:30 80000237-0003-f900-b63f-84710c7967bb [INF] Request finished in 11.2451ms 204  (791a596a)
2021-09-29T13:27:44.6379398+05:30 80000355-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/device/updateDeviceHistory?deviceKey=8B51DFAAF40242D4AC306EFA8B4D66E6&isconnected=true application/json;charset=UTF-8 2 (ca22a1cb)
2021-09-29T13:27:44.6382133+05:30 80000355-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T13:27:44.6386522+05:30 80000355-0002-f500-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.UpdateDeviceHistory (IoT.WebAPI)"' (500cc934)
2021-09-29T13:27:44.6393590+05:30 80000355-0002-f500-b63f-84710c7967bb [INF] Route matched with "{action = \"UpdateDeviceHistory\", controller = \"Device\"}". Executing controller action with signature "Boolean UpdateDeviceHistory(System.String, Boolean, System.String)" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T13:27:44.9233914+05:30 80000355-0002-f500-b63f-84710c7967bb [INF] Executed DbCommand ("280"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T13:27:45.2037169+05:30 80000355-0002-f500-b63f-84710c7967bb [INF] Executed DbCommand ("279"ms) [Parameters=["@__deviceKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceId], [d].[ConnectionCount], [d].[CreatedDate], [d].[DeviceDesc], [d].[DeviceKey], [d].[DeviceName], [d].[DeviceTypeId], [d].[FriendlyName], [d].[LastConnected], [d].[ManufacturerName], [d].[ModifiedDate], [d].[RoomId], [d].[UserKey]
FROM [Devices] AS [d]
WHERE [d].[DeviceKey] = @__deviceKey_0" (0723d8ff)
2021-09-29T13:27:45.7620836+05:30 80000355-0002-f500-b63f-84710c7967bb [INF] Executed DbCommand ("278"ms) [Parameters=["@p12='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Devices] SET [ConnectionCount] = @p0, [CreatedDate] = @p1, [DeviceDesc] = @p2, [DeviceKey] = @p3, [DeviceName] = @p4, [DeviceTypeId] = @p5, [FriendlyName] = @p6, [LastConnected] = @p7, [ManufacturerName] = @p8, [ModifiedDate] = @p9, [RoomId] = @p10, [UserKey] = @p11
WHERE [DeviceId] = @p12;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-09-29T13:27:46.0445270+05:30 80000355-0002-f500-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Boolean"'. (8a1b66c8)
2021-09-29T13:27:46.0450610+05:30 80000355-0002-f500-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.UpdateDeviceHistory (IoT.WebAPI)" in 1405.5422ms (afa2e885)
2021-09-29T13:27:46.0451128+05:30 80000355-0002-f500-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.UpdateDeviceHistory (IoT.WebAPI)"' (99874f2b)
2021-09-29T13:27:46.0452587+05:30 80000355-0002-f500-b63f-84710c7967bb [INF] Request finished in 1407.4321ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:00:13.1227177+05:30  [INF] User profile is available. Using '"C:\Users\satishsonkar\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2021-09-29T15:00:13.2372524+05:30 800005ca-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/   (ca22a1cb)
2021-09-29T15:00:13.3096617+05:30 800005ca-0001-fb00-b63f-84710c7967bb [INF] Request finished in 76.0195ms 404  (791a596a)
2021-09-29T15:00:27.3916636+05:30 800002ec-0000-f400-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:00:27.3916727+05:30 80000359-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-29T15:00:27.3919674+05:30 800006fe-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:00:27.4033700+05:30 800006fe-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:00:27.4033700+05:30 800002ec-0000-f400-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:00:27.4033700+05:30 80000359-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:00:27.4063919+05:30 800002ec-0000-f400-b63f-84710c7967bb [INF] Request finished in 20.0704ms 204  (791a596a)
2021-09-29T15:00:27.4063919+05:30 800006fe-0000-fa00-b63f-84710c7967bb [INF] Request finished in 15.5578ms 204  (791a596a)
2021-09-29T15:00:27.4063919+05:30 80000359-0002-f500-b63f-84710c7967bb [INF] Request finished in 20.1423ms 204  (791a596a)
2021-09-29T15:00:27.4173463+05:30 8000035b-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:00:27.4173463+05:30 8000031c-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-29T15:00:27.4177600+05:30 8000035b-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:00:27.4177604+05:30 8000031c-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:00:27.4221948+05:30 8000071e-0004-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:00:27.4223348+05:30 8000071e-0004-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:00:27.4304540+05:30 8000071e-0004-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:00:27.4304343+05:30 8000035b-0002-f500-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:00:27.4335438+05:30 8000031c-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:00:27.4853164+05:30 8000071e-0004-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:00:27.4853164+05:30 8000035b-0002-f500-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:00:27.4853164+05:30 8000031c-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllDeviceCapability(System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:00:27.7835911+05:30 8000071e-0004-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:00:27.8106250+05:30 8000071e-0004-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 318.0196ms (afa2e885)
2021-09-29T15:00:27.8107775+05:30 8000071e-0004-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:00:27.8170618+05:30 8000071e-0004-fb00-b63f-84710c7967bb [INF] Request finished in 402.5291ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:00:27.9251558+05:30 800005cc-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:00:27.9252419+05:30 800005cc-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:00:27.9254528+05:30 800005cc-0001-fb00-b63f-84710c7967bb [INF] Request finished in 0.3108ms 204  (791a596a)
2021-09-29T15:00:27.9304576+05:30 80000596-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:00:27.9305848+05:30 80000596-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:00:27.9331274+05:30 80000596-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:00:27.9349806+05:30 80000596-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:00:28.3982860+05:30 80000596-0002-f900-b63f-84710c7967bb [INF] Entity Framework Core "5.0.9" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2021-09-29T15:00:28.3982860+05:30 8000035b-0002-f500-b63f-84710c7967bb [INF] Entity Framework Core "5.0.9" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2021-09-29T15:00:28.3982860+05:30 8000031c-0006-fd00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.9" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2021-09-29T15:00:28.6799755+05:30 80000596-0002-f900-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:00:28.6803163+05:30 80000596-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:00:28.6828362+05:30 80000596-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 747.716ms (afa2e885)
2021-09-29T15:00:28.6830793+05:30 80000596-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:00:28.6903173+05:30 80000596-0002-f900-b63f-84710c7967bb [INF] Request finished in 759.8863ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:00:28.7056017+05:30 80000596-0002-f900-b63f-84710c7967bb [ERR] An error occurred using the connection to database '"IoT-AppDatabase"' on server '"."'. (5fc3407c)
2021-09-29T15:00:28.7694674+05:30 80000596-0002-f900-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:00:29.0161080+05:30 8000031c-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("51"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:00:29.0161208+05:30 8000035b-0002-f500-b63f-84710c7967bb [INF] Executed DbCommand ("47"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:00:29.0884707+05:30 8000035b-0002-f500-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:00:29.0957727+05:30 8000035b-0002-f500-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 1610.0671ms (afa2e885)
2021-09-29T15:00:29.0966469+05:30 8000035b-0002-f500-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:00:29.0985201+05:30 8000035b-0002-f500-b63f-84710c7967bb [INF] Request finished in 1681.2679ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:00:29.1025223+05:30 8000031c-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
ORDER BY [d].[CapabilityType]" (0723d8ff)
2021-09-29T15:00:29.1463568+05:30 8000031c-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[IoT.DataLayer.Models.DeviceCapability, IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:00:29.1525332+05:30 8000031c-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)" in 1666.8592ms (afa2e885)
2021-09-29T15:00:29.1525970+05:30 8000031c-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:00:29.1556006+05:30 8000031c-0006-fd00-b63f-84710c7967bb [INF] Request finished in 1738.3436ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:01:00.7071798+05:30  [INF] User profile is available. Using '"C:\Users\satishsonkar\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2021-09-29T15:01:00.8255739+05:30 80000700-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/   (ca22a1cb)
2021-09-29T15:01:00.8966290+05:30 80000700-0000-fa00-b63f-84710c7967bb [INF] Request finished in 77.1214ms 404  (791a596a)
2021-09-29T15:01:02.6691109+05:30 8000031e-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:01:02.6693735+05:30 80000402-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-29T15:01:02.6695800+05:30 8000035d-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:01:02.6792643+05:30 80000402-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:01:02.6792617+05:30 8000035d-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:01:02.6792617+05:30 8000031e-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:01:02.6824736+05:30 8000035d-0002-f500-b63f-84710c7967bb [INF] Request finished in 13.7072ms 204  (791a596a)
2021-09-29T15:01:02.6824736+05:30 80000402-0006-fa00-b63f-84710c7967bb [INF] Request finished in 14.201ms 204  (791a596a)
2021-09-29T15:01:02.6824736+05:30 8000031e-0006-fd00-b63f-84710c7967bb [INF] Request finished in 20.4026ms 204  (791a596a)
2021-09-29T15:01:02.6863144+05:30 800002ee-0000-f400-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-29T15:01:02.6863143+05:30 800005ce-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:01:02.6867454+05:30 800002ee-0000-f400-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:01:02.6867507+05:30 800005ce-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:01:02.6930901+05:30 80000702-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:01:02.6931911+05:30 80000702-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:01:02.7032836+05:30 800005ce-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:01:02.7032837+05:30 800002ee-0000-f400-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:01:02.7032837+05:30 80000702-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:01:02.7576301+05:30 80000702-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:01:02.7576861+05:30 800002ee-0000-f400-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllDeviceCapability(System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:01:02.7576362+05:30 800005ce-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:01:02.9948042+05:30 80000702-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:01:03.0255563+05:30 80000702-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 259.7294ms (afa2e885)
2021-09-29T15:01:03.0256553+05:30 80000702-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:01:03.0318620+05:30 80000702-0000-fa00-b63f-84710c7967bb [INF] Request finished in 345.7568ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:01:03.2022788+05:30 80000720-0004-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:01:03.2023476+05:30 80000720-0004-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:01:03.2025568+05:30 80000720-0004-fb00-b63f-84710c7967bb [INF] Request finished in 0.2854ms 204  (791a596a)
2021-09-29T15:01:03.2064997+05:30 80000179-0005-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:01:03.2065953+05:30 80000179-0005-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:01:03.2089112+05:30 80000179-0005-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:01:03.2106950+05:30 80000179-0005-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:01:03.6254762+05:30 80000179-0005-f900-b63f-84710c7967bb [INF] Entity Framework Core "5.0.9" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2021-09-29T15:01:03.6254761+05:30 800005ce-0001-fb00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.9" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2021-09-29T15:01:03.6254823+05:30 800002ee-0000-f400-b63f-84710c7967bb [INF] Entity Framework Core "5.0.9" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2021-09-29T15:01:03.9152446+05:30 80000179-0005-f900-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:01:03.9156338+05:30 80000179-0005-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:01:03.9188347+05:30 80000179-0005-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 707.9763ms (afa2e885)
2021-09-29T15:01:03.9189343+05:30 80000179-0005-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:01:03.9273376+05:30 80000179-0005-f900-b63f-84710c7967bb [INF] Request finished in 720.9198ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:01:03.9456256+05:30 80000179-0005-f900-b63f-84710c7967bb [ERR] An error occurred using the connection to database '"IoT-AppDatabase"' on server '"IoT-AppDatabase.mssql.somee.com"'. (5fc3407c)
2021-09-29T15:01:04.0224522+05:30 80000179-0005-f900-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:01:06.4073342+05:30 800002ee-0000-f400-b63f-84710c7967bb [INF] Executed DbCommand ("339"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:01:06.7979163+05:30 800002ee-0000-f400-b63f-84710c7967bb [INF] Executed DbCommand ("312"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
ORDER BY [d].[CapabilityType]" (0723d8ff)
2021-09-29T15:01:06.9155855+05:30 800002ee-0000-f400-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[IoT.DataLayer.Models.DeviceCapability, IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:01:06.9267940+05:30 800002ee-0000-f400-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)" in 4168.541ms (afa2e885)
2021-09-29T15:01:06.9269299+05:30 800002ee-0000-f400-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:01:06.9275857+05:30 800002ee-0000-f400-b63f-84710c7967bb [INF] Request finished in 4241.2675ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:01:07.6105990+05:30 800005ce-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("331"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:01:07.6429294+05:30 800005ce-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:01:07.6469488+05:30 800005ce-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 4888.7113ms (afa2e885)
2021-09-29T15:01:07.6474556+05:30 800005ce-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:01:07.6513169+05:30 800005ce-0001-fb00-b63f-84710c7967bb [INF] Request finished in 4964.974ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:01:39.8947512+05:30 80000722-0004-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:01:39.8957443+05:30 80000722-0004-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:01:39.8972095+05:30 80000722-0004-fb00-b63f-84710c7967bb [INF] Request finished in 2.9778ms 204  (791a596a)
2021-09-29T15:01:39.9078148+05:30 800002f0-0000-f400-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:01:39.9081378+05:30 800002f0-0000-f400-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:01:39.9100962+05:30 800002f0-0000-f400-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:01:39.9125138+05:30 800002f0-0000-f400-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:01:40.2299899+05:30 800002f0-0000-f400-b63f-84710c7967bb [INF] Executed DbCommand ("303"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:01:40.2313073+05:30 800002f0-0000-f400-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:01:40.2378052+05:30 800002f0-0000-f400-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 325.0549ms (afa2e885)
2021-09-29T15:01:40.2379051+05:30 800002f0-0000-f400-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:01:40.2382944+05:30 800002f0-0000-f400-b63f-84710c7967bb [INF] Request finished in 330.5954ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:02:33.8238969+05:30 800003da-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:02:33.8244773+05:30 800003da-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:02:33.8269734+05:30 800003da-0007-ff00-b63f-84710c7967bb [INF] Request finished in 1.7914ms 204  (791a596a)
2021-09-29T15:02:33.8311318+05:30 8000035f-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:02:33.8317355+05:30 8000035f-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:02:33.8319456+05:30 80000724-0004-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:02:33.8323611+05:30 80000724-0004-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:02:33.8328555+05:30 8000035f-0002-f500-b63f-84710c7967bb [INF] Request finished in 7.0838ms 204  (791a596a)
2021-09-29T15:02:33.8355831+05:30 80000724-0004-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:02:33.8377033+05:30 80000724-0004-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:02:33.8407744+05:30 80000361-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:02:33.8409362+05:30 80000361-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:02:33.8412739+05:30 80000361-0002-f500-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:02:33.8435949+05:30 80000361-0002-f500-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:02:33.8448525+05:30 80000361-0002-f500-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:02:33.8462015+05:30 80000361-0002-f500-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 2.3525ms (afa2e885)
2021-09-29T15:02:33.8462856+05:30 80000361-0002-f500-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:02:33.8466150+05:30 80000361-0002-f500-b63f-84710c7967bb [INF] Request finished in 5.955ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:02:34.1508254+05:30 80000724-0004-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("303"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:02:34.1546702+05:30 80000724-0004-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:02:34.1578754+05:30 80000724-0004-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 319.8041ms (afa2e885)
2021-09-29T15:02:34.1583669+05:30 80000724-0004-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:02:34.1591986+05:30 80000724-0004-fb00-b63f-84710c7967bb [INF] Request finished in 327.2683ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:02:34.3518513+05:30 80000404-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:02:34.3532670+05:30 80000404-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:02:34.3550704+05:30 80000404-0006-fa00-b63f-84710c7967bb [INF] Request finished in 4.1149ms 204  (791a596a)
2021-09-29T15:02:34.3691782+05:30 80000726-0004-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:02:34.3693799+05:30 80000726-0004-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:02:34.3724564+05:30 80000726-0004-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:02:34.3729109+05:30 80000726-0004-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:02:34.3773288+05:30 80000726-0004-fb00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:02:34.3775792+05:30 80000726-0004-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:02:34.3781474+05:30 80000726-0004-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 5.084ms (afa2e885)
2021-09-29T15:02:34.3782039+05:30 80000726-0004-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:02:34.3820836+05:30 80000726-0004-fb00-b63f-84710c7967bb [INF] Request finished in 13.3065ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:02:34.3854202+05:30 80000726-0004-fb00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("8"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-29T15:02:34.3890424+05:30 80000726-0004-fb00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:02:35.0356579+05:30 8000017b-0005-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:02:35.0360831+05:30 8000017b-0005-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:02:35.0360833+05:30 80000363-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:02:35.0361558+05:30 80000406-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:02:35.0363658+05:30 80000363-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:02:35.0364481+05:30 80000406-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:02:35.0368413+05:30 8000017b-0005-f900-b63f-84710c7967bb [INF] Request finished in 5.1181ms 204  (791a596a)
2021-09-29T15:02:35.0370594+05:30 80000406-0006-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:02:35.0370835+05:30 80000363-0002-f500-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:02:35.0376473+05:30 80000406-0006-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:02:35.0376584+05:30 80000363-0002-f500-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:02:35.0408836+05:30 80000406-0006-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:02:35.0423575+05:30 80000598-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:02:35.0427143+05:30 80000598-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:02:35.0428714+05:30 80000406-0006-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 4.8308ms (afa2e885)
2021-09-29T15:02:35.0432283+05:30 80000406-0006-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:02:35.0436574+05:30 80000406-0006-fa00-b63f-84710c7967bb [INF] Request finished in 7.6565ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:02:35.0495447+05:30 80000598-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:02:35.0498587+05:30 80000598-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:02:35.2189085+05:30 80000728-0004-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:02:35.2190187+05:30 80000728-0004-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:02:35.2192582+05:30 80000728-0004-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:02:35.2194492+05:30 80000728-0004-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:02:35.2362327+05:30 80000728-0004-fb00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:02:35.2368259+05:30 80000728-0004-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:02:35.2376347+05:30 80000728-0004-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 18.0778ms (afa2e885)
2021-09-29T15:02:35.2377334+05:30 80000728-0004-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:02:35.2383882+05:30 80000728-0004-fb00-b63f-84710c7967bb [INF] Request finished in 19.4783ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:02:35.2396423+05:30 80000728-0004-fb00-b63f-84710c7967bb [ERR] An error occurred using the connection to database '"IoT-AppDatabase"' on server '"IoT-AppDatabase.mssql.somee.com"'. (5fc3407c)
2021-09-29T15:02:35.2454791+05:30 80000728-0004-fb00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:02:35.3515024+05:30 80000363-0002-f500-b63f-84710c7967bb [INF] Executed DbCommand ("303"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:02:35.3578197+05:30 80000363-0002-f500-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:02:35.3585903+05:30 80000363-0002-f500-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 320.7922ms (afa2e885)
2021-09-29T15:02:35.3586621+05:30 80000363-0002-f500-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:02:35.3588110+05:30 80000363-0002-f500-b63f-84710c7967bb [INF] Request finished in 322.8816ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:02:36.4829913+05:30 80000598-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("285"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:02:36.4844506+05:30 80000598-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:02:36.4862187+05:30 80000598-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 1436.192ms (afa2e885)
2021-09-29T15:02:36.4863284+05:30 80000598-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:02:36.4866436+05:30 80000598-0002-f900-b63f-84710c7967bb [INF] Request finished in 1444.4389ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:02:37.3697515+05:30 8000017d-0005-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-29T15:02:37.3700066+05:30 8000017d-0005-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:02:37.3706217+05:30 8000017d-0005-f900-b63f-84710c7967bb [INF] Request finished in 0.9448ms 204  (791a596a)
2021-09-29T15:02:37.3749106+05:30 800002f2-0000-f400-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-29T15:02:37.3750436+05:30 800002f2-0000-f400-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:02:37.3835683+05:30 800002f2-0000-f400-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:02:37.3869509+05:30 800002f2-0000-f400-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllDeviceCapability(System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:02:37.6756523+05:30 800002f2-0000-f400-b63f-84710c7967bb [INF] Executed DbCommand ("286"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:02:37.9673977+05:30 800002f2-0000-f400-b63f-84710c7967bb [INF] Executed DbCommand ("286"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
ORDER BY [d].[CapabilityType]" (0723d8ff)
2021-09-29T15:02:37.9741095+05:30 800002f2-0000-f400-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[IoT.DataLayer.Models.DeviceCapability, IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:02:37.9768353+05:30 800002f2-0000-f400-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)" in 589.6617ms (afa2e885)
2021-09-29T15:02:37.9770498+05:30 800002f2-0000-f400-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:02:37.9777594+05:30 800002f2-0000-f400-b63f-84710c7967bb [INF] Request finished in 602.7904ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:02:38.8573078+05:30 800005d0-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:02:38.8574951+05:30 800005d0-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:02:38.8579276+05:30 800005d0-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:02:38.8584289+05:30 800005d0-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:02:39.1485928+05:30 800005d0-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("286"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:02:39.1506328+05:30 800005d0-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:02:39.1534569+05:30 800005d0-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 294.6713ms (afa2e885)
2021-09-29T15:02:39.1537451+05:30 800005d0-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:02:39.1545572+05:30 800005d0-0001-fb00-b63f-84710c7967bb [INF] Request finished in 297.1143ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:06:13.3620786+05:30 8000017f-0005-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:06:13.3626669+05:30 8000017f-0005-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:06:13.3629762+05:30 80000352-0007-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:06:13.3629761+05:30 8000059a-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:06:13.3640412+05:30 80000352-0007-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:06:13.3640439+05:30 8000059a-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:06:13.3694244+05:30 80000352-0007-fc00-b63f-84710c7967bb [INF] Request finished in 6.3805ms 204  (791a596a)
2021-09-29T15:06:13.3694243+05:30 8000059a-0002-f900-b63f-84710c7967bb [INF] Request finished in 6.3813ms 204  (791a596a)
2021-09-29T15:06:13.3721909+05:30 8000017f-0005-f900-b63f-84710c7967bb [INF] Request finished in 13.1634ms 204  (791a596a)
2021-09-29T15:06:13.3736887+05:30 800002f4-0000-f400-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:06:13.3763362+05:30 800002f4-0000-f400-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:06:13.3764685+05:30 80000354-0007-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:06:13.3765058+05:30 80000320-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:06:13.3765702+05:30 80000354-0007-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:06:13.3768594+05:30 80000354-0007-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:06:13.3768594+05:30 800002f4-0000-f400-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:06:13.3769315+05:30 80000320-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:06:13.3772927+05:30 80000354-0007-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:06:13.3772977+05:30 800002f4-0000-f400-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:06:13.3774802+05:30 80000320-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:06:13.3777681+05:30 80000320-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:06:13.3793172+05:30 80000354-0007-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:06:13.3802797+05:30 80000354-0007-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 2.7791ms (afa2e885)
2021-09-29T15:06:13.3804109+05:30 80000354-0007-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:06:13.3808147+05:30 80000354-0007-fc00-b63f-84710c7967bb [INF] Request finished in 4.2616ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:06:13.6660436+05:30 80000320-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("286"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:06:13.6672410+05:30 80000320-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:06:13.6679889+05:30 80000320-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 290.1263ms (afa2e885)
2021-09-29T15:06:13.6680727+05:30 80000320-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:06:13.6683271+05:30 80000320-0006-fd00-b63f-84710c7967bb [INF] Request finished in 291.9037ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:06:13.6830342+05:30 800002f4-0000-f400-b63f-84710c7967bb [INF] Executed DbCommand ("303"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:06:13.6835071+05:30 800002f4-0000-f400-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:06:13.6841742+05:30 800002f4-0000-f400-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 306.7631ms (afa2e885)
2021-09-29T15:06:13.6842464+05:30 800002f4-0000-f400-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:06:13.6844619+05:30 800002f4-0000-f400-b63f-84710c7967bb [INF] Request finished in 310.8141ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:06:13.8705322+05:30 80000450-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:06:13.8708136+05:30 80000450-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:06:13.8713826+05:30 80000450-0004-fa00-b63f-84710c7967bb [INF] Request finished in 0.8931ms 204  (791a596a)
2021-09-29T15:06:13.8815379+05:30 8000059c-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:06:13.8817342+05:30 8000059c-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:06:13.8820280+05:30 8000059c-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:06:13.8824279+05:30 8000059c-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:06:13.8885125+05:30 8000059c-0002-f900-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:06:13.8888653+05:30 8000059c-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:06:13.8897702+05:30 8000059c-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 7.194ms (afa2e885)
2021-09-29T15:06:13.8898561+05:30 8000059c-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:06:13.8919024+05:30 8000059c-0002-f900-b63f-84710c7967bb [INF] Request finished in 10.3488ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:06:13.8937322+05:30 8000059c-0002-f900-b63f-84710c7967bb [ERR] Failed executing DbCommand ("7"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-29T15:06:13.8965450+05:30 8000059c-0002-f900-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:06:14.0939562+05:30 800002f6-0000-f400-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:06:14.0941119+05:30 800002f6-0000-f400-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:06:14.0941783+05:30 80000181-0005-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:06:14.0943216+05:30 80000181-0005-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:06:14.0945091+05:30 800002f6-0000-f400-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:06:14.0945572+05:30 80000181-0005-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:06:14.0947816+05:30 800002f6-0000-f400-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:06:14.0948186+05:30 80000181-0005-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:06:14.0963079+05:30 80000184-0003-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:06:14.0964734+05:30 80000184-0003-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:06:14.0968625+05:30 80000184-0003-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:06:14.0974065+05:30 80000184-0003-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:06:14.1050912+05:30 80000184-0003-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:06:14.1055576+05:30 80000184-0003-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 8.0203ms (afa2e885)
2021-09-29T15:06:14.1056058+05:30 80000184-0003-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:06:14.1058193+05:30 80000184-0003-fb00-b63f-84710c7967bb [INF] Request finished in 9.5454ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:06:14.2836596+05:30 8000059e-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:06:14.2838009+05:30 8000059e-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:06:14.2839989+05:30 8000059e-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:06:14.2842160+05:30 8000059e-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:06:14.2899855+05:30 8000059e-0002-f900-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:06:14.2903413+05:30 8000059e-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:06:14.2915406+05:30 8000059e-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 7.1692ms (afa2e885)
2021-09-29T15:06:14.2917109+05:30 8000059e-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:06:14.2925812+05:30 8000059e-0002-f900-b63f-84710c7967bb [INF] Request finished in 8.926ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:06:14.2955688+05:30 8000059e-0002-f900-b63f-84710c7967bb [ERR] An error occurred using the connection to database '"IoT-AppDatabase"' on server '"IoT-AppDatabase.mssql.somee.com"'. (5fc3407c)
2021-09-29T15:06:14.3056869+05:30 8000059e-0002-f900-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:06:14.3821065+05:30 800002f6-0000-f400-b63f-84710c7967bb [INF] Executed DbCommand ("285"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:06:14.3827861+05:30 800002f6-0000-f400-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:06:14.3841082+05:30 800002f6-0000-f400-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 289.0821ms (afa2e885)
2021-09-29T15:06:14.3842928+05:30 800002f6-0000-f400-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:06:14.3844367+05:30 800002f6-0000-f400-b63f-84710c7967bb [INF] Request finished in 290.6038ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:06:15.5545305+05:30 80000181-0005-f900-b63f-84710c7967bb [INF] Executed DbCommand ("288"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:06:15.5582092+05:30 80000181-0005-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:06:15.5613760+05:30 80000181-0005-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 1466.3298ms (afa2e885)
2021-09-29T15:06:15.5615121+05:30 80000181-0005-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:06:15.5619271+05:30 80000181-0005-f900-b63f-84710c7967bb [INF] Request finished in 1467.7176ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:06:32.2884565+05:30 80000365-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:06:32.2884771+05:30 800005a0-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:06:32.2885941+05:30 80000365-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:06:32.2886075+05:30 800005a0-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:06:32.2894093+05:30 80000365-0002-f500-b63f-84710c7967bb [INF] Request finished in 0.9863ms 204  (791a596a)
2021-09-29T15:06:32.2895145+05:30 800005a0-0002-f900-b63f-84710c7967bb [INF] Request finished in 1.0325ms 204  (791a596a)
2021-09-29T15:06:32.2904553+05:30 800005a2-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:06:32.2905870+05:30 800005a2-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:06:32.2908678+05:30 800005a2-0002-f900-b63f-84710c7967bb [INF] Request finished in 0.3984ms 204  (791a596a)
2021-09-29T15:06:32.2978444+05:30 80000322-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:06:32.2981029+05:30 80000322-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:06:32.2981191+05:30 80000348-0006-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:06:32.2981646+05:30 80000348-0006-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:06:32.2983335+05:30 80000322-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:06:32.2984680+05:30 80000348-0006-f700-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:06:32.2986919+05:30 80000348-0006-f700-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:06:32.2986908+05:30 80000322-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:06:32.2990206+05:30 800005d2-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:06:32.2991852+05:30 800005d2-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:06:32.3001962+05:30 800005d2-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:06:32.3014556+05:30 800005d2-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:06:32.3015697+05:30 80000322-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:06:32.3021896+05:30 80000322-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 3.4082ms (afa2e885)
2021-09-29T15:06:32.3022394+05:30 80000322-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:06:32.3024383+05:30 80000322-0006-fd00-b63f-84710c7967bb [INF] Request finished in 4.6335ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:06:32.5900261+05:30 800005d2-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("282"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:06:32.5902674+05:30 80000348-0006-f700-b63f-84710c7967bb [INF] Executed DbCommand ("287"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:06:32.5904538+05:30 800005d2-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:06:32.5910802+05:30 800005d2-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 289.5112ms (afa2e885)
2021-09-29T15:06:32.5911324+05:30 800005d2-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:06:32.5913279+05:30 800005d2-0001-fb00-b63f-84710c7967bb [INF] Request finished in 292.3224ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:06:32.5918665+05:30 80000348-0006-f700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:06:32.5926241+05:30 80000348-0006-f700-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 293.8332ms (afa2e885)
2021-09-29T15:06:32.5927082+05:30 80000348-0006-f700-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:06:32.5929511+05:30 80000348-0006-f700-b63f-84710c7967bb [INF] Request finished in 294.8346ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:06:32.7966367+05:30 8000034a-0006-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:06:32.7966922+05:30 8000034a-0006-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:06:32.7968607+05:30 8000034a-0006-f700-b63f-84710c7967bb [INF] Request finished in 0.2591ms 204  (791a596a)
2021-09-29T15:06:32.7995710+05:30 800002f8-0000-f400-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:06:32.7996170+05:30 800002f8-0000-f400-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:06:32.7997352+05:30 800002f8-0000-f400-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:06:32.7999143+05:30 800002f8-0000-f400-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:06:32.8031376+05:30 800002f8-0000-f400-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:06:32.8032931+05:30 800002f8-0000-f400-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:06:32.8037089+05:30 800002f8-0000-f400-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 3.7186ms (afa2e885)
2021-09-29T15:06:32.8038336+05:30 800002f8-0000-f400-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:06:32.8047800+05:30 800002f8-0000-f400-b63f-84710c7967bb [INF] Request finished in 5.1978ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:06:32.8073031+05:30 800002f8-0000-f400-b63f-84710c7967bb [ERR] Failed executing DbCommand ("5"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-29T15:06:32.8097605+05:30 800002f8-0000-f400-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:06:36.0451970+05:30 80000183-0005-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:06:36.0457132+05:30 80000183-0005-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:06:36.0459243+05:30 8000034c-0006-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:06:36.0459790+05:30 8000034c-0006-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:06:36.0459782+05:30 80000324-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:06:36.0460149+05:30 80000324-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:06:36.0462271+05:30 80000324-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:06:36.0462274+05:30 8000034c-0006-f700-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:06:36.0462274+05:30 80000183-0005-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:06:36.0465325+05:30 8000034c-0006-f700-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:06:36.0465321+05:30 80000324-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:06:36.0465734+05:30 80000183-0005-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:06:36.0478699+05:30 80000324-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:06:36.0486639+05:30 80000324-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 1.9952ms (afa2e885)
2021-09-29T15:06:36.0487192+05:30 80000324-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:06:36.0489130+05:30 80000324-0006-fd00-b63f-84710c7967bb [INF] Request finished in 3.0014ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:06:36.2427327+05:30 80000356-0007-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:06:36.2428881+05:30 80000356-0007-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:06:36.2431002+05:30 80000356-0007-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:06:36.2433994+05:30 80000356-0007-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:06:36.2503056+05:30 80000356-0007-fc00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:06:36.2506248+05:30 80000356-0007-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:06:36.2517984+05:30 80000356-0007-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 8.2355ms (afa2e885)
2021-09-29T15:06:36.2519372+05:30 80000356-0007-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:06:36.2530060+05:30 80000356-0007-fc00-b63f-84710c7967bb [INF] Request finished in 10.1332ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:06:36.2542087+05:30 80000356-0007-fc00-b63f-84710c7967bb [ERR] An error occurred using the connection to database '"IoT-AppDatabase"' on server '"IoT-AppDatabase.mssql.somee.com"'. (5fc3407c)
2021-09-29T15:06:36.2644051+05:30 80000356-0007-fc00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:06:36.3330903+05:30 80000183-0005-f900-b63f-84710c7967bb [INF] Executed DbCommand ("285"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:06:36.3334159+05:30 80000183-0005-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:06:36.3337220+05:30 80000183-0005-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 287.1012ms (afa2e885)
2021-09-29T15:06:36.3337562+05:30 80000183-0005-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:06:36.3338243+05:30 80000183-0005-f900-b63f-84710c7967bb [INF] Request finished in 288.716ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:06:37.5778638+05:30 8000034c-0006-f700-b63f-84710c7967bb [INF] Executed DbCommand ("302"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:06:37.5788748+05:30 8000034c-0006-f700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:06:37.5796759+05:30 8000034c-0006-f700-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 1533.0158ms (afa2e885)
2021-09-29T15:06:37.5798326+05:30 8000034c-0006-f700-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:06:37.5801278+05:30 8000034c-0006-f700-b63f-84710c7967bb [INF] Request finished in 1534.1723ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:07:02.8952241+05:30 80000452-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:07:02.8953024+05:30 80000452-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:07:02.8955263+05:30 80000186-0003-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:07:02.8955836+05:30 80000186-0003-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:07:02.8956270+05:30 80000452-0004-fa00-b63f-84710c7967bb [INF] Request finished in 0.4582ms 204  (791a596a)
2021-09-29T15:07:02.8956713+05:30 80000186-0003-fb00-b63f-84710c7967bb [INF] Request finished in 0.1689ms 204  (791a596a)
2021-09-29T15:07:02.8957922+05:30 80000185-0005-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:07:02.8958326+05:30 80000185-0005-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:07:02.8959972+05:30 80000185-0005-f900-b63f-84710c7967bb [INF] Request finished in 0.2057ms 204  (791a596a)
2021-09-29T15:07:02.9014112+05:30 8000034e-0006-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:07:02.9014112+05:30 80000454-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:07:02.9014610+05:30 8000034e-0006-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:07:02.9014610+05:30 80000454-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:07:02.9015303+05:30 8000072a-0004-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:07:02.9015591+05:30 8000072a-0004-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:07:02.9016309+05:30 8000034e-0006-f700-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:07:02.9016771+05:30 80000454-0004-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:07:02.9017133+05:30 8000072a-0004-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:07:02.9018795+05:30 80000454-0004-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:07:02.9018828+05:30 8000072a-0004-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:07:02.9018834+05:30 8000034e-0006-f700-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:07:02.9029028+05:30 8000034e-0006-f700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:07:02.9035191+05:30 8000034e-0006-f700-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 1.5102ms (afa2e885)
2021-09-29T15:07:02.9035607+05:30 8000034e-0006-f700-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:07:02.9038008+05:30 8000034e-0006-f700-b63f-84710c7967bb [INF] Request finished in 2.446ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:07:03.2385671+05:30 8000072a-0004-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("333"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:07:03.2491160+05:30 8000072a-0004-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:07:03.2624808+05:30 8000072a-0004-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 348.8613ms (afa2e885)
2021-09-29T15:07:03.2626957+05:30 8000072a-0004-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:07:03.2631701+05:30 8000072a-0004-fb00-b63f-84710c7967bb [INF] Request finished in 361.6037ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:07:03.2883329+05:30 80000454-0004-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("385"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:07:03.2896681+05:30 80000454-0004-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:07:03.2912793+05:30 80000454-0004-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 389.1968ms (afa2e885)
2021-09-29T15:07:03.2914123+05:30 80000454-0004-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:07:03.2916260+05:30 80000454-0004-fa00-b63f-84710c7967bb [INF] Request finished in 390.2098ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:07:03.4782793+05:30 800005d4-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:07:03.4783776+05:30 800005d4-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:07:03.4786581+05:30 800005d4-0001-fb00-b63f-84710c7967bb [INF] Request finished in 0.4039ms 204  (791a596a)
2021-09-29T15:07:03.4837977+05:30 80000188-0003-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:07:03.4838897+05:30 80000188-0003-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:07:03.4841801+05:30 80000188-0003-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:07:03.4846190+05:30 80000188-0003-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:07:03.4913386+05:30 80000188-0003-fb00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:07:03.4919042+05:30 80000188-0003-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:07:03.4930353+05:30 80000188-0003-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 7.7004ms (afa2e885)
2021-09-29T15:07:03.4931380+05:30 80000188-0003-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:07:03.4946228+05:30 80000188-0003-fb00-b63f-84710c7967bb [INF] Request finished in 10.8521ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:07:03.4974131+05:30 80000188-0003-fb00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("8"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-29T15:07:03.5022470+05:30 80000188-0003-fb00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:07:06.2035179+05:30 800002fa-0000-f400-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:07:06.2035955+05:30 800002fa-0000-f400-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:07:06.2036169+05:30 80000704-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:07:06.2036476+05:30 80000704-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:07:06.2038307+05:30 80000378-0000-f600-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:07:06.2038653+05:30 80000378-0000-f600-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:07:06.2041680+05:30 80000378-0000-f600-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:07:06.2041680+05:30 80000704-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:07:06.2041681+05:30 800002fa-0000-f400-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:07:06.2044285+05:30 80000704-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:07:06.2044349+05:30 80000378-0000-f600-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:07:06.2044419+05:30 800002fa-0000-f400-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:07:06.2054674+05:30 80000378-0000-f600-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:07:06.2068944+05:30 80000378-0000-f600-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 1.5661ms (afa2e885)
2021-09-29T15:07:06.2069458+05:30 80000378-0000-f600-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:07:06.2070431+05:30 80000378-0000-f600-b63f-84710c7967bb [INF] Request finished in 3.3575ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:07:06.4501219+05:30 800005a4-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:07:06.4502005+05:30 800005a4-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:07:06.4503384+05:30 800005a4-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:07:06.4505088+05:30 800005a4-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:07:06.4552989+05:30 800005a4-0002-f900-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:07:06.4557328+05:30 800005a4-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:07:06.4566090+05:30 800005a4-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 5.9332ms (afa2e885)
2021-09-29T15:07:06.4566921+05:30 800005a4-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:07:06.4573968+05:30 800005a4-0002-f900-b63f-84710c7967bb [INF] Request finished in 7.3074ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:07:06.4583312+05:30 800005a4-0002-f900-b63f-84710c7967bb [ERR] An error occurred using the connection to database '"IoT-AppDatabase"' on server '"IoT-AppDatabase.mssql.somee.com"'. (5fc3407c)
2021-09-29T15:07:06.4664027+05:30 800005a4-0002-f900-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:07:06.4910815+05:30 800002fa-0000-f400-b63f-84710c7967bb [INF] Executed DbCommand ("285"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:07:06.4916174+05:30 800002fa-0000-f400-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:07:06.4925759+05:30 800002fa-0000-f400-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 287.983ms (afa2e885)
2021-09-29T15:07:06.4926410+05:30 800002fa-0000-f400-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:07:06.4927990+05:30 800002fa-0000-f400-b63f-84710c7967bb [INF] Request finished in 289.3252ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:07:07.7943371+05:30 80000704-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("309"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:07:07.7949982+05:30 80000704-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:07:07.7953469+05:30 80000704-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 1590.8415ms (afa2e885)
2021-09-29T15:07:07.7953982+05:30 80000704-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:07:07.7955755+05:30 80000704-0000-fa00-b63f-84710c7967bb [INF] Request finished in 1591.9694ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:07:35.5744001+05:30 80000367-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:07:35.5744080+05:30 800005a6-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:07:35.5744626+05:30 800005a6-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:07:35.5744630+05:30 80000367-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:07:35.5749657+05:30 800005a6-0002-f900-b63f-84710c7967bb [INF] Request finished in 0.5695ms 204  (791a596a)
2021-09-29T15:07:35.5752762+05:30 80000367-0002-f500-b63f-84710c7967bb [INF] Request finished in 0.9031ms 204  (791a596a)
2021-09-29T15:07:35.5797966+05:30 80000369-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:07:35.5798786+05:30 80000369-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:07:35.5800646+05:30 80000369-0002-f500-b63f-84710c7967bb [INF] Request finished in 0.5097ms 204  (791a596a)
2021-09-29T15:07:35.5814589+05:30 8000036b-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:07:35.5816011+05:30 8000036b-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:07:35.5817867+05:30 8000036b-0002-f500-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:07:35.5818936+05:30 8000036b-0002-f500-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:07:35.5828694+05:30 800005d6-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:07:35.5829386+05:30 800005d6-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:07:35.5831328+05:30 800005d6-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:07:35.5832333+05:30 800005d6-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:07:35.5847825+05:30 80000706-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:07:35.5848389+05:30 80000706-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:07:35.5849258+05:30 80000706-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:07:35.5850117+05:30 80000706-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:07:35.5857737+05:30 80000706-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:07:35.5896963+05:30 80000706-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 4.5968ms (afa2e885)
2021-09-29T15:07:35.5900417+05:30 80000706-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:07:35.5903632+05:30 80000706-0000-fa00-b63f-84710c7967bb [INF] Request finished in 5.5392ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:07:35.8682146+05:30 8000036b-0002-f500-b63f-84710c7967bb [INF] Executed DbCommand ("285"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:07:35.8684697+05:30 8000036b-0002-f500-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:07:35.8688079+05:30 8000036b-0002-f500-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 286.7747ms (afa2e885)
2021-09-29T15:07:35.8688503+05:30 8000036b-0002-f500-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:07:35.8689255+05:30 8000036b-0002-f500-b63f-84710c7967bb [INF] Request finished in 287.5116ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:07:35.8886863+05:30 800005d6-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("303"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:07:35.8898262+05:30 800005d6-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:07:35.8903168+05:30 800005d6-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 307.0127ms (afa2e885)
2021-09-29T15:07:35.8903920+05:30 800005d6-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:07:35.8905739+05:30 800005d6-0001-fb00-b63f-84710c7967bb [INF] Request finished in 307.736ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:07:36.0801255+05:30 80000350-0006-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:07:36.0802523+05:30 80000350-0006-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:07:36.0805525+05:30 80000350-0006-f700-b63f-84710c7967bb [INF] Request finished in 0.5114ms 204  (791a596a)
2021-09-29T15:07:36.0854845+05:30 80000187-0005-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:07:36.0855534+05:30 80000187-0005-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:07:36.0856470+05:30 80000187-0005-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:07:36.0857703+05:30 80000187-0005-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:07:36.0912693+05:30 80000187-0005-f900-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:07:36.0914356+05:30 80000187-0005-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:07:36.0920104+05:30 80000187-0005-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 6.0988ms (afa2e885)
2021-09-29T15:07:36.0920823+05:30 80000187-0005-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:07:36.0933735+05:30 80000187-0005-f900-b63f-84710c7967bb [INF] Request finished in 7.9009ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:07:36.0968692+05:30 80000187-0005-f900-b63f-84710c7967bb [ERR] Failed executing DbCommand ("6"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-29T15:07:36.1007550+05:30 80000187-0005-f900-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:07:39.0378743+05:30 80000456-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:07:39.0379948+05:30 80000456-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:07:39.0381638+05:30 80000456-0004-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:07:39.0383124+05:30 80000456-0004-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:07:39.0392062+05:30 8000036d-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:07:39.0392632+05:30 8000036d-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:07:39.0393991+05:30 8000036d-0002-f500-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:07:39.0394904+05:30 8000036d-0002-f500-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:07:39.0396947+05:30 800005d8-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:07:39.0397320+05:30 800005d8-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:07:39.0397968+05:30 800005d8-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:07:39.0398632+05:30 800005d8-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:07:39.0404196+05:30 800005d8-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:07:39.0408355+05:30 800005d8-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.9216ms (afa2e885)
2021-09-29T15:07:39.0408776+05:30 800005d8-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:07:39.0409493+05:30 800005d8-0001-fb00-b63f-84710c7967bb [INF] Request finished in 1.2746ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:07:39.2321533+05:30 80000352-0006-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:07:39.2322976+05:30 80000352-0006-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:07:39.2325264+05:30 80000352-0006-f700-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:07:39.2327597+05:30 80000352-0006-f700-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:07:39.2403086+05:30 80000352-0006-f700-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:07:39.2405631+05:30 80000352-0006-f700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:07:39.2416928+05:30 80000352-0006-f700-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 8.7698ms (afa2e885)
2021-09-29T15:07:39.2418378+05:30 80000352-0006-f700-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:07:39.2536238+05:30 80000352-0006-f700-b63f-84710c7967bb [INF] Request finished in 21.5152ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:07:39.2542028+05:30 80000352-0006-f700-b63f-84710c7967bb [ERR] An error occurred using the connection to database '"IoT-AppDatabase"' on server '"IoT-AppDatabase.mssql.somee.com"'. (5fc3407c)
2021-09-29T15:07:39.2634178+05:30 80000352-0006-f700-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:07:39.3250432+05:30 80000456-0004-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("285"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:07:39.3254585+05:30 80000456-0004-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:07:39.3258127+05:30 80000456-0004-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 287.4208ms (afa2e885)
2021-09-29T15:07:39.3258522+05:30 80000456-0004-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:07:39.3259347+05:30 80000456-0004-fa00-b63f-84710c7967bb [INF] Request finished in 288.3541ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:07:40.5812301+05:30 8000036d-0002-f500-b63f-84710c7967bb [INF] Executed DbCommand ("313"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:07:40.5817633+05:30 8000036d-0002-f500-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:07:40.5821316+05:30 8000036d-0002-f500-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 1542.4947ms (afa2e885)
2021-09-29T15:07:40.5821997+05:30 8000036d-0002-f500-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:07:40.5823085+05:30 8000036d-0002-f500-b63f-84710c7967bb [INF] Request finished in 1543.127ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:07:45.6437175+05:30 80000354-0006-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:07:45.6437175+05:30 80000326-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:07:45.6437175+05:30 80000358-0007-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:07:45.6437738+05:30 80000354-0006-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:07:45.6437738+05:30 80000358-0007-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:07:45.6437739+05:30 80000326-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:07:45.6438954+05:30 80000354-0006-f700-b63f-84710c7967bb [INF] Request finished in 0.2104ms 204  (791a596a)
2021-09-29T15:07:45.6438954+05:30 80000358-0007-fc00-b63f-84710c7967bb [INF] Request finished in 0.2071ms 204  (791a596a)
2021-09-29T15:07:45.6439170+05:30 80000326-0006-fd00-b63f-84710c7967bb [INF] Request finished in 0.2007ms 204  (791a596a)
2021-09-29T15:07:45.6506720+05:30 80000189-0005-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:07:45.6507433+05:30 80000189-0005-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:07:45.6508120+05:30 80000189-0005-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:07:45.6509015+05:30 80000189-0005-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:07:45.6514190+05:30 80000708-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:07:45.6514232+05:30 80000189-0005-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:07:45.6514413+05:30 800005da-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:07:45.6514637+05:30 80000708-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:07:45.6514721+05:30 800005da-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:07:45.6517012+05:30 80000708-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:07:45.6516991+05:30 800005da-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:07:45.6517051+05:30 80000189-0005-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.75ms (afa2e885)
2021-09-29T15:07:45.6517419+05:30 80000189-0005-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:07:45.6517656+05:30 80000708-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:07:45.6517661+05:30 800005da-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:07:45.6518114+05:30 80000189-0005-f900-b63f-84710c7967bb [INF] Request finished in 1.1702ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:07:45.9374445+05:30 800005da-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("284"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:07:45.9390771+05:30 800005da-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:07:45.9396772+05:30 800005da-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 287.8076ms (afa2e885)
2021-09-29T15:07:45.9397999+05:30 800005da-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:07:45.9400163+05:30 800005da-0001-fb00-b63f-84710c7967bb [INF] Request finished in 288.5661ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:07:45.9561628+05:30 80000708-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("303"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:07:45.9564236+05:30 80000708-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:07:45.9567290+05:30 80000708-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 304.9094ms (afa2e885)
2021-09-29T15:07:45.9567686+05:30 80000708-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:07:45.9568595+05:30 80000708-0000-fa00-b63f-84710c7967bb [INF] Request finished in 305.4488ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:07:46.1715031+05:30 80000458-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:07:46.1715521+05:30 80000458-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:07:46.1716833+05:30 80000458-0004-fa00-b63f-84710c7967bb [INF] Request finished in 0.198ms 204  (791a596a)
2021-09-29T15:07:46.1747052+05:30 8000035a-0007-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:07:46.1747584+05:30 8000035a-0007-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:07:46.1748418+05:30 8000035a-0007-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:07:46.1749455+05:30 8000035a-0007-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:07:46.1772971+05:30 8000035a-0007-fc00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:07:46.1775569+05:30 8000035a-0007-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:07:46.1779989+05:30 8000035a-0007-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 2.9998ms (afa2e885)
2021-09-29T15:07:46.1780420+05:30 8000035a-0007-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:07:46.1793869+05:30 8000035a-0007-fc00-b63f-84710c7967bb [INF] Request finished in 4.7094ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:07:46.1802949+05:30 8000035a-0007-fc00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("4"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-29T15:07:46.1826560+05:30 8000035a-0007-fc00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:07:49.1541852+05:30 8000018b-0005-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:07:49.1543053+05:30 8000018b-0005-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:07:49.1545016+05:30 8000018b-0005-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:07:49.1546127+05:30 8000018b-0005-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:07:49.1561395+05:30 8000018a-0003-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:07:49.1562094+05:30 8000018a-0003-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:07:49.1563464+05:30 8000018a-0003-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:07:49.1563437+05:30 80000002-0003-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:07:49.1563767+05:30 80000002-0003-f800-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:07:49.1564208+05:30 80000002-0003-f800-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:07:49.1564225+05:30 8000018a-0003-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:07:49.1564722+05:30 80000002-0003-f800-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:07:49.1568319+05:30 80000002-0003-f800-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:07:49.1571255+05:30 80000002-0003-f800-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.6021ms (afa2e885)
2021-09-29T15:07:49.1571630+05:30 80000002-0003-f800-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:07:49.1572308+05:30 80000002-0003-f800-b63f-84710c7967bb [INF] Request finished in 0.9145ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:07:49.3544694+05:30 80000356-0006-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:07:49.3546425+05:30 80000356-0006-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:07:49.3548384+05:30 80000356-0006-f700-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:07:49.3551175+05:30 80000356-0006-f700-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:07:49.3630229+05:30 80000356-0006-f700-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:07:49.3632835+05:30 80000356-0006-f700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:07:49.3642903+05:30 80000356-0006-f700-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 9.0193ms (afa2e885)
2021-09-29T15:07:49.3644671+05:30 80000356-0006-f700-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:07:49.3651160+05:30 80000356-0006-f700-b63f-84710c7967bb [INF] Request finished in 10.8245ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:07:49.3667674+05:30 80000356-0006-f700-b63f-84710c7967bb [ERR] An error occurred using the connection to database '"IoT-AppDatabase"' on server '"IoT-AppDatabase.mssql.somee.com"'. (5fc3407c)
2021-09-29T15:07:49.3766161+05:30 80000356-0006-f700-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:07:49.4412083+05:30 8000018b-0005-f900-b63f-84710c7967bb [INF] Executed DbCommand ("286"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:07:49.4415078+05:30 8000018b-0005-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:07:49.4418573+05:30 8000018b-0005-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 287.1899ms (afa2e885)
2021-09-29T15:07:49.4418966+05:30 8000018b-0005-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:07:49.4419676+05:30 8000018b-0005-f900-b63f-84710c7967bb [INF] Request finished in 287.8363ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:07:50.7474169+05:30 8000018a-0003-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("316"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:07:50.7488284+05:30 8000018a-0003-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:07:50.7493965+05:30 8000018a-0003-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 1592.8739ms (afa2e885)
2021-09-29T15:07:50.7495159+05:30 8000018a-0003-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:07:50.7497277+05:30 8000018a-0003-fb00-b63f-84710c7967bb [INF] Request finished in 1593.6043ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:12:22.4477654+05:30 8000070a-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:12:22.4477655+05:30 8000036f-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:12:22.4478215+05:30 8000070a-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:12:22.4478242+05:30 8000036f-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:12:22.4479855+05:30 8000036f-0002-f500-b63f-84710c7967bb [INF] Request finished in 0.2747ms 204  (791a596a)
2021-09-29T15:12:22.4483817+05:30 80000409-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:12:22.4484311+05:30 80000409-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:12:22.4484397+05:30 8000070a-0000-fa00-b63f-84710c7967bb [INF] Request finished in 0.6925ms 204  (791a596a)
2021-09-29T15:12:22.4532450+05:30 80000409-0006-fa00-b63f-84710c7967bb [INF] Request finished in 1.4963ms 204  (791a596a)
2021-09-29T15:12:22.4547489+05:30 8000018d-0005-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:12:22.4548128+05:30 8000018d-0005-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:12:22.4540516+05:30 8000070c-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:12:22.4594462+05:30 8000018d-0005-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:12:22.4594609+05:30 8000070c-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:12:22.4595551+05:30 800002fc-0000-f400-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:12:22.4595616+05:30 8000018d-0005-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:12:22.4595888+05:30 800002fc-0000-f400-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:12:22.4595988+05:30 8000070c-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:12:22.4596444+05:30 8000070c-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:12:22.4597008+05:30 800002fc-0000-f400-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:12:22.4597774+05:30 800002fc-0000-f400-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:12:22.4599857+05:30 8000018d-0005-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:12:22.4602462+05:30 8000018d-0005-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.6431ms (afa2e885)
2021-09-29T15:12:22.4602772+05:30 8000018d-0005-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:12:22.4604347+05:30 8000018d-0005-f900-b63f-84710c7967bb [INF] Request finished in 6.2102ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:12:22.7489625+05:30 800002fc-0000-f400-b63f-84710c7967bb [INF] Executed DbCommand ("284"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:12:22.7494304+05:30 800002fc-0000-f400-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:12:22.7502558+05:30 800002fc-0000-f400-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 290.3899ms (afa2e885)
2021-09-29T15:12:22.7503667+05:30 800002fc-0000-f400-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:12:22.7505323+05:30 800002fc-0000-f400-b63f-84710c7967bb [INF] Request finished in 290.9628ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:12:22.7797106+05:30 8000070c-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("318"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:12:22.7817029+05:30 8000070c-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:12:22.7827608+05:30 8000070c-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 322.9919ms (afa2e885)
2021-09-29T15:12:22.7853049+05:30 8000070c-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:12:22.7933413+05:30 8000070c-0000-fa00-b63f-84710c7967bb [INF] Request finished in 339.7789ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:12:22.9555592+05:30 8000040b-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:12:22.9556047+05:30 8000040b-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:12:22.9557108+05:30 8000040b-0006-fa00-b63f-84710c7967bb [INF] Request finished in 0.1709ms 204  (791a596a)
2021-09-29T15:12:22.9588277+05:30 8000040d-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:12:22.9588693+05:30 8000040d-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:12:22.9589150+05:30 8000040d-0006-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:12:22.9589711+05:30 8000040d-0006-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:12:22.9608170+05:30 8000040d-0006-fa00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:12:22.9609019+05:30 8000040d-0006-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:12:22.9612412+05:30 8000040d-0006-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 2.2282ms (afa2e885)
2021-09-29T15:12:22.9612927+05:30 8000040d-0006-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:12:22.9620166+05:30 8000040d-0006-fa00-b63f-84710c7967bb [INF] Request finished in 3.179ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:12:22.9630663+05:30 8000040d-0006-fa00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("3"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-29T15:12:22.9661197+05:30 8000040d-0006-fa00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:12:23.3520017+05:30 8000070e-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:12:23.3520017+05:30 8000018f-0005-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:12:23.3522013+05:30 8000070e-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:12:23.3522012+05:30 8000018f-0005-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:12:23.3527697+05:30 8000018f-0005-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:12:23.3527694+05:30 8000070e-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:12:23.3530867+05:30 8000018f-0005-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:12:23.3530855+05:30 8000070e-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:12:23.3562833+05:30 8000045a-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:12:23.3563532+05:30 8000045a-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:12:23.3564036+05:30 8000045a-0004-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:12:23.3564746+05:30 8000045a-0004-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:12:23.3613292+05:30 8000045a-0004-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:12:23.3618273+05:30 8000045a-0004-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 2.6375ms (afa2e885)
2021-09-29T15:12:23.3618839+05:30 8000045a-0004-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:12:23.3619967+05:30 8000045a-0004-fa00-b63f-84710c7967bb [INF] Request finished in 6.5213ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:12:23.5517657+05:30 800002fe-0000-f400-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:12:23.5518857+05:30 800002fe-0000-f400-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:12:23.5520590+05:30 800002fe-0000-f400-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:12:23.5523382+05:30 800002fe-0000-f400-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:12:23.5582574+05:30 800002fe-0000-f400-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:12:23.5586318+05:30 800002fe-0000-f400-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:12:23.5596443+05:30 800002fe-0000-f400-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 7.1097ms (afa2e885)
2021-09-29T15:12:23.5597857+05:30 800002fe-0000-f400-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:12:23.5604270+05:30 800002fe-0000-f400-b63f-84710c7967bb [INF] Request finished in 8.7188ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:12:23.5625727+05:30 800002fe-0000-f400-b63f-84710c7967bb [ERR] An error occurred using the connection to database '"IoT-AppDatabase"' on server '"IoT-AppDatabase.mssql.somee.com"'. (5fc3407c)
2021-09-29T15:12:23.5685774+05:30 800002fe-0000-f400-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:12:23.6435895+05:30 8000018f-0005-f900-b63f-84710c7967bb [INF] Executed DbCommand ("290"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:12:23.6438269+05:30 8000018f-0005-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:12:23.6442266+05:30 8000018f-0005-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 291.0668ms (afa2e885)
2021-09-29T15:12:23.6442673+05:30 8000018f-0005-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:12:23.6443388+05:30 8000018f-0005-f900-b63f-84710c7967bb [INF] Request finished in 292.4047ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:12:24.7662366+05:30 8000070e-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("279"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:12:24.7682593+05:30 8000070e-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:12:24.7692218+05:30 8000070e-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 1415.9784ms (afa2e885)
2021-09-29T15:12:24.7694303+05:30 8000070e-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:12:24.7697819+05:30 8000070e-0000-fa00-b63f-84710c7967bb [INF] Request finished in 1417.7485ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:12:54.5381336+05:30 8000040f-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:12:54.5382117+05:30 800005dc-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:12:54.5382158+05:30 8000040f-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:12:54.5382479+05:30 800005dc-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:12:54.5383386+05:30 8000040f-0006-fa00-b63f-84710c7967bb [INF] Request finished in 0.2644ms 204  (791a596a)
2021-09-29T15:12:54.5383388+05:30 800005dc-0001-fb00-b63f-84710c7967bb [INF] Request finished in 0.1378ms 204  (791a596a)
2021-09-29T15:12:54.5396496+05:30 80000371-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:12:54.5397122+05:30 80000371-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:12:54.5399134+05:30 80000371-0002-f500-b63f-84710c7967bb [INF] Request finished in 0.2075ms 204  (791a596a)
2021-09-29T15:12:54.5432213+05:30 8000037a-0000-f600-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:12:54.5432204+05:30 80000300-0000-f400-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:12:54.5432203+05:30 80000710-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:12:54.5432690+05:30 80000300-0000-f400-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:12:54.5432690+05:30 8000037a-0000-f600-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:12:54.5432699+05:30 80000710-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:12:54.5433438+05:30 80000300-0000-f400-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:12:54.5433441+05:30 80000710-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:12:54.5433531+05:30 8000037a-0000-f600-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:12:54.5434183+05:30 8000037a-0000-f600-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:12:54.5434167+05:30 80000710-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:12:54.5434165+05:30 80000300-0000-f400-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:12:54.5438775+05:30 80000300-0000-f400-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:12:54.5441912+05:30 80000300-0000-f400-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.7273ms (afa2e885)
2021-09-29T15:12:54.5442246+05:30 80000300-0000-f400-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:12:54.5442816+05:30 80000300-0000-f400-b63f-84710c7967bb [INF] Request finished in 1.142ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:12:54.8229903+05:30 8000037a-0000-f600-b63f-84710c7967bb [INF] Executed DbCommand ("279"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:12:54.8233533+05:30 8000037a-0000-f600-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:12:54.8239030+05:30 8000037a-0000-f600-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 280.415ms (afa2e885)
2021-09-29T15:12:54.8239936+05:30 8000037a-0000-f600-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:12:54.8241068+05:30 8000037a-0000-f600-b63f-84710c7967bb [INF] Request finished in 280.9236ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:12:54.8288651+05:30 80000710-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("284"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:12:54.8307704+05:30 80000710-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:12:54.8314836+05:30 80000710-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 287.9799ms (afa2e885)
2021-09-29T15:12:54.8320015+05:30 80000710-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:12:54.8322981+05:30 80000710-0000-fa00-b63f-84710c7967bb [INF] Request finished in 289.115ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:12:55.0732177+05:30 8000045c-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:12:55.0733100+05:30 8000045c-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:12:55.0735130+05:30 8000045c-0004-fa00-b63f-84710c7967bb [INF] Request finished in 0.3671ms 204  (791a596a)
2021-09-29T15:12:55.0795413+05:30 8000045e-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:12:55.0796463+05:30 8000045e-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:12:55.0797609+05:30 8000045e-0004-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:12:55.0798906+05:30 8000045e-0004-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:12:55.0851732+05:30 8000045e-0004-fa00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:12:55.0854160+05:30 8000045e-0004-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:12:55.0862354+05:30 8000045e-0004-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 6.2392ms (afa2e885)
2021-09-29T15:12:55.0863374+05:30 8000045e-0004-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:12:55.0886518+05:30 8000045e-0004-fa00-b63f-84710c7967bb [INF] Request finished in 8.967ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:12:55.0918922+05:30 8000045e-0004-fa00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("9"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-29T15:12:55.0949280+05:30 8000045e-0004-fa00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:14:13.1186224+05:30 8000018c-0003-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:14:13.1187030+05:30 8000018c-0003-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:14:13.1188970+05:30 8000018c-0003-fb00-b63f-84710c7967bb [INF] Request finished in 0.3333ms 204  (791a596a)
2021-09-29T15:14:13.1190394+05:30 80000191-0005-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:14:13.1192557+05:30 80000191-0005-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:14:13.1194007+05:30 80000191-0005-f900-b63f-84710c7967bb [INF] Request finished in 0.387ms 204  (791a596a)
2021-09-29T15:14:13.1211783+05:30 800003dc-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:14:13.1212528+05:30 800003dc-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:14:13.1216225+05:30 800003dc-0007-ff00-b63f-84710c7967bb [INF] Request finished in 0.2826ms 204  (791a596a)
2021-09-29T15:14:13.1262285+05:30 80000411-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:14:13.1262569+05:30 8000018e-0003-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:14:13.1262988+05:30 8000018e-0003-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:14:13.1263009+05:30 80000411-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:14:13.1264076+05:30 80000411-0006-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:14:13.1264073+05:30 8000018e-0003-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:14:13.1265533+05:30 8000018e-0003-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:14:13.1265857+05:30 80000411-0006-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:14:13.1375381+05:30 80000004-0003-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:14:13.1377630+05:30 80000004-0003-f800-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:14:13.1379142+05:30 80000004-0003-f800-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:14:13.1380202+05:30 80000004-0003-f800-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:14:13.1385231+05:30 80000004-0003-f800-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:14:13.1387900+05:30 80000004-0003-f800-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.7192ms (afa2e885)
2021-09-29T15:14:13.1388339+05:30 80000004-0003-f800-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:14:13.1400101+05:30 80000004-0003-f800-b63f-84710c7967bb [INF] Request finished in 2.6238ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:14:13.4076185+05:30 80000411-0006-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("280"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:14:13.4081591+05:30 80000411-0006-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:14:13.4086560+05:30 80000411-0006-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 281.9617ms (afa2e885)
2021-09-29T15:14:13.4087798+05:30 80000411-0006-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:14:13.4089376+05:30 80000411-0006-fa00-b63f-84710c7967bb [INF] Request finished in 282.7049ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:14:13.6495074+05:30 80000373-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:14:13.6495538+05:30 80000373-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:14:13.6496521+05:30 80000373-0002-f500-b63f-84710c7967bb [INF] Request finished in 0.162ms 204  (791a596a)
2021-09-29T15:14:13.6532989+05:30 80000460-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:14:13.6536294+05:30 80000460-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:14:13.6537526+05:30 80000460-0004-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:14:13.6540628+05:30 80000460-0004-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:14:13.6561180+05:30 80000460-0004-fa00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:14:13.6563734+05:30 80000460-0004-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:14:13.6569442+05:30 80000460-0004-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 2.7485ms (afa2e885)
2021-09-29T15:14:13.6570517+05:30 80000460-0004-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:14:13.6584143+05:30 80000460-0004-fa00-b63f-84710c7967bb [INF] Request finished in 5.1421ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:14:13.6604228+05:30 80000460-0004-fa00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("5"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-29T15:14:13.6661650+05:30 80000460-0004-fa00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:14:14.1186506+05:30 80000375-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:14:14.1187619+05:30 80000375-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:14:14.1189643+05:30 80000375-0002-f500-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:14:14.1191616+05:30 80000375-0002-f500-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:14:14.1197462+05:30 800005a8-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:14:14.1197468+05:30 80000375-0002-f500-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:14:14.1197902+05:30 800005a8-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:14:14.1199197+05:30 800005a8-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:14:14.1210343+05:30 80000375-0002-f500-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 1.7749ms (afa2e885)
2021-09-29T15:14:14.1210359+05:30 800005a8-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:14:14.1210876+05:30 80000375-0002-f500-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:14:14.1211630+05:30 80000375-0002-f500-b63f-84710c7967bb [INF] Request finished in 2.7014ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:14:14.3164729+05:30 80000462-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:14:14.3165179+05:30 80000462-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:14:14.3165786+05:30 80000462-0004-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:14:14.3166411+05:30 80000462-0004-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:14:14.3179200+05:30 80000462-0004-fa00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:14:14.3180312+05:30 80000462-0004-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:14:14.3183621+05:30 80000462-0004-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1.6739ms (afa2e885)
2021-09-29T15:14:14.3184189+05:30 80000462-0004-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:14:14.3186185+05:30 80000462-0004-fa00-b63f-84710c7967bb [INF] Request finished in 2.1507ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:14:14.3192926+05:30 80000462-0004-fa00-b63f-84710c7967bb [ERR] An error occurred using the connection to database '"IoT-AppDatabase"' on server '"IoT-AppDatabase.mssql.somee.com"'. (5fc3407c)
2021-09-29T15:14:14.3248308+05:30 80000462-0004-fa00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:14:14.6515589+05:30 8000018e-0003-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("305"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:14:14.6518520+05:30 8000018e-0003-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:14:14.6548726+05:30 8000018e-0003-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 1528.2434ms (afa2e885)
2021-09-29T15:14:14.6549345+05:30 8000018e-0003-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:14:14.6550136+05:30 8000018e-0003-fb00-b63f-84710c7967bb [INF] Request finished in 1528.8824ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:14:14.6563105+05:30 80000413-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:14:14.6563740+05:30 80000413-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:14:14.6565078+05:30 80000413-0006-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:14:14.6565953+05:30 80000413-0006-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:14:14.9589124+05:30 800005a8-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("307"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:14:14.9600546+05:30 800005a8-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:14:14.9606886+05:30 800005a8-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 839.5635ms (afa2e885)
2021-09-29T15:14:14.9607993+05:30 800005a8-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:14:14.9609898+05:30 800005a8-0002-f900-b63f-84710c7967bb [INF] Request finished in 841.2431ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:14:15.2651878+05:30 80000413-0006-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("305"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:14:15.2654378+05:30 80000413-0006-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:14:15.2658364+05:30 80000413-0006-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 609.1797ms (afa2e885)
2021-09-29T15:14:15.2658823+05:30 80000413-0006-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:14:15.2659449+05:30 80000413-0006-fa00-b63f-84710c7967bb [INF] Request finished in 609.6666ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:15:41.7686875+05:30 800005de-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-29T15:15:41.7687927+05:30 800005de-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:15:41.7689767+05:30 800005de-0001-fb00-b63f-84710c7967bb [INF] Request finished in 0.3495ms 204  (791a596a)
2021-09-29T15:15:41.7723203+05:30 80000712-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-29T15:15:41.7723612+05:30 80000712-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:15:41.7724239+05:30 80000712-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:15:41.7724876+05:30 80000712-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllDeviceCapability(System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:15:42.0788150+05:30 80000712-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("305"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:15:42.4042490+05:30 80000712-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("323"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
ORDER BY [d].[CapabilityType]" (0723d8ff)
2021-09-29T15:15:42.4061489+05:30 80000712-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[IoT.DataLayer.Models.DeviceCapability, IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:15:42.4067523+05:30 80000712-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)" in 634.1584ms (afa2e885)
2021-09-29T15:15:42.4068341+05:30 80000712-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:15:42.4071540+05:30 80000712-0000-fa00-b63f-84710c7967bb [INF] Request finished in 634.7746ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:15:45.4489069+05:30 800005aa-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:15:45.4489534+05:30 800005aa-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:15:45.4490907+05:30 800005aa-0002-f900-b63f-84710c7967bb [INF] Request finished in 0.2281ms 204  (791a596a)
2021-09-29T15:15:45.4502158+05:30 80000464-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:15:45.4503260+05:30 80000464-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:15:45.4504712+05:30 80000464-0004-fa00-b63f-84710c7967bb [INF] Request finished in 1.1971ms 204  (791a596a)
2021-09-29T15:15:45.4538703+05:30 80000714-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:15:45.4539674+05:30 80000714-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:15:45.4540679+05:30 80000714-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:15:45.4541724+05:30 80000714-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:15:45.4575441+05:30 800003de-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:15:45.4576173+05:30 800003de-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:15:45.4578726+05:30 800003de-0007-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:15:45.4646126+05:30 800003de-0007-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:15:45.7612759+05:30 80000714-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("306"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:15:45.7619493+05:30 80000714-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:15:45.7628797+05:30 80000714-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 308.5822ms (afa2e885)
2021-09-29T15:15:45.7630275+05:30 80000714-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:15:45.7631923+05:30 80000714-0000-fa00-b63f-84710c7967bb [INF] Request finished in 309.3035ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:15:45.7811615+05:30 800003de-0007-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("306"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:15:46.1126148+05:30 800003de-0007-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("310"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:15:46.1142952+05:30 800003de-0007-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:15:46.1151109+05:30 800003de-0007-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 650.2499ms (afa2e885)
2021-09-29T15:15:46.1152339+05:30 800003de-0007-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:15:46.1154373+05:30 800003de-0007-ff00-b63f-84710c7967bb [INF] Request finished in 657.8511ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:15:54.9715638+05:30 800005ac-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/updateDeviceCapability   (ca22a1cb)
2021-09-29T15:15:54.9716016+05:30 800005ac-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:15:54.9716896+05:30 800005ac-0002-f900-b63f-84710c7967bb [INF] Request finished in 0.1545ms 204  (791a596a)
2021-09-29T15:15:54.9748289+05:30 800005ae-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/admin/updateDeviceCapability application/json;charset=UTF-8 508 (ca22a1cb)
2021-09-29T15:15:54.9748703+05:30 800005ae-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:15:54.9749292+05:30 800005ae-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.UpdateDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:15:54.9771262+05:30 800005ae-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"UpdateDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult UpdateDeviceCapability(IoT.DataLayer.Models.DeviceCapability, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:15:55.3022272+05:30 800005ae-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("303"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:15:56.0567937+05:30 800005ae-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("308"ms) [Parameters=["@p10='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [DeviceCapability] SET [CapabilityInterface] = @p0, [CapabilityType] = @p1, [CreatedDate] = @p2, [DeviceTypeId] = @p3, [DisplayCategory] = @p4, [Modifieddate] = @p5, [ProactivelyReported] = @p6, [Retrievable] = @p7, [SupportedProperty] = @p8, [Version] = @p9
WHERE [DeviceCapabilityId] = @p10;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-09-29T15:15:56.3955534+05:30 800005ae-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Int32"'. (8a1b66c8)
2021-09-29T15:15:56.3979310+05:30 800005ae-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.UpdateDeviceCapability (IoT.WebAPI)" in 1420.6098ms (afa2e885)
2021-09-29T15:15:56.3980781+05:30 800005ae-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.UpdateDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:15:56.3984612+05:30 800005ae-0002-f900-b63f-84710c7967bb [INF] Request finished in 1423.5868ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:15:56.4386618+05:30 800005b0-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-29T15:15:56.4387593+05:30 800005b0-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:15:56.4392617+05:30 800005b0-0002-f900-b63f-84710c7967bb [INF] Request finished in 0.5306ms 204  (791a596a)
2021-09-29T15:15:56.4487459+05:30 80000193-0005-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-29T15:15:56.4488885+05:30 80000193-0005-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:15:56.4492442+05:30 80000193-0005-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:15:56.4496977+05:30 80000193-0005-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllDeviceCapability(System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:15:56.7580298+05:30 80000193-0005-f900-b63f-84710c7967bb [INF] Executed DbCommand ("306"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:15:57.0651112+05:30 80000193-0005-f900-b63f-84710c7967bb [INF] Executed DbCommand ("305"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
ORDER BY [d].[CapabilityType]" (0723d8ff)
2021-09-29T15:15:57.0690449+05:30 80000193-0005-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[IoT.DataLayer.Models.DeviceCapability, IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:15:57.0703808+05:30 80000193-0005-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)" in 620.3169ms (afa2e885)
2021-09-29T15:15:57.0705412+05:30 80000193-0005-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:15:57.0708757+05:30 80000193-0005-f900-b63f-84710c7967bb [INF] Request finished in 622.1017ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:16:03.5165933+05:30 800005b2-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:16:03.5165917+05:30 80000716-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:16:03.5166371+05:30 800005b2-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:16:03.5166398+05:30 80000716-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:16:03.5167496+05:30 800005b2-0002-f900-b63f-84710c7967bb [INF] Request finished in 0.1689ms 204  (791a596a)
2021-09-29T15:16:03.5167472+05:30 80000716-0000-fa00-b63f-84710c7967bb [INF] Request finished in 0.1847ms 204  (791a596a)
2021-09-29T15:16:03.5213447+05:30 80000190-0003-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:16:03.5216019+05:30 80000190-0003-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:16:03.5216895+05:30 80000190-0003-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:16:03.5217978+05:30 80000190-0003-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:16:03.5220597+05:30 80000006-0003-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:16:03.5221094+05:30 80000006-0003-f800-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:16:03.5222799+05:30 80000006-0003-f800-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:16:03.5223622+05:30 80000006-0003-f800-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:16:03.8290086+05:30 80000006-0003-f800-b63f-84710c7967bb [INF] Executed DbCommand ("305"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:16:03.8291271+05:30 80000190-0003-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("306"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:16:03.8293594+05:30 80000006-0003-f800-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:16:03.8302301+05:30 80000006-0003-f800-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 307.7546ms (afa2e885)
2021-09-29T15:16:03.8303647+05:30 80000006-0003-f800-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:16:03.8305393+05:30 80000006-0003-f800-b63f-84710c7967bb [INF] Request finished in 308.4559ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:16:04.1349787+05:30 80000190-0003-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("304"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:16:04.1359597+05:30 80000190-0003-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:16:04.1366050+05:30 80000190-0003-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 614.6919ms (afa2e885)
2021-09-29T15:16:04.1367575+05:30 80000190-0003-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:16:04.1369127+05:30 80000190-0003-fb00-b63f-84710c7967bb [INF] Request finished in 615.551ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:16:12.6914993+05:30 80000466-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/updateDeviceCapability   (ca22a1cb)
2021-09-29T15:16:12.6916119+05:30 80000466-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:16:12.6917833+05:30 80000466-0004-fa00-b63f-84710c7967bb [INF] Request finished in 0.3426ms 204  (791a596a)
2021-09-29T15:16:12.6964878+05:30 800005b4-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/admin/updateDeviceCapability application/json;charset=UTF-8 506 (ca22a1cb)
2021-09-29T15:16:12.6965431+05:30 800005b4-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:16:12.6966077+05:30 800005b4-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.UpdateDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:16:12.6966915+05:30 800005b4-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"UpdateDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult UpdateDeviceCapability(IoT.DataLayer.Models.DeviceCapability, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:16:13.0003260+05:30 800005b4-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("303"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:16:13.6151526+05:30 800005b4-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("306"ms) [Parameters=["@p10='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [DeviceCapability] SET [CapabilityInterface] = @p0, [CapabilityType] = @p1, [CreatedDate] = @p2, [DeviceTypeId] = @p3, [DisplayCategory] = @p4, [Modifieddate] = @p5, [ProactivelyReported] = @p6, [Retrievable] = @p7, [SupportedProperty] = @p8, [Version] = @p9
WHERE [DeviceCapabilityId] = @p10;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-09-29T15:16:13.9234483+05:30 800005b4-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Int32"'. (8a1b66c8)
2021-09-29T15:16:13.9241866+05:30 800005b4-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.UpdateDeviceCapability (IoT.WebAPI)" in 1227.3591ms (afa2e885)
2021-09-29T15:16:13.9243253+05:30 800005b4-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.UpdateDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:16:13.9245174+05:30 800005b4-0002-f900-b63f-84710c7967bb [INF] Request finished in 1228.0158ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:16:13.9752014+05:30 80000195-0005-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-29T15:16:13.9753156+05:30 80000195-0005-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:16:13.9756347+05:30 80000195-0005-f900-b63f-84710c7967bb [INF] Request finished in 0.6078ms 204  (791a596a)
2021-09-29T15:16:13.9841002+05:30 80000415-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-29T15:16:13.9841486+05:30 80000415-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:16:13.9842234+05:30 80000415-0006-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:16:13.9843037+05:30 80000415-0006-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllDeviceCapability(System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:16:14.2900845+05:30 80000415-0006-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("305"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:16:14.5982899+05:30 80000415-0006-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("308"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
ORDER BY [d].[CapabilityType]" (0723d8ff)
2021-09-29T15:16:14.5999374+05:30 80000415-0006-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[IoT.DataLayer.Models.DeviceCapability, IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:16:14.6007901+05:30 80000415-0006-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)" in 616.3546ms (afa2e885)
2021-09-29T15:16:14.6009207+05:30 80000415-0006-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:16:14.6010996+05:30 80000415-0006-fa00-b63f-84710c7967bb [INF] Request finished in 616.9533ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:16:17.6531128+05:30 80000197-0005-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:16:17.6531969+05:30 80000197-0005-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:16:17.6533995+05:30 80000197-0005-f900-b63f-84710c7967bb [INF] Request finished in 0.3336ms 204  (791a596a)
2021-09-29T15:16:17.6537952+05:30 80000301-0005-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:16:17.6538718+05:30 80000301-0005-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:16:17.6541306+05:30 80000301-0005-fd00-b63f-84710c7967bb [INF] Request finished in 0.2767ms 204  (791a596a)
2021-09-29T15:16:17.6615477+05:30 80000718-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:16:17.6616332+05:30 80000718-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:16:17.6619088+05:30 80000718-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:16:17.6620820+05:30 80000718-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:16:17.6643851+05:30 80000303-0005-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:16:17.6646049+05:30 80000303-0005-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:16:17.6647206+05:30 80000303-0005-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:16:17.6648430+05:30 80000303-0005-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:16:17.9689616+05:30 80000718-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("306"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:16:17.9692088+05:30 80000718-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:16:17.9697472+05:30 80000718-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 307.5615ms (afa2e885)
2021-09-29T15:16:17.9698317+05:30 80000718-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:16:17.9699433+05:30 80000718-0000-fa00-b63f-84710c7967bb [INF] Request finished in 308.423ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:16:17.9718164+05:30 80000303-0005-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("305"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:16:18.2787106+05:30 80000303-0005-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("306"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:16:18.2792037+05:30 80000303-0005-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:16:18.2795063+05:30 80000303-0005-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 614.5849ms (afa2e885)
2021-09-29T15:16:18.2795484+05:30 80000303-0005-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:16:18.2796198+05:30 80000303-0005-fd00-b63f-84710c7967bb [INF] Request finished in 615.2586ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:17:42.8031172+05:30 80000305-0005-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:17:42.8031940+05:30 80000305-0005-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:17:42.8032349+05:30 800003e0-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:17:42.8032719+05:30 800003e0-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:17:42.8033149+05:30 80000305-0005-fd00-b63f-84710c7967bb [INF] Request finished in 0.31ms 204  (791a596a)
2021-09-29T15:17:42.8033364+05:30 800003e0-0007-ff00-b63f-84710c7967bb [INF] Request finished in 0.1225ms 204  (791a596a)
2021-09-29T15:17:42.8037592+05:30 80000417-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:17:42.8038124+05:30 80000417-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:17:42.8040267+05:30 80000417-0006-fa00-b63f-84710c7967bb [INF] Request finished in 0.274ms 204  (791a596a)
2021-09-29T15:17:42.8043407+05:30 800003e2-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:17:42.8044069+05:30 800003e2-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:17:42.8045339+05:30 800003e2-0007-ff00-b63f-84710c7967bb [INF] Request finished in 0.2095ms 204  (791a596a)
2021-09-29T15:17:42.8112460+05:30 80000468-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:17:42.8113364+05:30 80000468-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:17:42.8114490+05:30 80000468-0004-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:17:42.8115391+05:30 80000468-0004-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:17:42.8118459+05:30 8000072c-0004-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:17:42.8118462+05:30 800003e4-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:17:42.8119074+05:30 8000072c-0004-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:17:42.8119076+05:30 800003e4-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:17:42.8120413+05:30 8000072c-0004-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:17:42.8121441+05:30 800003e4-0007-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:17:42.8121535+05:30 8000072c-0004-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:17:42.8122152+05:30 800003e4-0007-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:17:42.8129840+05:30 800003e4-0007-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:17:42.8155418+05:30 800003e4-0007-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 2.5114ms (afa2e885)
2021-09-29T15:17:42.8156903+05:30 800003e4-0007-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:17:42.8157798+05:30 800003e4-0007-ff00-b63f-84710c7967bb [INF] Request finished in 4.0625ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:17:42.8194006+05:30 800003fd-0004-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:17:42.8194780+05:30 800003fd-0004-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:17:42.8223206+05:30 800003fd-0004-f700-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:17:42.8230599+05:30 800003fd-0004-f700-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:17:43.0840903+05:30 800003f1-0004-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:17:43.0841740+05:30 800003f1-0004-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:17:43.0842642+05:30 800003f1-0004-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:17:43.0843507+05:30 800003f1-0004-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:17:43.0853749+05:30 800003f1-0004-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:17:43.0861033+05:30 800003f1-0004-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 1.6384ms (afa2e885)
2021-09-29T15:17:43.0862852+05:30 800003f1-0004-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:17:43.0864157+05:30 800003f1-0004-fc00-b63f-84710c7967bb [INF] Request finished in 2.3648ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:17:43.1181284+05:30 8000072c-0004-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("304"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:17:43.1197785+05:30 80000468-0004-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("304"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:17:43.1199606+05:30 80000468-0004-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:17:43.1202883+05:30 80000468-0004-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 308.4869ms (afa2e885)
2021-09-29T15:17:43.1203295+05:30 80000468-0004-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:17:43.1203919+05:30 80000468-0004-fa00-b63f-84710c7967bb [INF] Request finished in 309.205ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:17:43.1217438+05:30 800005b6-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:17:43.1218604+05:30 800005b6-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:17:43.1219787+05:30 800005b6-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:17:43.1220797+05:30 800005b6-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:17:43.1508850+05:30 800005b6-0002-f900-b63f-84710c7967bb [INF] Entity Framework Core "5.0.9" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2021-09-29T15:17:43.3390158+05:30 80000377-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:17:43.3390611+05:30 80000377-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:17:43.3391673+05:30 80000377-0002-f500-b63f-84710c7967bb [INF] Request finished in 0.1861ms 204  (791a596a)
2021-09-29T15:17:43.3417635+05:30 80000379-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:17:43.3418125+05:30 80000379-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:17:43.3418720+05:30 80000379-0002-f500-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:17:43.3419279+05:30 80000379-0002-f500-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:17:43.3433393+05:30 80000379-0002-f500-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:17:43.3434114+05:30 80000379-0002-f500-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:17:43.3436611+05:30 80000379-0002-f500-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1.6964ms (afa2e885)
2021-09-29T15:17:43.3436937+05:30 80000379-0002-f500-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:17:43.3439357+05:30 80000379-0002-f500-b63f-84710c7967bb [INF] Request finished in 2.1376ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:17:43.3442589+05:30 80000379-0002-f500-b63f-84710c7967bb [ERR] An error occurred using the connection to database '"IoT-AppDatabase"' on server '"IoT-AppDatabase.mssql.somee.com"'. (5fc3407c)
2021-09-29T15:17:43.3469054+05:30 80000379-0002-f500-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:17:43.4243241+05:30 8000072c-0004-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("306"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:17:43.4247070+05:30 8000072c-0004-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:17:43.4249856+05:30 8000072c-0004-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 612.777ms (afa2e885)
2021-09-29T15:17:43.4250321+05:30 8000072c-0004-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:17:43.4250957+05:30 8000072c-0004-fb00-b63f-84710c7967bb [INF] Request finished in 613.2699ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:17:43.4542502+05:30 800005b6-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("303"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:17:43.4544620+05:30 800005b6-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:17:43.4548025+05:30 800005b6-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 332.6584ms (afa2e885)
2021-09-29T15:17:43.4548418+05:30 800005b6-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:17:43.4550296+05:30 800005b6-0002-f900-b63f-84710c7967bb [INF] Request finished in 333.286ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:17:43.5191967+05:30 80000192-0003-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:17:43.5192460+05:30 80000192-0003-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:17:43.5193075+05:30 80000192-0003-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:17:43.5193760+05:30 80000192-0003-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:17:43.5213780+05:30 80000192-0003-fb00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:17:43.5215830+05:30 80000192-0003-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:17:43.5219923+05:30 80000192-0003-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 2.5608ms (afa2e885)
2021-09-29T15:17:43.5220457+05:30 80000192-0003-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:17:43.5228315+05:30 80000192-0003-fb00-b63f-84710c7967bb [INF] Request finished in 3.6162ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:17:43.5286256+05:30 80000192-0003-fb00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("9"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-29T15:17:43.5307157+05:30 80000192-0003-fb00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:17:45.2069342+05:30 800003fd-0004-f700-b63f-84710c7967bb [INF] Executed DbCommand ("1,089"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:17:45.2072134+05:30 800003fd-0004-f700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:17:45.2074446+05:30 800003fd-0004-f700-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 2384.3047ms (afa2e885)
2021-09-29T15:17:45.2074896+05:30 800003fd-0004-f700-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:17:45.2076054+05:30 800003fd-0004-f700-b63f-84710c7967bb [INF] Request finished in 2388.7309ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:17:45.2094673+05:30 80000307-0005-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:17:45.2099743+05:30 80000307-0005-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:17:45.2107255+05:30 80000307-0005-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:17:45.2108945+05:30 80000307-0005-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:17:45.6663831+05:30 80000307-0005-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("455"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:17:45.6675436+05:30 80000307-0005-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:17:45.6683794+05:30 80000307-0005-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 457.3561ms (afa2e885)
2021-09-29T15:17:45.6685331+05:30 80000307-0005-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:17:45.6688187+05:30 80000307-0005-fd00-b63f-84710c7967bb [INF] Request finished in 459.3539ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:19:27.0917641+05:30 800005b8-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:19:27.0918549+05:30 800005b8-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:19:27.0920271+05:30 80000419-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:19:27.0920609+05:30 80000419-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:19:27.0921330+05:30 80000419-0006-fa00-b63f-84710c7967bb [INF] Request finished in 0.1197ms 204  (791a596a)
2021-09-29T15:19:27.0921373+05:30 800005b8-0002-f900-b63f-84710c7967bb [INF] Request finished in 0.3687ms 204  (791a596a)
2021-09-29T15:19:27.0922926+05:30 8000037b-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:19:27.0923290+05:30 8000037b-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:19:27.0924233+05:30 8000037b-0002-f500-b63f-84710c7967bb [INF] Request finished in 0.1512ms 204  (791a596a)
2021-09-29T15:19:27.0927466+05:30 800003ff-0004-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:19:27.0927999+05:30 800003ff-0004-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:19:27.0929035+05:30 800003ff-0004-f700-b63f-84710c7967bb [INF] Request finished in 0.336ms 204  (791a596a)
2021-09-29T15:19:27.0988805+05:30 80000309-0005-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:19:27.0988805+05:30 800003e6-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:19:27.0994897+05:30 800003e6-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:19:27.0994936+05:30 80000309-0005-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:19:27.0995770+05:30 800003e6-0007-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:19:27.0995772+05:30 80000309-0005-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:19:27.0996548+05:30 800003e6-0007-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:19:27.0996561+05:30 80000309-0005-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:19:27.1039375+05:30 80000309-0005-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:19:27.1047272+05:30 80000199-0005-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:19:27.1047830+05:30 80000199-0005-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:19:27.1048175+05:30 800005e0-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:19:27.1048486+05:30 800005e0-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:19:27.1048576+05:30 80000199-0005-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:19:27.1048901+05:30 800005e0-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:19:27.1049258+05:30 80000199-0005-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:19:27.1049391+05:30 800005e0-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:19:27.1077615+05:30 80000309-0005-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 7.4514ms (afa2e885)
2021-09-29T15:19:27.1086996+05:30 80000309-0005-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:19:27.1087724+05:30 80000309-0005-fd00-b63f-84710c7967bb [INF] Request finished in 10.0169ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:19:27.3836907+05:30 800005e0-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("278"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:19:27.3848093+05:30 800005e0-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:19:27.3855132+05:30 800005e0-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 280.4935ms (afa2e885)
2021-09-29T15:19:27.3856116+05:30 800005e0-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:19:27.3858234+05:30 800005e0-0001-fb00-b63f-84710c7967bb [INF] Request finished in 281.6461ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:19:27.4124784+05:30 800003e6-0007-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("305"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:19:27.4127656+05:30 800003e6-0007-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:19:27.4134106+05:30 800003e6-0007-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 313.1184ms (afa2e885)
2021-09-29T15:19:27.4135055+05:30 800003e6-0007-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:19:27.4136250+05:30 800003e6-0007-ff00-b63f-84710c7967bb [INF] Request finished in 314.8051ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:19:27.8929063+05:30 8000030b-0005-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:19:27.8929483+05:30 8000030b-0005-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:19:27.8930604+05:30 8000030b-0005-fd00-b63f-84710c7967bb [INF] Request finished in 0.1822ms 204  (791a596a)
2021-09-29T15:19:27.8959626+05:30 8000037d-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:19:27.8960105+05:30 8000037d-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:19:27.8960633+05:30 8000037d-0002-f500-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:19:27.8961275+05:30 8000037d-0002-f500-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:19:27.8973543+05:30 8000037d-0002-f500-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:19:27.8974286+05:30 8000037d-0002-f500-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:19:27.8976894+05:30 8000037d-0002-f500-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1.52ms (afa2e885)
2021-09-29T15:19:27.8977450+05:30 8000037d-0002-f500-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:19:27.8982525+05:30 8000037d-0002-f500-b63f-84710c7967bb [INF] Request finished in 2.2898ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:19:27.8991638+05:30 8000037d-0002-f500-b63f-84710c7967bb [ERR] Failed executing DbCommand ("2"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-29T15:19:27.9013723+05:30 8000037d-0002-f500-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:19:28.5090628+05:30 80000199-0005-f900-b63f-84710c7967bb [INF] Executed DbCommand ("280"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:19:28.7917496+05:30 80000199-0005-f900-b63f-84710c7967bb [INF] Executed DbCommand ("282"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:19:28.7925544+05:30 80000199-0005-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:19:28.7933385+05:30 80000199-0005-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 1688.3ms (afa2e885)
2021-09-29T15:19:28.7934712+05:30 80000199-0005-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:19:28.7936542+05:30 80000199-0005-f900-b63f-84710c7967bb [INF] Request finished in 1689.4491ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:19:30.9100300+05:30 8000071a-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:19:30.9101342+05:30 8000071a-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:19:30.9102401+05:30 8000071a-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:19:30.9103600+05:30 8000071a-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:19:30.9107736+05:30 800003e8-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:19:30.9111133+05:30 800003e8-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:19:30.9113239+05:30 800003e8-0007-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:19:30.9114354+05:30 800003e8-0007-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:19:30.9120580+05:30 800005e2-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:19:30.9121807+05:30 800005e2-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:19:30.9122570+05:30 800005e2-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:19:30.9125898+05:30 800005e2-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:19:30.9132231+05:30 800005e2-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:19:30.9137060+05:30 800005e2-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.9399ms (afa2e885)
2021-09-29T15:19:30.9137933+05:30 800005e2-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:19:30.9139278+05:30 800005e2-0001-fb00-b63f-84710c7967bb [INF] Request finished in 1.9031ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:19:31.0984274+05:30 80000401-0004-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:19:31.0985488+05:30 80000401-0004-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:19:31.0986760+05:30 80000401-0004-f700-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:19:31.0988446+05:30 80000401-0004-f700-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:19:31.1164164+05:30 80000401-0004-f700-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:19:31.1166729+05:30 80000401-0004-f700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:19:31.1175925+05:30 80000401-0004-f700-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 18.6273ms (afa2e885)
2021-09-29T15:19:31.1177158+05:30 80000401-0004-f700-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:19:31.1183672+05:30 80000401-0004-f700-b63f-84710c7967bb [INF] Request finished in 19.9527ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:19:31.1202029+05:30 80000401-0004-f700-b63f-84710c7967bb [ERR] An error occurred using the connection to database '"IoT-AppDatabase"' on server '"IoT-AppDatabase.mssql.somee.com"'. (5fc3407c)
2021-09-29T15:19:31.1325929+05:30 80000401-0004-f700-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:19:31.1896152+05:30 800003e8-0007-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("277"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:19:31.1902826+05:30 800003e8-0007-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:19:31.1906648+05:30 800003e8-0007-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 279.1489ms (afa2e885)
2021-09-29T15:19:31.1907298+05:30 800003e8-0007-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:19:31.1908768+05:30 800003e8-0007-ff00-b63f-84710c7967bb [INF] Request finished in 280.1031ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:19:31.1915682+05:30 8000071a-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("281"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:19:31.1917947+05:30 8000071a-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:19:31.1922255+05:30 8000071a-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 281.7935ms (afa2e885)
2021-09-29T15:19:31.1922851+05:30 8000071a-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:19:31.1923811+05:30 8000071a-0000-fa00-b63f-84710c7967bb [INF] Request finished in 282.3868ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:19:42.3426945+05:30 800003ea-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:19:42.3427691+05:30 800003ea-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:19:42.3432546+05:30 800003ea-0007-ff00-b63f-84710c7967bb [INF] Request finished in 0.6275ms 204  (791a596a)
2021-09-29T15:19:42.3435813+05:30 80000403-0004-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:19:42.3437438+05:30 80000403-0004-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:19:42.3438133+05:30 8000072e-0004-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:19:42.3438561+05:30 8000072e-0004-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:19:42.3439049+05:30 80000403-0004-f700-b63f-84710c7967bb [INF] Request finished in 0.3707ms 204  (791a596a)
2021-09-29T15:19:42.3439314+05:30 8000072e-0004-fb00-b63f-84710c7967bb [INF] Request finished in 0.1341ms 204  (791a596a)
2021-09-29T15:19:42.3463537+05:30 8000037f-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:19:42.3464320+05:30 8000037f-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:19:42.3466002+05:30 8000037f-0002-f500-b63f-84710c7967bb [INF] Request finished in 0.3772ms 204  (791a596a)
2021-09-29T15:19:42.3494612+05:30 8000071c-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:19:42.3496194+05:30 8000071c-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:19:42.3497666+05:30 8000071c-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:19:42.3498805+05:30 8000071c-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:19:42.3518646+05:30 8000041b-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:19:42.3518884+05:30 80000358-0006-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:19:42.3519355+05:30 8000041b-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:19:42.3519438+05:30 80000358-0006-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:19:42.3520332+05:30 8000041b-0006-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:19:42.3520358+05:30 80000358-0006-f700-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:19:42.3521285+05:30 8000041b-0006-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:19:42.3521287+05:30 80000358-0006-f700-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:19:42.3525061+05:30 80000328-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:19:42.3525509+05:30 80000328-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:19:42.3526251+05:30 80000328-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:19:42.3527257+05:30 80000328-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:19:42.3534902+05:30 80000328-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:19:42.3542845+05:30 80000328-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 1.3959ms (afa2e885)
2021-09-29T15:19:42.3554542+05:30 80000328-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:19:42.3559521+05:30 80000328-0006-fd00-b63f-84710c7967bb [INF] Request finished in 3.3805ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:19:42.6270140+05:30 8000041b-0006-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("274"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:19:42.6306758+05:30 80000358-0006-f700-b63f-84710c7967bb [INF] Executed DbCommand ("278"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:19:42.6309256+05:30 80000358-0006-f700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:19:42.6312378+05:30 80000358-0006-f700-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 279.0516ms (afa2e885)
2021-09-29T15:19:42.6313078+05:30 80000358-0006-f700-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:19:42.6316239+05:30 80000358-0006-f700-b63f-84710c7967bb [INF] Request finished in 279.7262ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:19:42.6479274+05:30 8000071c-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("296"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:19:42.6481419+05:30 8000071c-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:19:42.6485283+05:30 8000071c-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 298.5593ms (afa2e885)
2021-09-29T15:19:42.6485848+05:30 8000071c-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:19:42.6487716+05:30 8000071c-0000-fa00-b63f-84710c7967bb [INF] Request finished in 299.2729ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:19:42.8738673+05:30 80000730-0004-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:19:42.8740110+05:30 80000730-0004-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:19:42.8741899+05:30 80000730-0004-fb00-b63f-84710c7967bb [INF] Request finished in 0.3377ms 204  (791a596a)
2021-09-29T15:19:42.8771666+05:30 8000071e-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:19:42.8772076+05:30 8000071e-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:19:42.8772632+05:30 8000071e-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:19:42.8773344+05:30 8000071e-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:19:42.8787679+05:30 8000071e-0000-fa00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:19:42.8788847+05:30 8000071e-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:19:42.8791887+05:30 8000071e-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1.7998ms (afa2e885)
2021-09-29T15:19:42.8792268+05:30 8000071e-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:19:42.8801545+05:30 8000071e-0000-fa00-b63f-84710c7967bb [INF] Request finished in 2.8681ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:19:42.8806707+05:30 8000071e-0000-fa00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("3"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-29T15:19:42.8837495+05:30 8000071e-0000-fa00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:19:42.9124754+05:30 8000041b-0006-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("285"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:19:42.9130190+05:30 8000041b-0006-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:19:42.9133381+05:30 8000041b-0006-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 561.1602ms (afa2e885)
2021-09-29T15:19:42.9133845+05:30 8000041b-0006-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:19:42.9134769+05:30 8000041b-0006-fa00-b63f-84710c7967bb [INF] Request finished in 561.6646ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:19:46.1664954+05:30 80000381-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:19:46.1665005+05:30 8000041d-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:19:46.1665620+05:30 8000041d-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:19:46.1665643+05:30 80000381-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:19:46.1668046+05:30 80000381-0002-f500-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:19:46.1668194+05:30 8000041d-0006-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:19:46.1669005+05:30 8000041d-0006-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:19:46.1669242+05:30 80000381-0002-f500-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:19:46.1671938+05:30 80000732-0004-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:19:46.1672534+05:30 80000732-0004-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:19:46.1673301+05:30 80000732-0004-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:19:46.1674443+05:30 80000732-0004-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:19:46.1678009+05:30 80000732-0004-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:19:46.1683110+05:30 80000732-0004-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.8101ms (afa2e885)
2021-09-29T15:19:46.1683611+05:30 80000732-0004-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:19:46.1685885+05:30 80000732-0004-fb00-b63f-84710c7967bb [INF] Request finished in 1.4248ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:19:46.3684046+05:30 80000720-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:19:46.3685339+05:30 80000720-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:19:46.3686933+05:30 80000720-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:19:46.3688645+05:30 80000720-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:19:46.3836556+05:30 80000720-0000-fa00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:19:46.3838002+05:30 80000720-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:19:46.3843266+05:30 80000720-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 15.3551ms (afa2e885)
2021-09-29T15:19:46.3844041+05:30 80000720-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:19:46.3849014+05:30 80000720-0000-fa00-b63f-84710c7967bb [INF] Request finished in 16.3892ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:19:46.3857298+05:30 80000720-0000-fa00-b63f-84710c7967bb [ERR] An error occurred using the connection to database '"IoT-AppDatabase"' on server '"IoT-AppDatabase.mssql.somee.com"'. (5fc3407c)
2021-09-29T15:19:46.3936685+05:30 80000720-0000-fa00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:19:46.4414871+05:30 8000041d-0006-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("274"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:19:46.4416773+05:30 8000041d-0006-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:19:46.4419754+05:30 8000041d-0006-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 275.026ms (afa2e885)
2021-09-29T15:19:46.4420097+05:30 8000041d-0006-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:19:46.4420770+05:30 8000041d-0006-fa00-b63f-84710c7967bb [INF] Request finished in 275.6216ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:19:46.4451112+05:30 80000381-0002-f500-b63f-84710c7967bb [INF] Executed DbCommand ("278"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:19:46.4454595+05:30 80000381-0002-f500-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:19:46.4457592+05:30 80000381-0002-f500-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 278.7855ms (afa2e885)
2021-09-29T15:19:46.4458067+05:30 80000381-0002-f500-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:19:46.4459066+05:30 80000381-0002-f500-b63f-84710c7967bb [INF] Request finished in 279.4501ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:19:53.5836894+05:30 800005e4-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-29T15:19:53.5837764+05:30 800005e4-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:19:53.5840224+05:30 800005e4-0001-fb00-b63f-84710c7967bb [INF] Request finished in 0.3312ms 204  (791a596a)
2021-09-29T15:19:53.5916526+05:30 80000722-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-29T15:19:53.5916938+05:30 80000722-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:19:53.5917615+05:30 80000722-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:19:53.5918250+05:30 80000722-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllDeviceCapability(System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:19:53.8945062+05:30 80000722-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("302"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:19:54.1985042+05:30 80000722-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("303"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
ORDER BY [d].[CapabilityType]" (0723d8ff)
2021-09-29T15:19:54.2005729+05:30 80000722-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[IoT.DataLayer.Models.DeviceCapability, IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:19:54.2013800+05:30 80000722-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)" in 609.4452ms (afa2e885)
2021-09-29T15:19:54.2014998+05:30 80000722-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:19:54.2016609+05:30 80000722-0000-fa00-b63f-84710c7967bb [INF] Request finished in 609.989ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:19:57.8416802+05:30 80000734-0004-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:19:57.8417271+05:30 80000734-0004-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:19:57.8417294+05:30 80000405-0004-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:19:57.8417571+05:30 80000405-0004-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:19:57.8418372+05:30 80000405-0004-f700-b63f-84710c7967bb [INF] Request finished in 0.125ms 204  (791a596a)
2021-09-29T15:19:57.8418596+05:30 80000734-0004-fb00-b63f-84710c7967bb [INF] Request finished in 0.1819ms 204  (791a596a)
2021-09-29T15:19:57.8457422+05:30 80000383-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:19:57.8457424+05:30 80000724-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:19:57.8457992+05:30 80000724-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:19:57.8458048+05:30 80000383-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:19:57.8458725+05:30 80000724-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:19:57.8458725+05:30 80000383-0002-f500-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:19:57.8459401+05:30 80000724-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:19:57.8459488+05:30 80000383-0002-f500-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:19:58.1265821+05:30 80000383-0002-f500-b63f-84710c7967bb [INF] Executed DbCommand ("280"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:19:58.1495175+05:30 80000724-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("303"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:19:58.1497971+05:30 80000724-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:19:58.1502990+05:30 80000724-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 304.2699ms (afa2e885)
2021-09-29T15:19:58.1503748+05:30 80000724-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:19:58.1504875+05:30 80000724-0000-fa00-b63f-84710c7967bb [INF] Request finished in 304.8065ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:19:58.4055504+05:30 80000383-0002-f500-b63f-84710c7967bb [INF] Executed DbCommand ("278"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:19:58.4059073+05:30 80000383-0002-f500-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:19:58.4062427+05:30 80000383-0002-f500-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 560.244ms (afa2e885)
2021-09-29T15:19:58.4062836+05:30 80000383-0002-f500-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:19:58.4063755+05:30 80000383-0002-f500-b63f-84710c7967bb [INF] Request finished in 560.6502ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:20:54.5676540+05:30 8000019b-0005-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:20:54.5677331+05:30 8000019b-0005-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:20:54.5681490+05:30 8000019b-0005-f900-b63f-84710c7967bb [INF] Request finished in 0.3127ms 204  (791a596a)
2021-09-29T15:20:54.5695435+05:30 80000194-0003-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:20:54.5696284+05:30 80000194-0003-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:20:54.5697929+05:30 80000194-0003-fb00-b63f-84710c7967bb [INF] Request finished in 0.2927ms 204  (791a596a)
2021-09-29T15:20:54.5699822+05:30 80000008-0003-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:20:54.5700226+05:30 80000008-0003-f800-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:20:54.5701299+05:30 80000008-0003-f800-b63f-84710c7967bb [INF] Request finished in 0.1744ms 204  (791a596a)
2021-09-29T15:20:54.5714112+05:30 8000000a-0003-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:20:54.5715023+05:30 8000000a-0003-f800-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:20:54.5717525+05:30 8000000a-0003-f800-b63f-84710c7967bb [INF] Request finished in 0.427ms 204  (791a596a)
2021-09-29T15:20:54.5741456+05:30 80000407-0004-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:20:54.5742475+05:30 80000407-0004-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:20:54.5743328+05:30 80000407-0004-f700-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:20:54.5744199+05:30 80000407-0004-f700-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:20:54.5820974+05:30 8000000c-0003-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:20:54.5820974+05:30 8000041f-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:20:54.5821478+05:30 8000000c-0003-f800-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:20:54.5821481+05:30 8000041f-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:20:54.5822333+05:30 8000000c-0003-f800-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:20:54.5822323+05:30 8000041f-0006-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:20:54.5823152+05:30 8000041f-0006-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:20:54.5823271+05:30 8000000c-0003-f800-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:20:54.5832116+05:30 8000000c-0003-f800-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:20:54.6030527+05:30 8000000c-0003-f800-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 20.6427ms (afa2e885)
2021-09-29T15:20:54.6030596+05:30 80000385-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:20:54.6041387+05:30 80000385-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:20:54.6041076+05:30 8000000c-0003-f800-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:20:54.6042833+05:30 80000385-0002-f500-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:20:54.6042849+05:30 8000000c-0003-f800-b63f-84710c7967bb [INF] Request finished in 22.1946ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:20:54.6044283+05:30 80000385-0002-f500-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:20:54.8514070+05:30 80000407-0004-f700-b63f-84710c7967bb [INF] Executed DbCommand ("276"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:20:54.8516127+05:30 80000407-0004-f700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:20:54.8520779+05:30 80000407-0004-f700-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 277.5858ms (afa2e885)
2021-09-29T15:20:54.8521328+05:30 80000407-0004-f700-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:20:54.8522089+05:30 80000407-0004-f700-b63f-84710c7967bb [INF] Request finished in 278.1109ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:20:54.8922736+05:30 80000385-0002-f500-b63f-84710c7967bb [INF] Executed DbCommand ("284"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:20:54.8925869+05:30 80000385-0002-f500-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:20:54.8928885+05:30 80000385-0002-f500-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 288.4102ms (afa2e885)
2021-09-29T15:20:54.8929424+05:30 80000385-0002-f500-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:20:54.8930595+05:30 80000385-0002-f500-b63f-84710c7967bb [INF] Request finished in 290.0477ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:20:54.9043287+05:30 8000041f-0006-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("302"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:20:55.2070009+05:30 8000041f-0006-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("302"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:20:55.2074378+05:30 8000041f-0006-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:20:55.2078877+05:30 8000041f-0006-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 625.5118ms (afa2e885)
2021-09-29T15:20:55.2079375+05:30 8000041f-0006-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:20:55.2080256+05:30 8000041f-0006-fa00-b63f-84710c7967bb [INF] Request finished in 625.9455ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:20:55.4242969+05:30 8000000e-0003-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:20:55.4245394+05:30 8000000e-0003-f800-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:20:55.4247464+05:30 8000000e-0003-f800-b63f-84710c7967bb [INF] Request finished in 0.6129ms 204  (791a596a)
2021-09-29T15:20:55.4282986+05:30 80000387-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:20:55.4283512+05:30 80000387-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:20:55.4284137+05:30 80000387-0002-f500-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:20:55.4285171+05:30 80000387-0002-f500-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:20:55.4299205+05:30 80000387-0002-f500-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:20:55.4300086+05:30 80000387-0002-f500-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:20:55.4303041+05:30 80000387-0002-f500-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1.7439ms (afa2e885)
2021-09-29T15:20:55.4303376+05:30 80000387-0002-f500-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:20:55.4307676+05:30 80000387-0002-f500-b63f-84710c7967bb [INF] Request finished in 2.4763ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:20:55.4318936+05:30 80000387-0002-f500-b63f-84710c7967bb [ERR] Failed executing DbCommand ("3"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-29T15:20:55.4336027+05:30 80000387-0002-f500-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:20:56.0554821+05:30 80000421-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:20:56.0555458+05:30 80000421-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:20:56.0556560+05:30 80000421-0006-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:20:56.0557631+05:30 80000421-0006-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:20:56.0589688+05:30 800005e6-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:20:56.0590329+05:30 800005e6-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:20:56.0591244+05:30 800005e6-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:20:56.0592065+05:30 800005e6-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:20:56.0620338+05:30 800003ec-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:20:56.0621706+05:30 800003ec-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:20:56.0623435+05:30 800003ec-0007-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:20:56.0625077+05:30 800003ec-0007-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:20:56.0627318+05:30 800003ec-0007-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:20:56.0634344+05:30 800003ec-0007-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.6843ms (afa2e885)
2021-09-29T15:20:56.0634817+05:30 800003ec-0007-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:20:56.0635362+05:30 800003ec-0007-ff00-b63f-84710c7967bb [INF] Request finished in 1.6812ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:20:56.2422725+05:30 80000726-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:20:56.2423940+05:30 80000726-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:20:56.2425224+05:30 80000726-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:20:56.2426899+05:30 80000726-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:20:56.2498804+05:30 80000726-0000-fa00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:20:56.2550238+05:30 80000726-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:20:56.2554596+05:30 80000726-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 12.6815ms (afa2e885)
2021-09-29T15:20:56.2555304+05:30 80000726-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:20:56.2557539+05:30 80000726-0000-fa00-b63f-84710c7967bb [INF] Request finished in 13.5593ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:20:56.2567119+05:30 80000726-0000-fa00-b63f-84710c7967bb [ERR] An error occurred using the connection to database '"IoT-AppDatabase"' on server '"IoT-AppDatabase.mssql.somee.com"'. (5fc3407c)
2021-09-29T15:20:56.2630783+05:30 80000726-0000-fa00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:20:56.3339902+05:30 80000421-0006-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("278"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:20:56.3343113+05:30 80000421-0006-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:20:56.3347367+05:30 80000421-0006-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 278.9059ms (afa2e885)
2021-09-29T15:20:56.3347807+05:30 80000421-0006-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:20:56.3348633+05:30 80000421-0006-fa00-b63f-84710c7967bb [INF] Request finished in 279.4164ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:20:56.3363480+05:30 800005e6-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("276"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:20:56.3369961+05:30 800005e6-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:20:56.3374673+05:30 800005e6-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 278.1459ms (afa2e885)
2021-09-29T15:20:56.3375452+05:30 800005e6-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:20:56.3377055+05:30 800005e6-0001-fb00-b63f-84710c7967bb [INF] Request finished in 278.7555ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:22:10.4546831+05:30 800003ee-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:22:10.4547622+05:30 800003ee-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:22:10.4549200+05:30 800003ee-0007-ff00-b63f-84710c7967bb [INF] Request finished in 0.2743ms 204  (791a596a)
2021-09-29T15:22:10.4554560+05:30 80000409-0004-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:22:10.4555239+05:30 80000409-0004-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:22:10.4555334+05:30 800003f0-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:22:10.4555988+05:30 800003f0-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:22:10.4556582+05:30 80000409-0004-f700-b63f-84710c7967bb [INF] Request finished in 0.2281ms 204  (791a596a)
2021-09-29T15:22:10.4557053+05:30 800003f0-0007-ff00-b63f-84710c7967bb [INF] Request finished in 0.1602ms 204  (791a596a)
2021-09-29T15:22:10.4586726+05:30 80000423-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:22:10.4587378+05:30 80000423-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:22:10.4590233+05:30 80000423-0006-fa00-b63f-84710c7967bb [INF] Request finished in 0.3853ms 204  (791a596a)
2021-09-29T15:22:10.4625515+05:30 8000040b-0004-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:22:10.4626653+05:30 8000040b-0004-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:22:10.4628203+05:30 8000040b-0004-f700-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:22:10.4629184+05:30 8000040b-0004-f700-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:22:10.4661911+05:30 80000010-0003-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:22:10.4662621+05:30 80000010-0003-f800-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:22:10.4663714+05:30 80000010-0003-f800-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:22:10.4672850+05:30 80000010-0003-f800-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:22:10.4700637+05:30 800005ba-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:22:10.4703575+05:30 800005ba-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:22:10.4710658+05:30 800005ba-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:22:10.4711707+05:30 800005ba-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:22:10.4714449+05:30 800005ba-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:22:10.4750460+05:30 800005ba-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 3.7846ms (afa2e885)
2021-09-29T15:22:10.4750747+05:30 80000389-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:22:10.4750966+05:30 800005ba-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:22:10.4751258+05:30 80000389-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:22:10.4751687+05:30 800005ba-0002-f900-b63f-84710c7967bb [INF] Request finished in 5.1239ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:22:10.4753275+05:30 80000389-0002-f500-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:22:10.4754674+05:30 80000389-0002-f500-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:22:10.7480487+05:30 80000010-0003-f800-b63f-84710c7967bb [INF] Executed DbCommand ("276"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:22:10.7550826+05:30 80000389-0002-f500-b63f-84710c7967bb [INF] Executed DbCommand ("279"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:22:10.7558513+05:30 80000389-0002-f500-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:22:10.7566486+05:30 80000389-0002-f500-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 281.0867ms (afa2e885)
2021-09-29T15:22:10.7568281+05:30 80000389-0002-f500-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:22:10.7571179+05:30 80000389-0002-f500-b63f-84710c7967bb [INF] Request finished in 282.0361ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:22:10.7674833+05:30 8000040b-0004-f700-b63f-84710c7967bb [INF] Executed DbCommand ("303"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:22:10.7678657+05:30 8000040b-0004-f700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:22:10.7686601+05:30 8000040b-0004-f700-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 305.6318ms (afa2e885)
2021-09-29T15:22:10.7687794+05:30 8000040b-0004-f700-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:22:10.7689511+05:30 8000040b-0004-f700-b63f-84710c7967bb [INF] Request finished in 306.3908ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:22:10.9721262+05:30 8000040d-0004-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:22:10.9722497+05:30 8000040d-0004-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:22:10.9725263+05:30 8000040d-0004-f700-b63f-84710c7967bb [INF] Request finished in 0.5059ms 204  (791a596a)
2021-09-29T15:22:10.9806875+05:30 800003f2-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:22:10.9808505+05:30 800003f2-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:22:10.9810553+05:30 800003f2-0007-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:22:10.9812521+05:30 800003f2-0007-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:22:10.9852325+05:30 800003f2-0007-ff00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:22:10.9857065+05:30 800003f2-0007-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:22:10.9981992+05:30 800003f2-0007-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 16.7569ms (afa2e885)
2021-09-29T15:22:10.9983407+05:30 800003f2-0007-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:22:11.0000267+05:30 800003f2-0007-ff00-b63f-84710c7967bb [INF] Request finished in 19.3423ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:22:11.0151900+05:30 800003f2-0007-ff00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("33"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-29T15:22:11.0176423+05:30 800003f2-0007-ff00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:22:11.0286468+05:30 80000010-0003-f800-b63f-84710c7967bb [INF] Executed DbCommand ("279"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:22:11.0289412+05:30 80000010-0003-f800-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:22:11.0356103+05:30 80000010-0003-f800-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 568.2227ms (afa2e885)
2021-09-29T15:22:11.0356903+05:30 80000010-0003-f800-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:22:11.0358085+05:30 80000010-0003-f800-b63f-84710c7967bb [INF] Request finished in 569.6231ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:22:15.1219885+05:30 80000425-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:22:15.1220797+05:30 80000425-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:22:15.1222039+05:30 80000425-0006-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:22:15.1223236+05:30 80000425-0006-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:22:15.1227649+05:30 800003f4-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:22:15.1228268+05:30 800003f4-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:22:15.1229186+05:30 800003f4-0007-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:22:15.1230094+05:30 800003f4-0007-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:22:15.1260299+05:30 800005e8-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:22:15.1261514+05:30 800005e8-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:22:15.1262904+05:30 800005e8-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:22:15.1264988+05:30 800005e8-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:22:15.1269809+05:30 800005e8-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:22:15.1272040+05:30 800005e8-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.6569ms (afa2e885)
2021-09-29T15:22:15.1272576+05:30 800005e8-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:22:15.1273157+05:30 800005e8-0001-fb00-b63f-84710c7967bb [INF] Request finished in 1.3761ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:22:15.3044855+05:30 80000728-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:22:15.3045496+05:30 80000728-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:22:15.3046237+05:30 80000728-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:22:15.3047164+05:30 80000728-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:22:15.3115495+05:30 80000728-0000-fa00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:22:15.3116717+05:30 80000728-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:22:15.3120495+05:30 80000728-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 7.2775ms (afa2e885)
2021-09-29T15:22:15.3121015+05:30 80000728-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:22:15.3123304+05:30 80000728-0000-fa00-b63f-84710c7967bb [INF] Request finished in 7.8707ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:22:15.3130754+05:30 80000728-0000-fa00-b63f-84710c7967bb [ERR] An error occurred using the connection to database '"IoT-AppDatabase"' on server '"IoT-AppDatabase.mssql.somee.com"'. (5fc3407c)
2021-09-29T15:22:15.3172217+05:30 80000728-0000-fa00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:22:15.3966517+05:30 80000425-0006-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("274"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:22:15.3967975+05:30 80000425-0006-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:22:15.3970419+05:30 80000425-0006-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 274.6667ms (afa2e885)
2021-09-29T15:22:15.3970790+05:30 80000425-0006-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:22:15.3971466+05:30 80000425-0006-fa00-b63f-84710c7967bb [INF] Request finished in 275.2146ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:22:15.4034119+05:30 800003f4-0007-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("280"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:22:15.4036722+05:30 800003f4-0007-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:22:15.4040056+05:30 800003f4-0007-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 280.9397ms (afa2e885)
2021-09-29T15:22:15.4040676+05:30 800003f4-0007-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:22:15.4042521+05:30 800003f4-0007-ff00-b63f-84710c7967bb [INF] Request finished in 281.6491ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:24:01.1991300+05:30 8000038b-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/updateDeviceCapability   (ca22a1cb)
2021-09-29T15:24:01.1993017+05:30 8000038b-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:24:01.1995300+05:30 8000038b-0002-f500-b63f-84710c7967bb [INF] Request finished in 0.4621ms 204  (791a596a)
2021-09-29T15:24:01.2037516+05:30 8000038d-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/admin/updateDeviceCapability application/json;charset=UTF-8 515 (ca22a1cb)
2021-09-29T15:24:01.2038006+05:30 8000038d-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:24:01.2038776+05:30 8000038d-0002-f500-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.UpdateDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:24:01.2039941+05:30 8000038d-0002-f500-b63f-84710c7967bb [INF] Route matched with "{action = \"UpdateDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult UpdateDeviceCapability(IoT.DataLayer.Models.DeviceCapability, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:24:01.4812379+05:30 8000038d-0002-f500-b63f-84710c7967bb [INF] Executed DbCommand ("276"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:24:02.0334265+05:30 8000038d-0002-f500-b63f-84710c7967bb [INF] Executed DbCommand ("275"ms) [Parameters=["@p10='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [DeviceCapability] SET [CapabilityInterface] = @p0, [CapabilityType] = @p1, [CreatedDate] = @p2, [DeviceTypeId] = @p3, [DisplayCategory] = @p4, [Modifieddate] = @p5, [ProactivelyReported] = @p6, [Retrievable] = @p7, [SupportedProperty] = @p8, [Version] = @p9
WHERE [DeviceCapabilityId] = @p10;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-09-29T15:24:02.3107729+05:30 8000038d-0002-f500-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Int32"'. (8a1b66c8)
2021-09-29T15:24:02.3115361+05:30 8000038d-0002-f500-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.UpdateDeviceCapability (IoT.WebAPI)" in 1107.4306ms (afa2e885)
2021-09-29T15:24:02.3116605+05:30 8000038d-0002-f500-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.UpdateDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:24:02.3118589+05:30 8000038d-0002-f500-b63f-84710c7967bb [INF] Request finished in 1108.0906ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:24:02.3736613+05:30 80000012-0003-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-29T15:24:02.3737227+05:30 80000012-0003-f800-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:24:02.3739233+05:30 80000012-0003-f800-b63f-84710c7967bb [INF] Request finished in 0.2713ms 204  (791a596a)
2021-09-29T15:24:02.3781969+05:30 80000427-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-29T15:24:02.3782400+05:30 80000427-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:24:02.3783141+05:30 80000427-0006-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:24:02.3783859+05:30 80000427-0006-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllDeviceCapability(System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:24:02.6533086+05:30 80000427-0006-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("274"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:24:02.9308085+05:30 80000427-0006-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("276"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
ORDER BY [d].[CapabilityType]" (0723d8ff)
2021-09-29T15:24:02.9314954+05:30 80000427-0006-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[IoT.DataLayer.Models.DeviceCapability, IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:24:02.9320995+05:30 80000427-0006-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)" in 553.6142ms (afa2e885)
2021-09-29T15:24:02.9322099+05:30 80000427-0006-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:24:02.9324058+05:30 80000427-0006-fa00-b63f-84710c7967bb [INF] Request finished in 554.1416ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:24:07.9129839+05:30 8000040f-0004-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:24:07.9130464+05:30 8000040f-0004-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:24:07.9131800+05:30 8000040f-0004-f700-b63f-84710c7967bb [INF] Request finished in 0.2171ms 204  (791a596a)
2021-09-29T15:24:07.9133254+05:30 80000736-0004-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:24:07.9133936+05:30 80000736-0004-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:24:07.9136354+05:30 80000736-0004-fb00-b63f-84710c7967bb [INF] Request finished in 0.3212ms 204  (791a596a)
2021-09-29T15:24:07.9202733+05:30 8000019d-0005-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:24:07.9203286+05:30 8000019d-0005-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:24:07.9203535+05:30 8000038f-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:24:07.9204051+05:30 8000038f-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:24:07.9204281+05:30 8000019d-0005-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:24:07.9204959+05:30 8000038f-0002-f500-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:24:07.9205423+05:30 8000019d-0005-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:24:07.9205887+05:30 8000038f-0002-f500-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:24:08.1948190+05:30 8000019d-0005-f900-b63f-84710c7967bb [INF] Executed DbCommand ("274"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:24:08.1950518+05:30 8000019d-0005-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:24:08.1955219+05:30 8000019d-0005-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 274.8708ms (afa2e885)
2021-09-29T15:24:08.1956423+05:30 8000019d-0005-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:24:08.1957665+05:30 8000019d-0005-f900-b63f-84710c7967bb [INF] Request finished in 275.5079ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:24:08.1987066+05:30 8000038f-0002-f500-b63f-84710c7967bb [INF] Executed DbCommand ("277"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:24:08.4788449+05:30 8000038f-0002-f500-b63f-84710c7967bb [INF] Executed DbCommand ("279"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:24:08.4794042+05:30 8000038f-0002-f500-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:24:08.4802022+05:30 8000038f-0002-f500-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 559.5135ms (afa2e885)
2021-09-29T15:24:08.4803332+05:30 8000038f-0002-f500-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:24:08.4806747+05:30 8000038f-0002-f500-b63f-84710c7967bb [INF] Request finished in 560.3049ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:24:14.9186403+05:30 800005ea-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/updateDeviceCapability   (ca22a1cb)
2021-09-29T15:24:14.9187003+05:30 800005ea-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:24:14.9189371+05:30 800005ea-0001-fb00-b63f-84710c7967bb [INF] Request finished in 0.2371ms 204  (791a596a)
2021-09-29T15:24:14.9227183+05:30 80000014-0003-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/admin/updateDeviceCapability application/json;charset=UTF-8 513 (ca22a1cb)
2021-09-29T15:24:14.9228572+05:30 80000014-0003-f800-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:24:14.9230890+05:30 80000014-0003-f800-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.UpdateDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:24:14.9232200+05:30 80000014-0003-f800-b63f-84710c7967bb [INF] Route matched with "{action = \"UpdateDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult UpdateDeviceCapability(IoT.DataLayer.Models.DeviceCapability, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:24:15.2030131+05:30 80000014-0003-f800-b63f-84710c7967bb [INF] Executed DbCommand ("279"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:24:15.7640282+05:30 80000014-0003-f800-b63f-84710c7967bb [INF] Executed DbCommand ("279"ms) [Parameters=["@p10='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [DeviceCapability] SET [CapabilityInterface] = @p0, [CapabilityType] = @p1, [CreatedDate] = @p2, [DeviceTypeId] = @p3, [DisplayCategory] = @p4, [Modifieddate] = @p5, [ProactivelyReported] = @p6, [Retrievable] = @p7, [SupportedProperty] = @p8, [Version] = @p9
WHERE [DeviceCapabilityId] = @p10;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-09-29T15:24:16.0457329+05:30 80000014-0003-f800-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Int32"'. (8a1b66c8)
2021-09-29T15:24:16.0460065+05:30 80000014-0003-f800-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.UpdateDeviceCapability (IoT.WebAPI)" in 1122.7249ms (afa2e885)
2021-09-29T15:24:16.0460428+05:30 80000014-0003-f800-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.UpdateDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:24:16.0461187+05:30 80000014-0003-f800-b63f-84710c7967bb [INF] Request finished in 1123.4754ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:24:16.0812369+05:30 800003f6-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-29T15:24:16.0813119+05:30 800003f6-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:24:16.0816138+05:30 800003f6-0007-ff00-b63f-84710c7967bb [INF] Request finished in 0.4182ms 204  (791a596a)
2021-09-29T15:24:16.0898488+05:30 8000072a-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-29T15:24:16.0899086+05:30 8000072a-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:24:16.0900006+05:30 8000072a-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:24:16.0900856+05:30 8000072a-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllDeviceCapability(System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:24:16.3822846+05:30 8000072a-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("291"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:24:16.6615865+05:30 8000072a-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("279"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
ORDER BY [d].[CapabilityType]" (0723d8ff)
2021-09-29T15:24:16.6620690+05:30 8000072a-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[IoT.DataLayer.Models.DeviceCapability, IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:24:16.6627711+05:30 8000072a-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)" in 572.5748ms (afa2e885)
2021-09-29T15:24:16.6628861+05:30 8000072a-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:24:16.6631147+05:30 8000072a-0000-fa00-b63f-84710c7967bb [INF] Request finished in 573.2754ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:24:21.2209848+05:30 8000019f-0005-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:24:21.2211035+05:30 8000019f-0005-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:24:21.2212966+05:30 80000391-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:24:21.2213190+05:30 8000019f-0005-f900-b63f-84710c7967bb [INF] Request finished in 0.3819ms 204  (791a596a)
2021-09-29T15:24:21.2213902+05:30 80000391-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:24:21.2214847+05:30 80000391-0002-f500-b63f-84710c7967bb [INF] Request finished in 0.2079ms 204  (791a596a)
2021-09-29T15:24:21.2283873+05:30 8000035a-0006-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:24:21.2283873+05:30 80000429-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:24:21.2284574+05:30 8000035a-0006-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:24:21.2284574+05:30 80000429-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:24:21.2285755+05:30 8000035a-0006-f700-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:24:21.2285983+05:30 80000429-0006-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:24:21.2287070+05:30 8000035a-0006-f700-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:24:21.2287079+05:30 80000429-0006-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:24:21.5051814+05:30 8000035a-0006-f700-b63f-84710c7967bb [INF] Executed DbCommand ("276"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:24:21.5083461+05:30 80000429-0006-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("279"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:24:21.5084660+05:30 80000429-0006-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:24:21.5087432+05:30 80000429-0006-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 279.9775ms (afa2e885)
2021-09-29T15:24:21.5087760+05:30 80000429-0006-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:24:21.5088178+05:30 80000429-0006-fa00-b63f-84710c7967bb [INF] Request finished in 280.6406ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:24:21.7811577+05:30 8000035a-0006-f700-b63f-84710c7967bb [INF] Executed DbCommand ("276"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:24:21.7815462+05:30 8000035a-0006-f700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:24:21.7818893+05:30 8000035a-0006-f700-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 553.1235ms (afa2e885)
2021-09-29T15:24:21.7819889+05:30 8000035a-0006-f700-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:24:21.7820656+05:30 8000035a-0006-f700-b63f-84710c7967bb [INF] Request finished in 553.77ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:25:06.8342742+05:30 80000738-0004-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:25:06.8344059+05:30 80000738-0004-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:25:06.8345721+05:30 80000738-0004-fb00-b63f-84710c7967bb [INF] Request finished in 0.3565ms 204  (791a596a)
2021-09-29T15:25:06.8354593+05:30 80000411-0004-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:25:06.8355253+05:30 80000411-0004-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:25:06.8356808+05:30 80000411-0004-f700-b63f-84710c7967bb [INF] Request finished in 0.2623ms 204  (791a596a)
2021-09-29T15:25:06.8357886+05:30 8000046a-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:25:06.8358296+05:30 8000046a-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:25:06.8359446+05:30 8000046a-0004-fa00-b63f-84710c7967bb [INF] Request finished in 0.1651ms 204  (791a596a)
2021-09-29T15:25:06.8382692+05:30 80000016-0003-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:25:06.8384451+05:30 80000016-0003-f800-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:25:06.8386416+05:30 80000016-0003-f800-b63f-84710c7967bb [INF] Request finished in 0.4065ms 204  (791a596a)
2021-09-29T15:25:06.8434072+05:30 8000035c-0006-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:25:06.8434833+05:30 8000035c-0006-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:25:06.8435943+05:30 8000035c-0006-f700-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:25:06.8443713+05:30 8000035c-0006-f700-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:25:06.8444953+05:30 8000046c-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:25:06.8445517+05:30 8000046c-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:25:06.8446554+05:30 8000046c-0004-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:25:06.8447709+05:30 8000046c-0004-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:25:06.8456845+05:30 800005ec-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:25:06.8457374+05:30 800005ec-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:25:06.8458131+05:30 800005ec-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:25:06.8459172+05:30 800005ec-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:25:06.8471657+05:30 800005ec-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:25:06.8510047+05:30 800005ec-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 5.0135ms (afa2e885)
2021-09-29T15:25:06.8511710+05:30 800005ec-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:25:06.8521031+05:30 800005ec-0001-fb00-b63f-84710c7967bb [INF] Request finished in 5.6385ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:25:06.8526779+05:30 8000042b-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:25:06.8527243+05:30 8000042b-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:25:06.8528027+05:30 8000042b-0006-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:25:06.8528846+05:30 8000042b-0006-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:25:07.1217161+05:30 8000035c-0006-f700-b63f-84710c7967bb [INF] Executed DbCommand ("277"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:25:07.1218321+05:30 8000035c-0006-f700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:25:07.1220519+05:30 8000035c-0006-f700-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 277.612ms (afa2e885)
2021-09-29T15:25:07.1220748+05:30 8000035c-0006-f700-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:25:07.1221177+05:30 8000035c-0006-f700-b63f-84710c7967bb [INF] Request finished in 278.7877ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:25:07.1255308+05:30 8000046c-0004-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("280"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:25:07.1466950+05:30 8000042b-0006-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("286"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:25:07.1475842+05:30 8000042b-0006-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:25:07.1503017+05:30 8000042b-0006-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 297.3524ms (afa2e885)
2021-09-29T15:25:07.1503586+05:30 8000042b-0006-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:25:07.1504667+05:30 8000042b-0006-fa00-b63f-84710c7967bb [INF] Request finished in 298.3516ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:25:07.3405730+05:30 8000072c-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:25:07.3406689+05:30 8000072c-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:25:07.3408381+05:30 8000072c-0000-fa00-b63f-84710c7967bb [INF] Request finished in 0.259ms 204  (791a596a)
2021-09-29T15:25:07.3436722+05:30 800005ee-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:25:07.3437231+05:30 800005ee-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:25:07.3437830+05:30 800005ee-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:25:07.3438944+05:30 800005ee-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:25:07.3449545+05:30 800005ee-0001-fb00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:25:07.3450290+05:30 800005ee-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:25:07.3452717+05:30 800005ee-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1.34ms (afa2e885)
2021-09-29T15:25:07.3452987+05:30 800005ee-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:25:07.3457196+05:30 800005ee-0001-fb00-b63f-84710c7967bb [INF] Request finished in 2.0449ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:25:07.3467437+05:30 800005ee-0001-fb00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("2"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-29T15:25:07.3492090+05:30 800005ee-0001-fb00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:25:07.4058530+05:30 8000046c-0004-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("280"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:25:07.4061071+05:30 8000046c-0004-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:25:07.4064392+05:30 8000046c-0004-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 561.6151ms (afa2e885)
2021-09-29T15:25:07.4064894+05:30 8000046c-0004-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:25:07.4065769+05:30 8000046c-0004-fa00-b63f-84710c7967bb [INF] Request finished in 562.096ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:25:10.1524383+05:30 800001a1-0005-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:25:10.1525898+05:30 800001a1-0005-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:25:10.1527515+05:30 800001a1-0005-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:25:10.1528357+05:30 8000072e-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:25:10.1528689+05:30 800001a1-0005-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:25:10.1528742+05:30 8000072e-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:25:10.1529626+05:30 8000072e-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:25:10.1530352+05:30 8000072e-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:25:10.1540132+05:30 80000393-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:25:10.1540764+05:30 80000393-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:25:10.1541590+05:30 80000393-0002-f500-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:25:10.1545061+05:30 80000393-0002-f500-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:25:10.1551633+05:30 80000393-0002-f500-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:25:10.1555523+05:30 80000393-0002-f500-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.9111ms (afa2e885)
2021-09-29T15:25:10.1556029+05:30 80000393-0002-f500-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:25:10.1557592+05:30 80000393-0002-f500-b63f-84710c7967bb [INF] Request finished in 1.7059ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:25:10.3622383+05:30 8000037c-0000-f600-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:25:10.3623591+05:30 8000037c-0000-f600-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:25:10.3624988+05:30 8000037c-0000-f600-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:25:10.3626664+05:30 8000037c-0000-f600-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:25:10.3806497+05:30 8000037c-0000-f600-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:25:10.3809147+05:30 8000037c-0000-f600-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:25:10.3819372+05:30 8000037c-0000-f600-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 19.1335ms (afa2e885)
2021-09-29T15:25:10.3820764+05:30 8000037c-0000-f600-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:25:10.3830355+05:30 8000037c-0000-f600-b63f-84710c7967bb [INF] Request finished in 20.5424ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:25:10.3843638+05:30 8000037c-0000-f600-b63f-84710c7967bb [ERR] An error occurred using the connection to database '"IoT-AppDatabase"' on server '"IoT-AppDatabase.mssql.somee.com"'. (5fc3407c)
2021-09-29T15:25:10.3980128+05:30 8000037c-0000-f600-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:25:10.4285180+05:30 8000072e-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("274"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:25:10.4289731+05:30 8000072e-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:25:10.4293754+05:30 8000072e-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 276.2676ms (afa2e885)
2021-09-29T15:25:10.4294495+05:30 8000072e-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:25:10.4296059+05:30 8000072e-0000-fa00-b63f-84710c7967bb [INF] Request finished in 276.7745ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:25:10.4328963+05:30 800001a1-0005-f900-b63f-84710c7967bb [INF] Executed DbCommand ("279"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:25:10.4330917+05:30 800001a1-0005-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:25:10.4381215+05:30 800001a1-0005-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 285.1492ms (afa2e885)
2021-09-29T15:25:10.4382026+05:30 800001a1-0005-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:25:10.4382955+05:30 800001a1-0005-f900-b63f-84710c7967bb [INF] Request finished in 286.2776ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:25:55.0590583+05:30 80000018-0003-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:25:55.0591075+05:30 800001a3-0005-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:25:55.0592329+05:30 800001a3-0005-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:25:55.0592966+05:30 80000018-0003-f800-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:25:55.0593978+05:30 800001a3-0005-f900-b63f-84710c7967bb [INF] Request finished in 0.289ms 204  (791a596a)
2021-09-29T15:25:55.0594166+05:30 80000018-0003-f800-b63f-84710c7967bb [INF] Request finished in 0.4658ms 204  (791a596a)
2021-09-29T15:25:55.0605915+05:30 8000046e-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:25:55.0606971+05:30 8000046e-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:25:55.0608844+05:30 8000046e-0004-fa00-b63f-84710c7967bb [INF] Request finished in 0.3203ms 204  (791a596a)
2021-09-29T15:25:55.0616938+05:30 8000042d-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:25:55.0617628+05:30 8000042d-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:25:55.0619203+05:30 8000042d-0006-fa00-b63f-84710c7967bb [INF] Request finished in 0.279ms 204  (791a596a)
2021-09-29T15:25:55.0672097+05:30 800005f0-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:25:55.0674351+05:30 800005f0-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:25:55.0676140+05:30 800005f0-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:25:55.0679162+05:30 800005f0-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:25:55.0708955+05:30 8000001a-0003-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:25:55.0708765+05:30 80000680-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:25:55.0709779+05:30 8000001a-0003-f800-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:25:55.0709819+05:30 80000680-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:25:55.0710713+05:30 8000001a-0003-f800-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:25:55.0711227+05:30 80000680-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:25:55.0711621+05:30 8000001a-0003-f800-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:25:55.0713351+05:30 80000680-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:25:55.0714394+05:30 8000001a-0003-f800-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:25:55.0734555+05:30 8000001a-0003-f800-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 2.0923ms (afa2e885)
2021-09-29T15:25:55.0735210+05:30 8000001a-0003-f800-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:25:55.0765945+05:30 8000001a-0003-f800-b63f-84710c7967bb [INF] Request finished in 5.8337ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:25:55.0904906+05:30 80000730-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:25:55.0905508+05:30 80000730-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:25:55.0906392+05:30 80000730-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:25:55.0931327+05:30 80000730-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:25:55.3511718+05:30 80000680-0001-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("278"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:25:55.3517730+05:30 80000680-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:25:55.3526065+05:30 80000680-0001-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 281.1641ms (afa2e885)
2021-09-29T15:25:55.3527985+05:30 80000680-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:25:55.3532311+05:30 80000680-0001-ff00-b63f-84710c7967bb [INF] Request finished in 282.1797ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:25:55.3658519+05:30 800005f0-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("287"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:25:55.3707513+05:30 80000730-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("276"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:25:55.3725768+05:30 80000730-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:25:55.3739102+05:30 80000730-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 280.6328ms (afa2e885)
2021-09-29T15:25:55.3741198+05:30 80000730-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:25:55.3747644+05:30 80000730-0000-fa00-b63f-84710c7967bb [INF] Request finished in 283.9398ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:25:55.5862224+05:30 8000042f-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:25:55.5862937+05:30 8000042f-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:25:55.5863798+05:30 8000042f-0006-fa00-b63f-84710c7967bb [INF] Request finished in 0.2931ms 204  (791a596a)
2021-09-29T15:25:55.5893443+05:30 80000431-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:25:55.5893893+05:30 80000431-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:25:55.5894331+05:30 80000431-0006-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:25:55.5894904+05:30 80000431-0006-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:25:55.5907079+05:30 80000431-0006-fa00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:25:55.5908432+05:30 80000431-0006-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:25:55.5910620+05:30 80000431-0006-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1.5352ms (afa2e885)
2021-09-29T15:25:55.5910979+05:30 80000431-0006-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:25:55.5916581+05:30 80000431-0006-fa00-b63f-84710c7967bb [INF] Request finished in 2.2889ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:25:55.5922973+05:30 80000431-0006-fa00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("2"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-29T15:25:55.5945253+05:30 80000431-0006-fa00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:25:55.6536164+05:30 800005f0-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("286"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:25:55.6540167+05:30 800005f0-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:25:55.6543551+05:30 800005f0-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 586.1917ms (afa2e885)
2021-09-29T15:25:55.6544134+05:30 800005f0-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:25:55.6545528+05:30 800005f0-0001-fb00-b63f-84710c7967bb [INF] Request finished in 587.5213ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:25:58.1533273+05:30 80000732-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:25:58.1535880+05:30 80000732-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:25:58.1537313+05:30 80000732-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:25:58.1538664+05:30 80000732-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:25:58.1547470+05:30 800005f2-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:25:58.1548409+05:30 800005f2-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:25:58.1549307+05:30 800005f2-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:25:58.1550437+05:30 800005f2-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:25:58.1551138+05:30 8000001c-0003-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:25:58.1551436+05:30 8000001c-0003-f800-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:25:58.1551960+05:30 8000001c-0003-f800-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:25:58.1552571+05:30 8000001c-0003-f800-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:25:58.1555623+05:30 8000001c-0003-f800-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:25:58.1559446+05:30 8000001c-0003-f800-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.4889ms (afa2e885)
2021-09-29T15:25:58.1561584+05:30 8000001c-0003-f800-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:25:58.1565883+05:30 8000001c-0003-f800-b63f-84710c7967bb [INF] Request finished in 1.3499ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:25:58.3420295+05:30 80000682-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:25:58.3421343+05:30 80000682-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:25:58.3422715+05:30 80000682-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:25:58.3424369+05:30 80000682-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:25:58.3552737+05:30 80000682-0001-ff00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:25:58.3554279+05:30 80000682-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:25:58.3558376+05:30 80000682-0001-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 13.2803ms (afa2e885)
2021-09-29T15:25:58.3559155+05:30 80000682-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:25:58.3561929+05:30 80000682-0001-ff00-b63f-84710c7967bb [INF] Request finished in 14.1834ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:25:58.3570889+05:30 80000682-0001-ff00-b63f-84710c7967bb [ERR] An error occurred using the connection to database '"IoT-AppDatabase"' on server '"IoT-AppDatabase.mssql.somee.com"'. (5fc3407c)
2021-09-29T15:25:58.3656106+05:30 80000682-0001-ff00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:25:58.4330060+05:30 800005f2-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("277"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:25:58.4332151+05:30 800005f2-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:25:58.4334603+05:30 800005f2-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 278.3667ms (afa2e885)
2021-09-29T15:25:58.4335019+05:30 800005f2-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:25:58.4335913+05:30 800005f2-0001-fb00-b63f-84710c7967bb [INF] Request finished in 278.8785ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:25:58.4391107+05:30 80000732-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("285"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:25:58.4392776+05:30 80000732-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:25:58.4396734+05:30 80000732-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 285.7429ms (afa2e885)
2021-09-29T15:25:58.4397328+05:30 80000732-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:25:58.4398056+05:30 80000732-0000-fa00-b63f-84710c7967bb [INF] Request finished in 286.5442ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:26:44.0515932+05:30 80000433-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:26:44.0521685+05:30 80000433-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:26:44.0524380+05:30 80000433-0006-fa00-b63f-84710c7967bb [INF] Request finished in 0.9278ms 204  (791a596a)
2021-09-29T15:26:44.0554509+05:30 800001a5-0005-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:26:44.0554572+05:30 8000030d-0005-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:26:44.0555206+05:30 8000030d-0005-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:26:44.0555206+05:30 800001a5-0005-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:26:44.0556515+05:30 8000030d-0005-fd00-b63f-84710c7967bb [INF] Request finished in 0.2419ms 204  (791a596a)
2021-09-29T15:26:44.0556515+05:30 800001a5-0005-f900-b63f-84710c7967bb [INF] Request finished in 0.2318ms 204  (791a596a)
2021-09-29T15:26:44.0591504+05:30 80000395-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:26:44.0592469+05:30 80000395-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:26:44.0595372+05:30 80000395-0002-f500-b63f-84710c7967bb [INF] Request finished in 0.4088ms 204  (791a596a)
2021-09-29T15:26:44.0641402+05:30 800005f4-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:26:44.0643101+05:30 800005f4-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:26:44.0644078+05:30 800005f4-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:26:44.0645037+05:30 800005f4-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:26:44.0686710+05:30 8000001e-0003-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:26:44.0687358+05:30 8000001e-0003-f800-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:26:44.0689676+05:30 8000001e-0003-f800-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:26:44.0690189+05:30 80000734-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:26:44.0690608+05:30 80000734-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:26:44.0690594+05:30 8000001e-0003-f800-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:26:44.0691300+05:30 80000734-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:26:44.0692989+05:30 80000734-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:26:44.0774663+05:30 80000196-0003-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:26:44.0775534+05:30 80000196-0003-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:26:44.0794145+05:30 80000196-0003-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:26:44.0795492+05:30 80000196-0003-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:26:44.0843772+05:30 80000196-0003-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:26:44.0852657+05:30 80000196-0003-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 5.5251ms (afa2e885)
2021-09-29T15:26:44.0855119+05:30 80000196-0003-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:26:44.0857244+05:30 80000196-0003-fb00-b63f-84710c7967bb [INF] Request finished in 8.2538ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:26:44.3442692+05:30 800005f4-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("279"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:26:44.3443887+05:30 800005f4-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:26:44.3446424+05:30 800005f4-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 280.0969ms (afa2e885)
2021-09-29T15:26:44.3446856+05:30 800005f4-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:26:44.3447547+05:30 800005f4-0001-fb00-b63f-84710c7967bb [INF] Request finished in 280.6485ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:26:44.3617451+05:30 80000734-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("282"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:26:44.3648926+05:30 8000001e-0003-f800-b63f-84710c7967bb [INF] Executed DbCommand ("294"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:26:44.3651901+05:30 8000001e-0003-f800-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:26:44.3655312+05:30 8000001e-0003-f800-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 296.4035ms (afa2e885)
2021-09-29T15:26:44.3656237+05:30 8000001e-0003-f800-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:26:44.3659106+05:30 8000001e-0003-f800-b63f-84710c7967bb [INF] Request finished in 297.2674ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:26:44.5352751+05:30 80000470-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:26:44.5353321+05:30 80000470-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:26:44.5354447+05:30 80000470-0004-fa00-b63f-84710c7967bb [INF] Request finished in 0.1956ms 204  (791a596a)
2021-09-29T15:26:44.5389755+05:30 80000435-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:26:44.5390241+05:30 80000435-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:26:44.5390921+05:30 80000435-0006-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:26:44.5391984+05:30 80000435-0006-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:26:44.5432965+05:30 80000435-0006-fa00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:26:44.5435414+05:30 80000435-0006-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:26:44.5438708+05:30 80000435-0006-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 4.6015ms (afa2e885)
2021-09-29T15:26:44.5439118+05:30 80000435-0006-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:26:44.5448218+05:30 80000435-0006-fa00-b63f-84710c7967bb [INF] Request finished in 5.8107ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:26:44.5482620+05:30 80000435-0006-fa00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("8"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-29T15:26:44.5510611+05:30 80000435-0006-fa00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:26:44.6456870+05:30 80000734-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("283"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:26:44.6461053+05:30 80000734-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:26:44.6466684+05:30 80000734-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 575.8407ms (afa2e885)
2021-09-29T15:26:44.6468810+05:30 80000734-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:26:44.6471891+05:30 80000734-0000-fa00-b63f-84710c7967bb [INF] Request finished in 578.112ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:27:15.9300130+05:30 80000437-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:27:15.9301670+05:30 80000437-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:27:15.9304709+05:30 80000437-0006-fa00-b63f-84710c7967bb [INF] Request finished in 0.8909ms 204  (791a596a)
2021-09-29T15:27:15.9306078+05:30 80000020-0003-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:27:15.9306501+05:30 80000020-0003-f800-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:27:15.9307449+05:30 80000020-0003-f800-b63f-84710c7967bb [INF] Request finished in 0.1464ms 204  (791a596a)
2021-09-29T15:27:15.9322987+05:30 80000022-0003-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:27:15.9324213+05:30 800003f8-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:27:15.9324529+05:30 800003f8-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:27:15.9324247+05:30 80000022-0003-f800-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:27:15.9325650+05:30 800003f8-0007-ff00-b63f-84710c7967bb [INF] Request finished in 0.1571ms 204  (791a596a)
2021-09-29T15:27:15.9325929+05:30 80000022-0003-f800-b63f-84710c7967bb [INF] Request finished in 0.329ms 204  (791a596a)
2021-09-29T15:27:15.9378890+05:30 80000024-0003-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:27:15.9380485+05:30 80000024-0003-f800-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:27:15.9385958+05:30 80000024-0003-f800-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:27:15.9388020+05:30 80000024-0003-f800-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:27:15.9390249+05:30 80000198-0003-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:27:15.9390844+05:30 80000198-0003-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:27:15.9391853+05:30 80000198-0003-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:27:15.9396027+05:30 80000198-0003-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:27:15.9469006+05:30 800003fa-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:27:15.9471153+05:30 800003fa-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:27:15.9478314+05:30 800003fa-0007-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:27:15.9478647+05:30 80000439-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:27:15.9478988+05:30 80000439-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:27:15.9479152+05:30 800003fa-0007-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:27:15.9479572+05:30 80000439-0006-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:27:15.9480116+05:30 80000439-0006-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:27:15.9508482+05:30 800003fa-0007-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:27:15.9511206+05:30 800003fa-0007-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 3.1633ms (afa2e885)
2021-09-29T15:27:15.9511642+05:30 800003fa-0007-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:27:15.9512947+05:30 800003fa-0007-ff00-b63f-84710c7967bb [INF] Request finished in 4.4006ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:27:16.2233044+05:30 80000198-0003-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("279"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:27:16.2243887+05:30 80000024-0003-f800-b63f-84710c7967bb [INF] Executed DbCommand ("285"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:27:16.2249743+05:30 80000024-0003-f800-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:27:16.2263001+05:30 80000024-0003-f800-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 287.3375ms (afa2e885)
2021-09-29T15:27:16.2264496+05:30 80000024-0003-f800-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:27:16.2266805+05:30 80000024-0003-f800-b63f-84710c7967bb [INF] Request finished in 288.7861ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:27:16.4657160+05:30 800005f6-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:27:16.4657883+05:30 800005f6-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:27:16.4659393+05:30 800005f6-0001-fb00-b63f-84710c7967bb [INF] Request finished in 0.2752ms 204  (791a596a)
2021-09-29T15:27:16.4694894+05:30 800005f8-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:27:16.4695767+05:30 800005f8-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:27:16.4696599+05:30 800005f8-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:27:16.4697698+05:30 800005f8-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:27:16.4712913+05:30 800005f8-0001-fb00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:27:16.4714604+05:30 800005f8-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:27:16.4717131+05:30 800005f8-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1.8914ms (afa2e885)
2021-09-29T15:27:16.4717463+05:30 800005f8-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:27:16.4734718+05:30 800005f8-0001-fb00-b63f-84710c7967bb [INF] Request finished in 3.9393ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:27:16.4748198+05:30 800005f8-0001-fb00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("4"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-29T15:27:16.4779515+05:30 800005f8-0001-fb00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:27:16.5029479+05:30 80000198-0003-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("279"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:27:16.5032807+05:30 80000198-0003-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:27:16.5036464+05:30 80000198-0003-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 563.9662ms (afa2e885)
2021-09-29T15:27:16.5037061+05:30 80000198-0003-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:27:16.5038008+05:30 80000198-0003-fb00-b63f-84710c7967bb [INF] Request finished in 564.789ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:27:17.4091816+05:30 80000439-0006-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("288"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:27:17.4095328+05:30 80000439-0006-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:27:17.4098785+05:30 80000439-0006-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 1461.8171ms (afa2e885)
2021-09-29T15:27:17.4099441+05:30 80000439-0006-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:27:17.4100667+05:30 80000439-0006-fa00-b63f-84710c7967bb [INF] Request finished in 1462.2137ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:29:10.3042087+05:30 800003fc-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:29:10.3043113+05:30 800003fc-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:29:10.3045644+05:30 800003fc-0007-ff00-b63f-84710c7967bb [INF] Request finished in 0.4209ms 204  (791a596a)
2021-09-29T15:29:10.3050917+05:30 8000030f-0005-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:29:10.3051719+05:30 8000030f-0005-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:29:10.3053717+05:30 8000030f-0005-fd00-b63f-84710c7967bb [INF] Request finished in 0.2975ms 204  (791a596a)
2021-09-29T15:29:10.3055035+05:30 80000397-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:29:10.3055696+05:30 80000397-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:29:10.3056982+05:30 80000397-0002-f500-b63f-84710c7967bb [INF] Request finished in 0.2746ms 204  (791a596a)
2021-09-29T15:29:10.3077920+05:30 80000472-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:29:10.3086587+05:30 80000472-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:29:10.3091813+05:30 80000472-0004-fa00-b63f-84710c7967bb [INF] Request finished in 1.462ms 204  (791a596a)
2021-09-29T15:29:10.3204764+05:30 80000399-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:29:10.3204765+05:30 8000019a-0003-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:29:10.3205306+05:30 8000019a-0003-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:29:10.3205349+05:30 80000399-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:29:10.3206114+05:30 8000019a-0003-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:29:10.3206099+05:30 80000399-0002-f500-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:29:10.3253769+05:30 8000019a-0003-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:29:10.3261632+05:30 80000399-0002-f500-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:29:10.3283246+05:30 80000399-0002-f500-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:29:10.3358155+05:30 80000026-0003-f800-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:29:10.3358248+05:30 80000002-0003-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:29:10.3358480+05:30 80000399-0002-f500-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 9.6042ms (afa2e885)
2021-09-29T15:29:10.3358597+05:30 80000026-0003-f800-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:29:10.3358597+05:30 80000002-0003-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:29:10.3358846+05:30 80000399-0002-f500-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:29:10.3359343+05:30 80000002-0003-f700-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:29:10.3359343+05:30 80000026-0003-f800-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:29:10.3359568+05:30 80000399-0002-f500-b63f-84710c7967bb [INF] Request finished in 15.5101ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:29:10.3360811+05:30 80000002-0003-f700-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:29:10.3360853+05:30 80000026-0003-f800-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:29:10.6239643+05:30 8000019a-0003-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("287"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:29:10.8248689+05:30 8000043b-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:29:10.8249124+05:30 8000043b-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:29:10.8250107+05:30 8000043b-0006-fa00-b63f-84710c7967bb [INF] Request finished in 0.1625ms 204  (791a596a)
2021-09-29T15:29:10.8285152+05:30 8000039b-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:29:10.8285530+05:30 8000039b-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:29:10.8286044+05:30 8000039b-0002-f500-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:29:10.8286629+05:30 8000039b-0002-f500-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:29:10.8309761+05:30 8000039b-0002-f500-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:29:10.8310478+05:30 8000039b-0002-f500-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:29:10.8336158+05:30 8000039b-0002-f500-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 4.8712ms (afa2e885)
2021-09-29T15:29:10.8336665+05:30 8000039b-0002-f500-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:29:10.8339200+05:30 8000039b-0002-f500-b63f-84710c7967bb [INF] Request finished in 5.3367ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:29:10.8345338+05:30 8000039b-0002-f500-b63f-84710c7967bb [ERR] An error occurred using the connection to database '"IoT-AppDatabase"' on server '"IoT-AppDatabase.mssql.somee.com"'. (5fc3407c)
2021-09-29T15:29:10.8397655+05:30 8000039b-0002-f500-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:29:10.9149987+05:30 80000026-0003-f800-b63f-84710c7967bb [INF] Executed DbCommand ("288"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:29:10.9187593+05:30 80000026-0003-f800-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:29:10.9190841+05:30 80000026-0003-f800-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 582.8934ms (afa2e885)
2021-09-29T15:29:10.9191351+05:30 80000026-0003-f800-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:29:10.9192436+05:30 80000026-0003-f800-b63f-84710c7967bb [INF] Request finished in 583.4628ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:29:11.2028426+05:30 8000019a-0003-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("287"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:29:11.2030582+05:30 8000019a-0003-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:29:11.2063620+05:30 8000019a-0003-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 880.1326ms (afa2e885)
2021-09-29T15:29:11.2064197+05:30 8000019a-0003-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:29:11.2065374+05:30 8000019a-0003-fb00-b63f-84710c7967bb [INF] Request finished in 886.0326ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:29:11.7369873+05:30 80000002-0003-f700-b63f-84710c7967bb [INF] Executed DbCommand ("279"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:29:11.7373022+05:30 80000002-0003-f700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:29:11.7380753+05:30 80000002-0003-f700-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 1401.896ms (afa2e885)
2021-09-29T15:29:11.7382290+05:30 80000002-0003-f700-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:29:11.7384105+05:30 80000002-0003-f700-b63f-84710c7967bb [INF] Request finished in 1402.5566ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:30:07.0960074+05:30 80000474-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:30:07.0961444+05:30 80000474-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:30:07.1050758+05:30 80000474-0004-fa00-b63f-84710c7967bb [INF] Request finished in 9.0482ms 204  (791a596a)
2021-09-29T15:30:07.1055196+05:30 80000311-0005-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:30:07.1056306+05:30 80000311-0005-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:30:07.1058970+05:30 80000311-0005-fd00-b63f-84710c7967bb [INF] Request finished in 0.7725ms 204  (791a596a)
2021-09-29T15:30:07.1221451+05:30 800001a7-0005-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:30:07.1222700+05:30 800001a7-0005-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:30:07.1224473+05:30 800001a7-0005-f900-b63f-84710c7967bb [INF] Request finished in 0.3208ms 204  (791a596a)
2021-09-29T15:30:07.1324076+05:30 800003fe-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:30:07.1324678+05:30 800003fe-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:30:07.1325746+05:30 800003fe-0007-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:30:07.1327173+05:30 8000043d-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:30:07.1327731+05:30 8000043d-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:30:07.1327741+05:30 800000d6-0007-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:30:07.1332582+05:30 800000d6-0007-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:30:07.1332444+05:30 800003fe-0007-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:30:07.1333714+05:30 800000d6-0007-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:30:07.1334471+05:30 8000043d-0006-fa00-b63f-84710c7967bb [INF] Request finished in 0.8183ms 204  (791a596a)
2021-09-29T15:30:07.1334678+05:30 800000d6-0007-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:30:07.1335869+05:30 80000004-0003-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:30:07.1336320+05:30 80000004-0003-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:30:07.1337256+05:30 80000004-0003-f700-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:30:07.1339580+05:30 80000004-0003-f700-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:30:07.1444329+05:30 8000039d-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:30:07.1446769+05:30 8000039d-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:30:07.1449055+05:30 8000039d-0002-f500-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:30:07.1452243+05:30 8000039d-0002-f500-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:30:07.1468661+05:30 8000039d-0002-f500-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:30:07.1523513+05:30 8000039d-0002-f500-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 6.9573ms (afa2e885)
2021-09-29T15:30:07.1524301+05:30 8000039d-0002-f500-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:30:07.1525513+05:30 8000039d-0002-f500-b63f-84710c7967bb [INF] Request finished in 8.359ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:30:07.4176073+05:30 80000004-0003-f700-b63f-84710c7967bb [INF] Executed DbCommand ("280"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:30:07.4180091+05:30 80000004-0003-f700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:30:07.4185658+05:30 80000004-0003-f700-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 281.4179ms (afa2e885)
2021-09-29T15:30:07.4219038+05:30 80000004-0003-f700-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:30:07.4223209+05:30 80000004-0003-f700-b63f-84710c7967bb [INF] Request finished in 288.6317ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:30:07.4298477+05:30 800003fe-0007-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("290"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:30:07.7193061+05:30 800003fe-0007-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("288"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:30:07.7195871+05:30 800003fe-0007-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:30:07.7198850+05:30 800003fe-0007-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 586.5776ms (afa2e885)
2021-09-29T15:30:07.7199313+05:30 800003fe-0007-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:30:07.7199973+05:30 800003fe-0007-ff00-b63f-84710c7967bb [INF] Request finished in 587.6197ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:30:08.2176229+05:30 80000400-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:30:08.2176881+05:30 80000400-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:30:08.2178384+05:30 80000400-0007-ff00-b63f-84710c7967bb [INF] Request finished in 0.2721ms 204  (791a596a)
2021-09-29T15:30:08.2243988+05:30 80000476-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:30:08.2244541+05:30 80000476-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:30:08.2245186+05:30 80000476-0004-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:30:08.2246083+05:30 80000476-0004-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:30:08.2258654+05:30 80000476-0004-fa00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:30:08.2259863+05:30 80000476-0004-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:30:08.2262204+05:30 80000476-0004-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1.5462ms (afa2e885)
2021-09-29T15:30:08.2262548+05:30 80000476-0004-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:30:08.2268651+05:30 80000476-0004-fa00-b63f-84710c7967bb [INF] Request finished in 2.46ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:30:08.2275964+05:30 80000476-0004-fa00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("2"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-29T15:30:08.2305940+05:30 80000476-0004-fa00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:30:08.6655369+05:30 800000d6-0007-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("306"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:30:08.6658192+05:30 800000d6-0007-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:30:08.6663085+05:30 800000d6-0007-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 1532.7664ms (afa2e885)
2021-09-29T15:30:08.6663996+05:30 800000d6-0007-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:30:08.6665418+05:30 800000d6-0007-fa00-b63f-84710c7967bb [INF] Request finished in 1533.7604ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:30:49.3149995+05:30 80000478-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:30:49.3153093+05:30 80000478-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:30:49.3158764+05:30 80000478-0004-fa00-b63f-84710c7967bb [INF] Request finished in 1.0098ms 204  (791a596a)
2021-09-29T15:30:49.3163115+05:30 800005fa-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:30:49.3163745+05:30 800005fa-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:30:49.3163835+05:30 800000d8-0007-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:30:49.3164219+05:30 800000d8-0007-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:30:49.3165100+05:30 800000d8-0007-fa00-b63f-84710c7967bb [INF] Request finished in 0.1392ms 204  (791a596a)
2021-09-29T15:30:49.3165085+05:30 800005fa-0001-fb00-b63f-84710c7967bb [INF] Request finished in 0.2115ms 204  (791a596a)
2021-09-29T15:30:49.3184634+05:30 8000039f-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:30:49.3185222+05:30 8000039f-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:30:49.3186406+05:30 8000039f-0002-f500-b63f-84710c7967bb [INF] Request finished in 0.2036ms 204  (791a596a)
2021-09-29T15:30:49.3215522+05:30 8000043f-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:30:49.3215628+05:30 8000035e-0006-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:30:49.3216086+05:30 8000043f-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:30:49.3216088+05:30 8000035e-0006-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:30:49.3216309+05:30 800005fc-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:30:49.3216580+05:30 800005fc-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:30:49.3216904+05:30 800005fc-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:30:49.3216933+05:30 8000043f-0006-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:30:49.3216916+05:30 8000035e-0006-f700-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:30:49.3217553+05:30 8000035e-0006-f700-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:30:49.3217576+05:30 8000043f-0006-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:30:49.3217596+05:30 800005fc-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:30:49.3220166+05:30 80000736-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:30:49.3220502+05:30 80000736-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:30:49.3221008+05:30 80000736-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:30:49.3221636+05:30 80000736-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:30:49.3224374+05:30 80000736-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:30:49.3240497+05:30 80000736-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 1.5091ms (afa2e885)
2021-09-29T15:30:49.3242006+05:30 80000736-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:30:49.3250378+05:30 80000736-0000-fa00-b63f-84710c7967bb [INF] Request finished in 3.1507ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:30:49.6013747+05:30 8000043f-0006-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("279"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:30:49.6015771+05:30 8000043f-0006-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:30:49.6020337+05:30 8000043f-0006-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 280.2141ms (afa2e885)
2021-09-29T15:30:49.6021004+05:30 8000043f-0006-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:30:49.6022020+05:30 8000043f-0006-fa00-b63f-84710c7967bb [INF] Request finished in 280.6622ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:30:49.6271111+05:30 800005fc-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("305"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:30:49.6273792+05:30 800005fc-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:30:49.6276201+05:30 800005fc-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 305.8242ms (afa2e885)
2021-09-29T15:30:49.6276603+05:30 800005fc-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:30:49.6277396+05:30 800005fc-0001-fb00-b63f-84710c7967bb [INF] Request finished in 306.1343ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:30:50.1115129+05:30 80000738-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:30:50.1115658+05:30 80000738-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:30:50.1116951+05:30 80000738-0000-fa00-b63f-84710c7967bb [INF] Request finished in 0.2123ms 204  (791a596a)
2021-09-29T15:30:50.1144183+05:30 800003a1-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:30:50.1144656+05:30 800003a1-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:30:50.1145174+05:30 800003a1-0002-f500-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:30:50.1145861+05:30 800003a1-0002-f500-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:30:50.1156450+05:30 800003a1-0002-f500-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:30:50.1157271+05:30 800003a1-0002-f500-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:30:50.1159258+05:30 800003a1-0002-f500-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1.2656ms (afa2e885)
2021-09-29T15:30:50.1159556+05:30 800003a1-0002-f500-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:30:50.1164138+05:30 800003a1-0002-f500-b63f-84710c7967bb [INF] Request finished in 1.993ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:30:50.1215637+05:30 800003a1-0002-f500-b63f-84710c7967bb [ERR] Failed executing DbCommand ("7"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-29T15:30:50.1236009+05:30 800003a1-0002-f500-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:30:50.8330035+05:30 8000035e-0006-f700-b63f-84710c7967bb [INF] Executed DbCommand ("301"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:30:51.1370533+05:30 8000035e-0006-f700-b63f-84710c7967bb [INF] Executed DbCommand ("303"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:30:51.1373900+05:30 8000035e-0006-f700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:30:51.1396477+05:30 8000035e-0006-f700-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 1817.81ms (afa2e885)
2021-09-29T15:30:51.1397144+05:30 8000035e-0006-f700-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:30:51.1397899+05:30 8000035e-0006-f700-b63f-84710c7967bb [INF] Request finished in 1818.2613ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:31:09.6222750+05:30 8000073a-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:31:09.6226010+05:30 8000073a-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:31:09.6228306+05:30 8000073a-0000-fa00-b63f-84710c7967bb [INF] Request finished in 0.6454ms 204  (791a596a)
2021-09-29T15:31:09.6255839+05:30 800003a3-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:31:09.6256211+05:30 80000006-0003-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:31:09.6256557+05:30 800003a3-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:31:09.6256583+05:30 80000006-0003-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:31:09.6257420+05:30 800005bc-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:31:09.6257771+05:30 800005bc-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:31:09.6257766+05:30 800003a3-0002-f500-b63f-84710c7967bb [INF] Request finished in 0.3616ms 204  (791a596a)
2021-09-29T15:31:09.6257767+05:30 80000006-0003-f700-b63f-84710c7967bb [INF] Request finished in 0.1654ms 204  (791a596a)
2021-09-29T15:31:09.6258525+05:30 800005bc-0002-f900-b63f-84710c7967bb [INF] Request finished in 0.1211ms 204  (791a596a)
2021-09-29T15:31:09.6299045+05:30 8000047a-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:31:09.6300236+05:30 8000047a-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:31:09.6302110+05:30 8000047a-0004-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:31:09.6304960+05:30 8000047a-0004-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:31:09.6329292+05:30 800001a9-0005-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:31:09.6330131+05:30 800001a9-0005-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:31:09.6331686+05:30 800001a9-0005-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:31:09.6332684+05:30 800001a9-0005-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:31:09.6335558+05:30 800005fe-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:31:09.6335958+05:30 800005be-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:31:09.6336435+05:30 800005be-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:31:09.6336396+05:30 800005fe-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:31:09.6337139+05:30 800005fe-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:31:09.6337203+05:30 800005be-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:31:09.6337934+05:30 800005fe-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:31:09.6338024+05:30 800005be-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:31:09.6340569+05:30 800005fe-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:31:09.6346949+05:30 800005fe-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.8154ms (afa2e885)
2021-09-29T15:31:09.6348455+05:30 800005fe-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:31:09.6350830+05:30 800005fe-0001-fb00-b63f-84710c7967bb [INF] Request finished in 1.5319ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:31:09.9121633+05:30 800001a9-0005-f900-b63f-84710c7967bb [INF] Executed DbCommand ("278"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:31:09.9345688+05:30 8000047a-0004-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("302"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:31:09.9346917+05:30 8000047a-0004-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:31:09.9349170+05:30 8000047a-0004-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 304.3656ms (afa2e885)
2021-09-29T15:31:09.9349565+05:30 8000047a-0004-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:31:09.9350143+05:30 8000047a-0004-fa00-b63f-84710c7967bb [INF] Request finished in 305.1634ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:31:10.1464992+05:30 8000073c-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:31:10.1466221+05:30 8000073c-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:31:10.1468898+05:30 8000073c-0000-fa00-b63f-84710c7967bb [INF] Request finished in 0.4328ms 204  (791a596a)
2021-09-29T15:31:10.1507476+05:30 800000da-0007-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:31:10.1508046+05:30 800000da-0007-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:31:10.1508656+05:30 800000da-0007-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:31:10.1509465+05:30 800000da-0007-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:31:10.1523049+05:30 800000da-0007-fa00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:31:10.1525877+05:30 800000da-0007-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:31:10.1528406+05:30 800000da-0007-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1.8349ms (afa2e885)
2021-09-29T15:31:10.1528753+05:30 800000da-0007-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:31:10.1536249+05:30 800000da-0007-fa00-b63f-84710c7967bb [INF] Request finished in 2.8622ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:31:10.1553393+05:30 800000da-0007-fa00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("4"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-29T15:31:10.1589244+05:30 800000da-0007-fa00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:31:10.1907706+05:30 800001a9-0005-f900-b63f-84710c7967bb [INF] Executed DbCommand ("278"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:31:10.1910808+05:30 800001a9-0005-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:31:10.1914262+05:30 800001a9-0005-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 558.094ms (afa2e885)
2021-09-29T15:31:10.1914790+05:30 800001a9-0005-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:31:10.1915543+05:30 800001a9-0005-f900-b63f-84710c7967bb [INF] Request finished in 558.6632ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:31:11.1579776+05:30 800005be-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("303"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:31:11.1583662+05:30 800005be-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:31:11.1588426+05:30 800005be-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 1524.9583ms (afa2e885)
2021-09-29T15:31:11.1589152+05:30 800005be-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:31:11.1591340+05:30 800005be-0002-f900-b63f-84710c7967bb [INF] Request finished in 1525.5391ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:31:28.0364395+05:30 800000dc-0007-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-29T15:31:28.0366583+05:30 800000dc-0007-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:31:28.0368179+05:30 800000dc-0007-fa00-b63f-84710c7967bb [INF] Request finished in 0.404ms 204  (791a596a)
2021-09-29T15:31:28.0410530+05:30 8000073e-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-29T15:31:28.0410940+05:30 8000073e-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:31:28.0411570+05:30 8000073e-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:31:28.0412159+05:30 8000073e-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllDeviceCapability(System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:31:28.3435384+05:30 8000073e-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("302"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:31:28.6474824+05:30 8000073e-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("303"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
ORDER BY [d].[CapabilityType]" (0723d8ff)
2021-09-29T15:31:28.6478626+05:30 8000073e-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[IoT.DataLayer.Models.DeviceCapability, IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:31:28.6482736+05:30 8000073e-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)" in 606.987ms (afa2e885)
2021-09-29T15:31:28.6483513+05:30 8000073e-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:31:28.6484854+05:30 8000073e-0000-fa00-b63f-84710c7967bb [INF] Request finished in 607.447ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:32:10.5608538+05:30 8000047c-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:32:10.5609308+05:30 8000047c-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:32:10.5610811+05:30 8000047c-0004-fa00-b63f-84710c7967bb [INF] Request finished in 0.3348ms 204  (791a596a)
2021-09-29T15:32:10.5614955+05:30 80000008-0003-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:32:10.5616068+05:30 800000de-0007-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:32:10.5616567+05:30 80000008-0003-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:32:10.5616568+05:30 800000de-0007-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:32:10.5616774+05:30 80000402-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:32:10.5617052+05:30 80000402-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:32:10.5617825+05:30 80000008-0003-f700-b63f-84710c7967bb [INF] Request finished in 0.3026ms 204  (791a596a)
2021-09-29T15:32:10.5617893+05:30 800000de-0007-fa00-b63f-84710c7967bb [INF] Request finished in 0.3029ms 204  (791a596a)
2021-09-29T15:32:10.5617947+05:30 80000402-0007-ff00-b63f-84710c7967bb [INF] Request finished in 0.1292ms 204  (791a596a)
2021-09-29T15:32:10.5744930+05:30 800005c0-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:32:10.5744931+05:30 800003a5-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:32:10.5744932+05:30 80000404-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:32:10.5745481+05:30 800003a5-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:32:10.5745479+05:30 80000404-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:32:10.5745528+05:30 800005c0-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:32:10.5748403+05:30 800003a5-0002-f500-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:32:10.5756748+05:30 800005c0-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:32:10.5756850+05:30 80000404-0007-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:32:10.5757420+05:30 80000740-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:32:10.5757579+05:30 80000404-0007-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:32:10.5757469+05:30 800003a5-0002-f500-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:32:10.5757763+05:30 800005c0-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:32:10.5757918+05:30 80000740-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:32:10.5795366+05:30 80000740-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:32:10.5796401+05:30 80000740-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:32:10.5861821+05:30 80000740-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:32:10.5866250+05:30 80000740-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 6.815ms (afa2e885)
2021-09-29T15:32:10.5867337+05:30 80000740-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:32:10.5868558+05:30 80000740-0000-fa00-b63f-84710c7967bb [INF] Request finished in 11.136ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:32:10.8761056+05:30 80000404-0007-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("300"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:32:10.8762437+05:30 80000404-0007-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:32:10.8792746+05:30 80000404-0007-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 303.4349ms (afa2e885)
2021-09-29T15:32:10.8793458+05:30 80000404-0007-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:32:10.8795028+05:30 80000404-0007-ff00-b63f-84710c7967bb [INF] Request finished in 304.9721ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:32:11.0656856+05:30 8000047e-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:32:11.0657304+05:30 8000047e-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:32:11.0658179+05:30 8000047e-0004-fa00-b63f-84710c7967bb [INF] Request finished in 0.1629ms 204  (791a596a)
2021-09-29T15:32:11.0688183+05:30 80000480-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:32:11.0688626+05:30 80000480-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:32:11.0689079+05:30 80000480-0004-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:32:11.0689732+05:30 80000480-0004-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:32:11.0709742+05:30 80000480-0004-fa00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:32:11.0710515+05:30 80000480-0004-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:32:11.0742173+05:30 80000480-0004-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 5.175ms (afa2e885)
2021-09-29T15:32:11.0742665+05:30 80000480-0004-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:32:11.0744603+05:30 80000480-0004-fa00-b63f-84710c7967bb [INF] Request finished in 5.6096ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:32:11.0748033+05:30 80000480-0004-fa00-b63f-84710c7967bb [ERR] An error occurred using the connection to database '"IoT-AppDatabase"' on server '"IoT-AppDatabase.mssql.somee.com"'. (5fc3407c)
2021-09-29T15:32:11.0769769+05:30 80000480-0004-fa00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:32:11.1780869+05:30 800003a5-0002-f500-b63f-84710c7967bb [INF] Executed DbCommand ("301"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:32:11.1790004+05:30 800003a5-0002-f500-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:32:11.1819731+05:30 800003a5-0002-f500-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 606.1435ms (afa2e885)
2021-09-29T15:32:11.1820539+05:30 800003a5-0002-f500-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:32:11.1822549+05:30 800003a5-0002-f500-b63f-84710c7967bb [INF] Request finished in 607.7999ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:32:11.9751323+05:30 800005c0-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("278"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:32:12.2545492+05:30 800005c0-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("279"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:32:12.2552025+05:30 800005c0-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:32:12.2566986+05:30 800005c0-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 1680.7788ms (afa2e885)
2021-09-29T15:32:12.2568134+05:30 800005c0-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:32:12.2570009+05:30 800005c0-0002-f900-b63f-84710c7967bb [INF] Request finished in 1682.4641ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:32:48.4905996+05:30 80000406-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:32:48.4905164+05:30 80000482-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:32:48.4907557+05:30 80000406-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:32:48.4908002+05:30 80000482-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:32:48.4909119+05:30 80000482-0004-fa00-b63f-84710c7967bb [INF] Request finished in 0.4783ms 204  (791a596a)
2021-09-29T15:32:48.4909275+05:30 80000406-0007-ff00-b63f-84710c7967bb [INF] Request finished in 0.3389ms 204  (791a596a)
2021-09-29T15:32:48.4916593+05:30 80000360-0006-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:32:48.4917113+05:30 80000360-0006-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:32:48.4918842+05:30 80000360-0006-f700-b63f-84710c7967bb [INF] Request finished in 0.3084ms 204  (791a596a)
2021-09-29T15:32:48.4924739+05:30 80000362-0006-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:32:48.4926821+05:30 80000362-0006-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:32:48.4929330+05:30 80000362-0006-f700-b63f-84710c7967bb [INF] Request finished in 0.3934ms 204  (791a596a)
2021-09-29T15:32:48.4962047+05:30 80000484-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:32:48.4962142+05:30 8000000a-0003-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:32:48.4962722+05:30 80000484-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:32:48.4962684+05:30 8000000a-0003-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:32:48.4962933+05:30 800005c2-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:32:48.4963233+05:30 800005c2-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:32:48.4963554+05:30 80000484-0004-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:32:48.4963683+05:30 800005c2-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:32:48.4963708+05:30 8000000a-0003-f700-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:32:48.4964416+05:30 800005c2-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:32:48.4964448+05:30 80000484-0004-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:32:48.4964545+05:30 8000000a-0003-f700-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:32:48.4967722+05:30 800003a7-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:32:48.4968158+05:30 800003a7-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:32:48.4968801+05:30 800003a7-0002-f500-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:32:48.4969902+05:30 800003a7-0002-f500-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:32:48.4983940+05:30 800003a7-0002-f500-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:32:48.5086914+05:30 800003a7-0002-f500-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 11.5553ms (afa2e885)
2021-09-29T15:32:48.5090476+05:30 800003a7-0002-f500-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:32:48.5097764+05:30 800003a7-0002-f500-b63f-84710c7967bb [INF] Request finished in 13.1647ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:32:48.7750401+05:30 8000000a-0003-f700-b63f-84710c7967bb [INF] Executed DbCommand ("278"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:32:48.7753880+05:30 8000000a-0003-f700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:32:48.7851839+05:30 8000000a-0003-f700-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 288.5939ms (afa2e885)
2021-09-29T15:32:48.7853686+05:30 8000000a-0003-f700-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:32:48.7858362+05:30 8000000a-0003-f700-b63f-84710c7967bb [INF] Request finished in 289.3447ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:32:49.0019577+05:30 80000413-0004-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:32:49.0021206+05:30 80000413-0004-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:32:49.0023726+05:30 80000413-0004-f700-b63f-84710c7967bb [INF] Request finished in 0.4706ms 204  (791a596a)
2021-09-29T15:32:49.0100478+05:30 800003a9-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:32:49.0101611+05:30 800003a9-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:32:49.0103027+05:30 800003a9-0002-f500-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:32:49.0104764+05:30 800003a9-0002-f500-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:32:49.0181294+05:30 800003a9-0002-f500-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:32:49.0184504+05:30 800003a9-0002-f500-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:32:49.0359918+05:30 800003a9-0002-f500-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 25.388ms (afa2e885)
2021-09-29T15:32:49.0360578+05:30 800003a9-0002-f500-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:32:49.0364694+05:30 800003a9-0002-f500-b63f-84710c7967bb [INF] Request finished in 26.3631ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:32:49.0372852+05:30 800003a9-0002-f500-b63f-84710c7967bb [ERR] An error occurred using the connection to database '"IoT-AppDatabase"' on server '"IoT-AppDatabase.mssql.somee.com"'. (5fc3407c)
2021-09-29T15:32:49.0453667+05:30 800003a9-0002-f500-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:32:49.0618356+05:30 800005c2-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("284"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:32:49.0707542+05:30 800005c2-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:32:49.0737909+05:30 800005c2-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 577.2454ms (afa2e885)
2021-09-29T15:32:49.0739321+05:30 800005c2-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:32:49.0741490+05:30 800005c2-0002-f900-b63f-84710c7967bb [INF] Request finished in 577.7595ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:32:50.0116344+05:30 80000484-0004-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("302"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:32:50.3140292+05:30 80000484-0004-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("301"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:32:50.3147582+05:30 80000484-0004-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:32:50.3157066+05:30 80000484-0004-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 1819.1166ms (afa2e885)
2021-09-29T15:32:50.3158410+05:30 80000484-0004-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:32:50.3160425+05:30 80000484-0004-fa00-b63f-84710c7967bb [INF] Request finished in 1819.8385ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:33:10.1488261+05:30 80000486-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:33:10.1491448+05:30 80000486-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:33:10.1492893+05:30 80000415-0004-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:33:10.1492893+05:30 80000486-0004-fa00-b63f-84710c7967bb [INF] Request finished in 0.5401ms 204  (791a596a)
2021-09-29T15:33:10.1492916+05:30 800001ab-0005-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:33:10.1493345+05:30 80000415-0004-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:33:10.1493365+05:30 800001ab-0005-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:33:10.1494134+05:30 80000415-0004-f700-b63f-84710c7967bb [INF] Request finished in 0.1406ms 204  (791a596a)
2021-09-29T15:33:10.1494673+05:30 800001ab-0005-f900-b63f-84710c7967bb [INF] Request finished in 0.1962ms 204  (791a596a)
2021-09-29T15:33:10.1503931+05:30 80000364-0006-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:33:10.1504593+05:30 80000364-0006-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:33:10.1507779+05:30 80000364-0006-f700-b63f-84710c7967bb [INF] Request finished in 0.4667ms 204  (791a596a)
2021-09-29T15:33:10.1541282+05:30 8000073a-0004-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:33:10.1541419+05:30 80000417-0004-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:33:10.1541362+05:30 80000488-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:33:10.1541848+05:30 8000073a-0004-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:33:10.1541854+05:30 80000488-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:33:10.1541892+05:30 80000417-0004-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:33:10.1542164+05:30 80000366-0006-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:33:10.1542536+05:30 80000488-0004-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:33:10.1542586+05:30 8000073a-0004-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:33:10.1542529+05:30 80000417-0004-f700-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:33:10.1542729+05:30 80000366-0006-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:33:10.1543169+05:30 80000366-0006-f700-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:33:10.1543190+05:30 8000073a-0004-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:33:10.1543208+05:30 80000417-0004-f700-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:33:10.1543185+05:30 80000488-0004-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:33:10.1543670+05:30 80000366-0006-f700-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:33:10.1545621+05:30 80000366-0006-f700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:33:10.1548369+05:30 80000366-0006-f700-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.4219ms (afa2e885)
2021-09-29T15:33:10.1548805+05:30 80000366-0006-f700-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:33:10.1549384+05:30 80000366-0006-f700-b63f-84710c7967bb [INF] Request finished in 0.7353ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:33:10.4356100+05:30 8000073a-0004-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("281"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:33:10.4358379+05:30 8000073a-0004-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:33:10.4391052+05:30 8000073a-0004-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 284.7329ms (afa2e885)
2021-09-29T15:33:10.4392518+05:30 8000073a-0004-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:33:10.4399758+05:30 8000073a-0004-fb00-b63f-84710c7967bb [INF] Request finished in 285.8541ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:33:10.4571445+05:30 80000417-0004-f700-b63f-84710c7967bb [INF] Executed DbCommand ("302"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:33:10.4573419+05:30 80000417-0004-f700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:33:10.4576363+05:30 80000417-0004-f700-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 303.2559ms (afa2e885)
2021-09-29T15:33:10.4576852+05:30 80000417-0004-f700-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:33:10.4577642+05:30 80000417-0004-f700-b63f-84710c7967bb [INF] Request finished in 303.655ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:33:10.9567361+05:30 80000419-0004-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:33:10.9567809+05:30 80000419-0004-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:33:10.9568966+05:30 80000419-0004-f700-b63f-84710c7967bb [INF] Request finished in 0.1673ms 204  (791a596a)
2021-09-29T15:33:10.9599477+05:30 800005c4-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:33:10.9599986+05:30 800005c4-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:33:10.9600471+05:30 800005c4-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:33:10.9601108+05:30 800005c4-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:33:10.9613540+05:30 800005c4-0002-f900-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:33:10.9614345+05:30 800005c4-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:33:10.9617680+05:30 800005c4-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1.6021ms (afa2e885)
2021-09-29T15:33:10.9618178+05:30 800005c4-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:33:10.9628372+05:30 800005c4-0002-f900-b63f-84710c7967bb [INF] Request finished in 2.8723ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:33:10.9643026+05:30 800005c4-0002-f900-b63f-84710c7967bb [ERR] Failed executing DbCommand ("4"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-29T15:33:10.9664299+05:30 800005c4-0002-f900-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:33:11.6698698+05:30 80000488-0004-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("303"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:33:11.9716035+05:30 80000488-0004-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("301"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:33:11.9720142+05:30 80000488-0004-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:33:11.9732443+05:30 80000488-0004-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 1818.8135ms (afa2e885)
2021-09-29T15:33:11.9733525+05:30 80000488-0004-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:33:11.9735320+05:30 80000488-0004-fa00-b63f-84710c7967bb [INF] Request finished in 1819.4045ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:33:36.8047534+05:30 800005c6-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:33:36.8048620+05:30 800005c6-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:33:36.8050806+05:30 800005c6-0002-f900-b63f-84710c7967bb [INF] Request finished in 0.3507ms 204  (791a596a)
2021-09-29T15:33:36.8067958+05:30 800001ad-0005-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:33:36.8067904+05:30 8000048a-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:33:36.8068664+05:30 8000048a-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:33:36.8068859+05:30 800001ad-0005-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:33:36.8070141+05:30 8000048a-0004-fa00-b63f-84710c7967bb [INF] Request finished in 0.2675ms 204  (791a596a)
2021-09-29T15:33:36.8071220+05:30 800001ad-0005-f900-b63f-84710c7967bb [INF] Request finished in 0.244ms 204  (791a596a)
2021-09-29T15:33:36.8078007+05:30 800001af-0005-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:33:36.8078788+05:30 800001af-0005-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:33:36.8080477+05:30 800001af-0005-f900-b63f-84710c7967bb [INF] Request finished in 0.2414ms 204  (791a596a)
2021-09-29T15:33:36.8111386+05:30 80000600-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:33:36.8112264+05:30 80000600-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:33:36.8114240+05:30 80000600-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:33:36.8115215+05:30 80000600-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:33:36.8131783+05:30 800005c8-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:33:36.8133016+05:30 800005c8-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:33:36.8134532+05:30 800005c8-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:33:36.8132092+05:30 8000048c-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:33:36.8135672+05:30 8000048c-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:33:36.8135709+05:30 800005c8-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:33:36.8136325+05:30 8000048c-0004-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:33:36.8138616+05:30 8000048c-0004-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:33:36.8141853+05:30 8000048c-0004-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:33:36.8142042+05:30 8000000c-0003-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:33:36.8142517+05:30 8000000c-0003-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:33:36.8146876+05:30 8000000c-0003-f700-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:33:36.8147042+05:30 8000048c-0004-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.7924ms (afa2e885)
2021-09-29T15:33:36.8148056+05:30 8000000c-0003-f700-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:33:36.8147778+05:30 8000048c-0004-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:33:36.8149171+05:30 8000048c-0004-fa00-b63f-84710c7967bb [INF] Request finished in 1.7805ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:33:37.0978794+05:30 800005c8-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("281"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:33:37.1143083+05:30 80000600-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("302"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:33:37.1144307+05:30 80000600-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:33:37.1146706+05:30 80000600-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 303.1043ms (afa2e885)
2021-09-29T15:33:37.1147074+05:30 80000600-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:33:37.1147649+05:30 80000600-0001-fb00-b63f-84710c7967bb [INF] Request finished in 303.6992ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:33:37.3281372+05:30 8000048e-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:33:37.3281797+05:30 8000048e-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:33:37.3282711+05:30 8000048e-0004-fa00-b63f-84710c7967bb [INF] Request finished in 0.1781ms 204  (791a596a)
2021-09-29T15:33:37.3308495+05:30 80000490-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:33:37.3308984+05:30 80000490-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:33:37.3309540+05:30 80000490-0004-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:33:37.3310117+05:30 80000490-0004-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:33:37.3321419+05:30 80000490-0004-fa00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:33:37.3322133+05:30 80000490-0004-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:33:37.3324197+05:30 80000490-0004-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1.3562ms (afa2e885)
2021-09-29T15:33:37.3324504+05:30 80000490-0004-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:33:37.3330007+05:30 80000490-0004-fa00-b63f-84710c7967bb [INF] Request finished in 2.1393ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:33:37.3338265+05:30 80000490-0004-fa00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("2"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-29T15:33:37.3360310+05:30 80000490-0004-fa00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:33:37.3822486+05:30 800005c8-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("284"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:33:37.3824835+05:30 800005c8-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:33:37.3828216+05:30 800005c8-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 569.1879ms (afa2e885)
2021-09-29T15:33:37.3828712+05:30 800005c8-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:33:37.3830057+05:30 800005c8-0002-f900-b63f-84710c7967bb [INF] Request finished in 569.8724ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:33:38.3440583+05:30 8000000c-0003-f700-b63f-84710c7967bb [INF] Executed DbCommand ("303"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:33:38.3443536+05:30 8000000c-0003-f700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:33:38.3447114+05:30 8000000c-0003-f700-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 1529.863ms (afa2e885)
2021-09-29T15:33:38.3447793+05:30 8000000c-0003-f700-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:33:38.3449012+05:30 8000000c-0003-f700-b63f-84710c7967bb [INF] Request finished in 1530.7404ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:33:45.0704544+05:30 800005ca-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/updateDeviceCapability   (ca22a1cb)
2021-09-29T15:33:45.0705229+05:30 800005ca-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:33:45.0707037+05:30 800005ca-0002-f900-b63f-84710c7967bb [INF] Request finished in 0.2731ms 204  (791a596a)
2021-09-29T15:33:45.0757664+05:30 80000492-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/admin/updateDeviceCapability application/json;charset=UTF-8 508 (ca22a1cb)
2021-09-29T15:33:45.0758853+05:30 80000492-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:33:45.0761933+05:30 80000492-0004-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.UpdateDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:33:45.0763684+05:30 80000492-0004-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"UpdateDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult UpdateDeviceCapability(IoT.DataLayer.Models.DeviceCapability, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:33:45.3795416+05:30 80000492-0004-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("302"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:33:45.9873639+05:30 80000492-0004-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("305"ms) [Parameters=["@p10='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [DeviceCapability] SET [CapabilityInterface] = @p0, [CapabilityType] = @p1, [CreatedDate] = @p2, [DeviceTypeId] = @p3, [DisplayCategory] = @p4, [Modifieddate] = @p5, [ProactivelyReported] = @p6, [Retrievable] = @p7, [SupportedProperty] = @p8, [Version] = @p9
WHERE [DeviceCapabilityId] = @p10;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-09-29T15:33:46.2914332+05:30 80000492-0004-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Int32"'. (8a1b66c8)
2021-09-29T15:33:46.2923063+05:30 80000492-0004-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.UpdateDeviceCapability (IoT.WebAPI)" in 1215.8143ms (afa2e885)
2021-09-29T15:33:46.2924863+05:30 80000492-0004-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.UpdateDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:33:46.2926714+05:30 80000492-0004-fa00-b63f-84710c7967bb [INF] Request finished in 1216.9192ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:33:46.3676290+05:30 80000742-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-29T15:33:46.3677656+05:30 80000742-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:33:46.3679183+05:30 80000742-0000-fa00-b63f-84710c7967bb [INF] Request finished in 0.3294ms 204  (791a596a)
2021-09-29T15:33:46.3718260+05:30 8000000e-0003-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-29T15:33:46.3718823+05:30 8000000e-0003-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:33:46.3719613+05:30 8000000e-0003-f700-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:33:46.3720355+05:30 8000000e-0003-f700-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllDeviceCapability(System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:33:46.6752915+05:30 8000000e-0003-f700-b63f-84710c7967bb [INF] Executed DbCommand ("303"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:33:46.9783628+05:30 8000000e-0003-f700-b63f-84710c7967bb [INF] Executed DbCommand ("302"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
ORDER BY [d].[CapabilityType]" (0723d8ff)
2021-09-29T15:33:46.9803565+05:30 8000000e-0003-f700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[IoT.DataLayer.Models.DeviceCapability, IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:33:46.9814282+05:30 8000000e-0003-f700-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)" in 609.2282ms (afa2e885)
2021-09-29T15:33:46.9815925+05:30 8000000e-0003-f700-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:33:46.9818461+05:30 8000000e-0003-f700-b63f-84710c7967bb [INF] Request finished in 609.9507ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:34:03.3503891+05:30 80000602-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:34:03.3503891+05:30 800005cc-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:34:03.3505185+05:30 800005cc-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:34:03.3505357+05:30 80000602-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:34:03.3506806+05:30 80000602-0001-fb00-b63f-84710c7967bb [INF] Request finished in 0.3133ms 204  (791a596a)
2021-09-29T15:34:03.3506813+05:30 800005cc-0002-f900-b63f-84710c7967bb [INF] Request finished in 0.3198ms 204  (791a596a)
2021-09-29T15:34:03.3523646+05:30 80000368-0006-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:34:03.3524533+05:30 80000368-0006-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:34:03.3526741+05:30 80000368-0006-f700-b63f-84710c7967bb [INF] Request finished in 0.3452ms 204  (791a596a)
2021-09-29T15:34:03.3537621+05:30 80000441-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:34:03.3538606+05:30 80000441-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:34:03.3540127+05:30 80000441-0006-fa00-b63f-84710c7967bb [INF] Request finished in 0.2931ms 204  (791a596a)
2021-09-29T15:34:03.3571870+05:30 80000604-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:34:03.3571870+05:30 800001b1-0005-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:34:03.3572437+05:30 80000604-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:34:03.3572458+05:30 800001b1-0005-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:34:03.3573241+05:30 80000010-0003-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:34:03.3573591+05:30 80000010-0003-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:34:03.3573871+05:30 80000604-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:34:03.3574059+05:30 80000010-0003-f700-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:34:03.3573914+05:30 800001b1-0005-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:34:03.3574068+05:30 80000443-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:34:03.3574445+05:30 80000443-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:34:03.3574706+05:30 80000010-0003-f700-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:34:03.3574758+05:30 80000443-0006-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:34:03.3574714+05:30 80000604-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:34:03.3575207+05:30 80000443-0006-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:34:03.3575437+05:30 800001b1-0005-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:34:03.3577105+05:30 80000443-0006-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:34:03.3581328+05:30 80000443-0006-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.5443ms (afa2e885)
2021-09-29T15:34:03.3633374+05:30 80000443-0006-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:34:03.3640313+05:30 80000443-0006-fa00-b63f-84710c7967bb [INF] Request finished in 6.1048ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:34:03.6371841+05:30 80000010-0003-f700-b63f-84710c7967bb [INF] Executed DbCommand ("279"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:34:03.6378995+05:30 80000010-0003-f700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:34:03.6394106+05:30 80000010-0003-f700-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 281.7559ms (afa2e885)
2021-09-29T15:34:03.6396239+05:30 80000010-0003-f700-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:34:03.6399782+05:30 80000010-0003-f700-b63f-84710c7967bb [INF] Request finished in 282.5962ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:34:03.6652183+05:30 80000604-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("307"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:34:03.6653557+05:30 80000604-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:34:03.6657004+05:30 80000604-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 308.1785ms (afa2e885)
2021-09-29T15:34:03.6657416+05:30 80000604-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:34:03.6658153+05:30 80000604-0001-fb00-b63f-84710c7967bb [INF] Request finished in 308.6555ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:34:04.1146969+05:30 80000445-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:34:04.1147364+05:30 80000445-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:34:04.1148282+05:30 80000445-0006-fa00-b63f-84710c7967bb [INF] Request finished in 0.1611ms 204  (791a596a)
2021-09-29T15:34:04.1169649+05:30 80000447-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:34:04.1170083+05:30 80000447-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:34:04.1170643+05:30 80000447-0006-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:34:04.1171347+05:30 80000447-0006-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:34:04.1182571+05:30 80000447-0006-fa00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:34:04.1183122+05:30 80000447-0006-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:34:04.1185053+05:30 80000447-0006-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1.3318ms (afa2e885)
2021-09-29T15:34:04.1185308+05:30 80000447-0006-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:34:04.1192412+05:30 80000447-0006-fa00-b63f-84710c7967bb [INF] Request finished in 2.1891ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:34:04.1206635+05:30 80000447-0006-fa00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("3"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-29T15:34:04.1225396+05:30 80000447-0006-fa00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:34:04.7993175+05:30 800001b1-0005-f900-b63f-84710c7967bb [INF] Executed DbCommand ("286"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:34:05.0868030+05:30 800001b1-0005-f900-b63f-84710c7967bb [INF] Executed DbCommand ("286"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:34:05.0873112+05:30 800001b1-0005-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:34:05.0883370+05:30 800001b1-0005-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 1730.6372ms (afa2e885)
2021-09-29T15:34:05.0884966+05:30 800001b1-0005-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:34:05.0886784+05:30 800001b1-0005-f900-b63f-84710c7967bb [INF] Request finished in 1731.4881ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:34:39.7384281+05:30 80000494-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:34:39.7384755+05:30 800001b3-0005-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:34:39.7385074+05:30 800001b3-0005-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:34:39.7385223+05:30 80000494-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:34:39.7386337+05:30 800001b3-0005-f900-b63f-84710c7967bb [INF] Request finished in 0.179ms 204  (791a596a)
2021-09-29T15:34:39.7386544+05:30 80000494-0004-fa00-b63f-84710c7967bb [INF] Request finished in 0.2699ms 204  (791a596a)
2021-09-29T15:34:39.7393229+05:30 80000408-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:34:39.7397751+05:30 80000408-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:34:39.7399781+05:30 80000408-0007-ff00-b63f-84710c7967bb [INF] Request finished in 0.6916ms 204  (791a596a)
2021-09-29T15:34:39.7408051+05:30 80000449-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:34:39.7408594+05:30 80000449-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:34:39.7409822+05:30 80000449-0006-fa00-b63f-84710c7967bb [INF] Request finished in 0.1963ms 204  (791a596a)
2021-09-29T15:34:39.7441025+05:30 800003ab-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:34:39.7441217+05:30 800005ce-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=2   (ca22a1cb)
2021-09-29T15:34:39.7441761+05:30 800005ce-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:34:39.7441536+05:30 800003ab-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:34:39.7443143+05:30 800005ce-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:34:39.7443204+05:30 800003ab-0002-f500-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:34:39.7444029+05:30 800003ab-0002-f500-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:34:39.7444042+05:30 800005ce-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:34:39.7454912+05:30 80000606-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:34:39.7455335+05:30 80000684-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:34:39.7455481+05:30 80000606-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:34:39.7455740+05:30 80000684-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:34:39.7456225+05:30 80000606-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:34:39.7456464+05:30 80000684-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:34:39.7457309+05:30 80000606-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:34:39.7457327+05:30 80000684-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:34:39.7459259+05:30 80000606-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:34:39.7461454+05:30 80000606-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.3738ms (afa2e885)
2021-09-29T15:34:39.7461758+05:30 80000606-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:34:39.7462351+05:30 80000606-0001-fb00-b63f-84710c7967bb [INF] Request finished in 0.8425ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:34:40.0252329+05:30 800005ce-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("280"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:34:40.0316505+05:30 800003ab-0002-f500-b63f-84710c7967bb [INF] Executed DbCommand ("287"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:34:40.0317623+05:30 800003ab-0002-f500-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:34:40.0319919+05:30 800003ab-0002-f500-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 287.5499ms (afa2e885)
2021-09-29T15:34:40.0320229+05:30 800003ab-0002-f500-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:34:40.0321371+05:30 800003ab-0002-f500-b63f-84710c7967bb [INF] Request finished in 288.055ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:34:40.2420173+05:30 8000044b-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:34:40.2421360+05:30 8000044b-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:34:40.2424255+05:30 8000044b-0006-fa00-b63f-84710c7967bb [INF] Request finished in 0.4793ms 204  (791a596a)
2021-09-29T15:34:40.2518299+05:30 80000012-0003-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:34:40.2519524+05:30 80000012-0003-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:34:40.2520834+05:30 80000012-0003-f700-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:34:40.2522444+05:30 80000012-0003-f700-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:34:40.2551733+05:30 80000012-0003-f700-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:34:40.2552876+05:30 80000012-0003-f700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:34:40.2570536+05:30 80000012-0003-f700-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 3.5095ms (afa2e885)
2021-09-29T15:34:40.2571366+05:30 80000012-0003-f700-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:34:40.2622265+05:30 80000012-0003-f700-b63f-84710c7967bb [INF] Request finished in 10.4579ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:34:40.2633281+05:30 80000012-0003-f700-b63f-84710c7967bb [ERR] Failed executing DbCommand ("10"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-29T15:34:40.2654437+05:30 80000012-0003-f700-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:34:40.3042313+05:30 800005ce-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("279"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:34:40.3044956+05:30 800005ce-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:34:40.3047847+05:30 800005ce-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 560.3294ms (afa2e885)
2021-09-29T15:34:40.3048217+05:30 800005ce-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:34:40.3049162+05:30 800005ce-0002-f900-b63f-84710c7967bb [INF] Request finished in 560.8802ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:34:41.2293801+05:30 80000684-0001-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("295"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:34:41.2301574+05:30 80000684-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:34:41.2310051+05:30 80000684-0001-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 1485.1674ms (afa2e885)
2021-09-29T15:34:41.2311607+05:30 80000684-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:34:41.2314431+05:30 80000684-0001-ff00-b63f-84710c7967bb [INF] Request finished in 1486.0036ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:34:50.3126924+05:30 80000686-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/updateDeviceCapability   (ca22a1cb)
2021-09-29T15:34:50.3127765+05:30 80000686-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:34:50.3130153+05:30 80000686-0001-ff00-b63f-84710c7967bb [INF] Request finished in 0.5008ms 204  (791a596a)
2021-09-29T15:34:50.3172562+05:30 800005d0-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/admin/updateDeviceCapability application/json;charset=UTF-8 506 (ca22a1cb)
2021-09-29T15:34:50.3173400+05:30 800005d0-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:34:50.3173998+05:30 800005d0-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.UpdateDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:34:50.3174623+05:30 800005d0-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"UpdateDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult UpdateDeviceCapability(IoT.DataLayer.Models.DeviceCapability, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:34:50.6136003+05:30 800005d0-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("295"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:34:51.2089396+05:30 800005d0-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("296"ms) [Parameters=["@p10='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [DeviceCapability] SET [CapabilityInterface] = @p0, [CapabilityType] = @p1, [CreatedDate] = @p2, [DeviceTypeId] = @p3, [DisplayCategory] = @p4, [Modifieddate] = @p5, [ProactivelyReported] = @p6, [Retrievable] = @p7, [SupportedProperty] = @p8, [Version] = @p9
WHERE [DeviceCapabilityId] = @p10;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-09-29T15:34:51.5066644+05:30 800005d0-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Int32"'. (8a1b66c8)
2021-09-29T15:34:51.5074659+05:30 800005d0-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.UpdateDeviceCapability (IoT.WebAPI)" in 1189.8939ms (afa2e885)
2021-09-29T15:34:51.5076021+05:30 800005d0-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.UpdateDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:34:51.5077865+05:30 800005d0-0002-f900-b63f-84710c7967bb [INF] Request finished in 1190.5178ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:34:51.5720415+05:30 80000496-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-29T15:34:51.5722156+05:30 80000496-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:34:51.5723966+05:30 80000496-0004-fa00-b63f-84710c7967bb [INF] Request finished in 0.4561ms 204  (791a596a)
2021-09-29T15:34:51.5780656+05:30 8000044d-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-29T15:34:51.5781054+05:30 8000044d-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:34:51.5781620+05:30 8000044d-0006-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:34:51.5782210+05:30 8000044d-0006-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllDeviceCapability(System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:34:51.8725205+05:30 8000044d-0006-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("294"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:34:52.1705767+05:30 8000044d-0006-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("297"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
ORDER BY [d].[CapabilityType]" (0723d8ff)
2021-09-29T15:34:52.1714127+05:30 8000044d-0006-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[IoT.DataLayer.Models.DeviceCapability, IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:34:52.1723494+05:30 8000044d-0006-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)" in 594.0018ms (afa2e885)
2021-09-29T15:34:52.1725053+05:30 8000044d-0006-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:34:52.1727214+05:30 8000044d-0006-fa00-b63f-84710c7967bb [INF] Request finished in 594.6047ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:35:20.7687138+05:30 80000498-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:35:20.7688685+05:30 80000744-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=1   (ca22a1cb)
2021-09-29T15:35:20.7688983+05:30 80000744-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:35:20.7688838+05:30 80000498-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:35:20.7690578+05:30 80000744-0000-fa00-b63f-84710c7967bb [INF] Request finished in 0.2837ms 204  (791a596a)
2021-09-29T15:35:20.7690647+05:30 80000498-0004-fa00-b63f-84710c7967bb [INF] Request finished in 0.4759ms 204  (791a596a)
2021-09-29T15:35:20.7697874+05:30 800005d2-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:35:20.7698773+05:30 800005d2-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:35:20.7701177+05:30 800005d2-0002-f900-b63f-84710c7967bb [INF] Request finished in 0.3825ms 204  (791a596a)
2021-09-29T15:35:20.7706644+05:30 800005d4-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:35:20.7707439+05:30 800005d4-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:35:20.7709991+05:30 800005d4-0002-f900-b63f-84710c7967bb [INF] Request finished in 0.3324ms 204  (791a596a)
2021-09-29T15:35:20.7749534+05:30 80000014-0003-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:35:20.7750206+05:30 80000014-0003-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:35:20.7750932+05:30 80000014-0003-f700-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:35:20.7751824+05:30 80000014-0003-f700-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:35:20.7754409+05:30 80000014-0003-f700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:35:20.7757388+05:30 80000014-0003-f700-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.5056ms (afa2e885)
2021-09-29T15:35:20.7757738+05:30 80000014-0003-f700-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:35:20.7758773+05:30 80000014-0003-f700-b63f-84710c7967bb [INF] Request finished in 0.9369ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:35:20.7765808+05:30 8000049a-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:35:20.7766513+05:30 8000049a-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:35:20.7768500+05:30 8000049a-0004-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:35:20.7768822+05:30 8000041b-0004-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=1   (ca22a1cb)
2021-09-29T15:35:20.7768822+05:30 8000044f-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:35:20.7769172+05:30 8000041b-0004-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:35:20.7769172+05:30 8000044f-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:35:20.7769569+05:30 8000049a-0004-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:35:20.7769782+05:30 8000041b-0004-f700-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:35:20.7770270+05:30 8000041b-0004-f700-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:35:20.7769910+05:30 8000044f-0006-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:35:20.7771249+05:30 8000044f-0006-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:35:21.0564006+05:30 8000041b-0004-f700-b63f-84710c7967bb [INF] Executed DbCommand ("279"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:35:21.0722535+05:30 8000049a-0004-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("295"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:35:21.0723698+05:30 8000049a-0004-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:35:21.0725816+05:30 8000049a-0004-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 295.5833ms (afa2e885)
2021-09-29T15:35:21.0726095+05:30 8000049a-0004-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:35:21.0726602+05:30 8000049a-0004-fa00-b63f-84710c7967bb [INF] Request finished in 296.1185ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:35:21.2780598+05:30 8000049c-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:35:21.2781038+05:30 8000049c-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:35:21.2781995+05:30 8000049c-0004-fa00-b63f-84710c7967bb [INF] Request finished in 0.1544ms 204  (791a596a)
2021-09-29T15:35:21.2809596+05:30 800005d6-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:35:21.2810063+05:30 800005d6-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:35:21.2810551+05:30 800005d6-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:35:21.2811103+05:30 800005d6-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:35:21.2822495+05:30 800005d6-0002-f900-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:35:21.2823362+05:30 800005d6-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:35:21.2825237+05:30 800005d6-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1.3763ms (afa2e885)
2021-09-29T15:35:21.2825568+05:30 800005d6-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:35:21.2829282+05:30 800005d6-0002-f900-b63f-84710c7967bb [INF] Request finished in 1.9671ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:35:21.2846531+05:30 800005d6-0002-f900-b63f-84710c7967bb [ERR] Failed executing DbCommand ("3"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-29T15:35:21.2866228+05:30 800005d6-0002-f900-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:35:21.3349173+05:30 8000041b-0004-f700-b63f-84710c7967bb [INF] Executed DbCommand ("278"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:35:21.3351505+05:30 8000041b-0004-f700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:35:21.3353932+05:30 8000041b-0004-f700-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 558.324ms (afa2e885)
2021-09-29T15:35:21.3354233+05:30 8000041b-0004-f700-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:35:21.3354963+05:30 8000041b-0004-f700-b63f-84710c7967bb [INF] Request finished in 558.6215ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:35:22.3119493+05:30 8000044f-0006-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("303"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:35:22.3130469+05:30 8000044f-0006-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:35:22.3213681+05:30 8000044f-0006-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 1544.1379ms (afa2e885)
2021-09-29T15:35:22.3214975+05:30 8000044f-0006-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:35:22.3217436+05:30 8000044f-0006-fa00-b63f-84710c7967bb [INF] Request finished in 1544.8272ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:35:51.0064556+05:30 80000451-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:35:51.0065677+05:30 80000451-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:35:51.0066824+05:30 8000036a-0006-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=1   (ca22a1cb)
2021-09-29T15:35:51.0067702+05:30 80000451-0006-fa00-b63f-84710c7967bb [INF] Request finished in 0.3576ms 204  (791a596a)
2021-09-29T15:35:51.0067354+05:30 8000036a-0006-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:35:51.0068607+05:30 80000016-0003-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:35:51.0069041+05:30 80000016-0003-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:35:51.0071706+05:30 80000016-0003-f700-b63f-84710c7967bb [INF] Request finished in 0.3056ms 204  (791a596a)
2021-09-29T15:35:51.0079165+05:30 8000036a-0006-f700-b63f-84710c7967bb [INF] Request finished in 0.3408ms 204  (791a596a)
2021-09-29T15:35:51.0103837+05:30 80000018-0003-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:35:51.0105150+05:30 80000018-0003-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:35:51.0107073+05:30 80000018-0003-f700-b63f-84710c7967bb [INF] Request finished in 0.348ms 204  (791a596a)
2021-09-29T15:35:51.0138954+05:30 8000036c-0006-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=1   (ca22a1cb)
2021-09-29T15:35:51.0139483+05:30 800001b5-0005-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:35:51.0139696+05:30 8000036c-0006-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:35:51.0139815+05:30 800001b5-0005-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:35:51.0140608+05:30 8000036c-0006-f700-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:35:51.0140607+05:30 800001b5-0005-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:35:51.0141414+05:30 8000036c-0006-f700-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:35:51.0141424+05:30 800001b5-0005-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:35:51.0142306+05:30 8000001a-0003-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:35:51.0142622+05:30 8000001a-0003-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:35:51.0143290+05:30 8000001a-0003-f700-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:35:51.0143857+05:30 8000001a-0003-f700-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:35:51.0158637+05:30 800005d8-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:35:51.0160488+05:30 800005d8-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:35:51.0161996+05:30 800005d8-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:35:51.0168561+05:30 800005d8-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:35:51.0225042+05:30 800005d8-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:35:51.0293856+05:30 800005d8-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 12.278ms (afa2e885)
2021-09-29T15:35:51.0296418+05:30 800005d8-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:35:51.0297186+05:30 800005d8-0002-f900-b63f-84710c7967bb [INF] Request finished in 14.1208ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:35:51.2928989+05:30 8000036c-0006-f700-b63f-84710c7967bb [INF] Executed DbCommand ("278"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:35:51.3157740+05:30 8000001a-0003-f700-b63f-84710c7967bb [INF] Executed DbCommand ("301"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:35:51.3160103+05:30 8000001a-0003-f700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:35:51.3163392+05:30 8000001a-0003-f700-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 301.9093ms (afa2e885)
2021-09-29T15:35:51.3163833+05:30 8000001a-0003-f700-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:35:51.3164769+05:30 8000001a-0003-f700-b63f-84710c7967bb [INF] Request finished in 302.2481ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:35:51.5727099+05:30 8000036c-0006-f700-b63f-84710c7967bb [INF] Executed DbCommand ("279"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:35:51.5728824+05:30 8000036c-0006-f700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:35:51.5731289+05:30 8000036c-0006-f700-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 558.9374ms (afa2e885)
2021-09-29T15:35:51.5731640+05:30 8000036c-0006-f700-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:35:51.5732339+05:30 8000036c-0006-f700-b63f-84710c7967bb [INF] Request finished in 559.403ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:35:51.8618015+05:30 8000036e-0006-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:35:51.8618416+05:30 8000036e-0006-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:35:51.8619341+05:30 8000036e-0006-f700-b63f-84710c7967bb [INF] Request finished in 0.146ms 204  (791a596a)
2021-09-29T15:35:51.8644492+05:30 80000370-0006-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:35:51.8644921+05:30 80000370-0006-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:35:51.8645403+05:30 80000370-0006-f700-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:35:51.8645992+05:30 80000370-0006-f700-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:35:51.8656178+05:30 80000370-0006-f700-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:35:51.8656802+05:30 80000370-0006-f700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:35:51.8658426+05:30 80000370-0006-f700-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1.206ms (afa2e885)
2021-09-29T15:35:51.8658687+05:30 80000370-0006-f700-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:35:51.8661294+05:30 80000370-0006-f700-b63f-84710c7967bb [INF] Request finished in 1.6936ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:35:51.8669435+05:30 80000370-0006-f700-b63f-84710c7967bb [ERR] Failed executing DbCommand ("2"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-29T15:35:51.8681612+05:30 80000370-0006-f700-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:35:52.4661507+05:30 800001b5-0005-f900-b63f-84710c7967bb [INF] Executed DbCommand ("290"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:35:52.4666238+05:30 800001b5-0005-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:35:52.4674796+05:30 800001b5-0005-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 1453.1899ms (afa2e885)
2021-09-29T15:35:52.4676467+05:30 800001b5-0005-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:35:52.4678696+05:30 800001b5-0005-f900-b63f-84710c7967bb [INF] Request finished in 1453.8577ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:36:11.7532422+05:30 8000001c-0003-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:36:11.7533545+05:30 8000001c-0003-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:36:11.7535438+05:30 8000001c-0003-f700-b63f-84710c7967bb [INF] Request finished in 0.4285ms 204  (791a596a)
2021-09-29T15:36:11.7536520+05:30 80000688-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=1   (ca22a1cb)
2021-09-29T15:36:11.7536925+05:30 80000608-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:36:11.7537185+05:30 80000608-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:36:11.7537174+05:30 80000688-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:36:11.7538068+05:30 80000608-0001-fb00-b63f-84710c7967bb [INF] Request finished in 0.123ms 204  (791a596a)
2021-09-29T15:36:11.7539222+05:30 80000688-0001-ff00-b63f-84710c7967bb [INF] Request finished in 0.2327ms 204  (791a596a)
2021-09-29T15:36:11.7721381+05:30 80000746-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:36:11.7722112+05:30 80000746-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:36:11.7724164+05:30 80000746-0000-fa00-b63f-84710c7967bb [INF] Request finished in 0.3243ms 204  (791a596a)
2021-09-29T15:36:11.7753384+05:30 80000208-0002-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=1   (ca22a1cb)
2021-09-29T15:36:11.7753384+05:30 800005da-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:36:11.7754435+05:30 80000208-0002-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:36:11.7754697+05:30 800003ad-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:36:11.7755033+05:30 800003ad-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:36:11.7755832+05:30 80000208-0002-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:36:11.7755821+05:30 800003ad-0002-f500-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:36:11.7756855+05:30 800003ad-0002-f500-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:36:11.7756969+05:30 80000208-0002-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:36:11.7757929+05:30 800005da-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:36:11.7758467+05:30 800005da-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:36:11.7759048+05:30 800005da-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:36:11.7905980+05:30 80000748-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:36:11.7908135+05:30 80000748-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:36:11.7909262+05:30 80000748-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:36:11.7910501+05:30 80000748-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:36:11.8002613+05:30 80000748-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:36:11.8015891+05:30 80000748-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 10.3693ms (afa2e885)
2021-09-29T15:36:11.8016765+05:30 80000748-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:36:11.8021870+05:30 80000748-0000-fa00-b63f-84710c7967bb [INF] Request finished in 12.187ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:36:12.2954976+05:30 8000041d-0004-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:36:12.2955428+05:30 8000041d-0004-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:36:12.2956513+05:30 8000041d-0004-f700-b63f-84710c7967bb [INF] Request finished in 0.1757ms 204  (791a596a)
2021-09-29T15:36:12.2994509+05:30 80000372-0006-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:36:12.2995193+05:30 80000372-0006-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:36:12.2995922+05:30 80000372-0006-f700-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:36:12.2996845+05:30 80000372-0006-f700-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:36:12.3021196+05:30 80000372-0006-f700-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:36:12.3022156+05:30 80000372-0006-f700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:36:12.3025050+05:30 80000372-0006-f700-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 2.7377ms (afa2e885)
2021-09-29T15:36:12.3025520+05:30 80000372-0006-f700-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:36:12.3031069+05:30 80000372-0006-f700-b63f-84710c7967bb [INF] Request finished in 3.4199ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:36:12.3038059+05:30 80000372-0006-f700-b63f-84710c7967bb [ERR] An error occurred using the connection to database '"IoT-AppDatabase"' on server '"IoT-AppDatabase.mssql.somee.com"'. (5fc3407c)
2021-09-29T15:36:12.3143256+05:30 80000372-0006-f700-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:36:13.2099390+05:30 800005da-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("284"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:36:13.2100674+05:30 800005da-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:36:13.2134106+05:30 800005da-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 1437.4253ms (afa2e885)
2021-09-29T15:36:13.2134832+05:30 800005da-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:36:13.2136444+05:30 800005da-0002-f900-b63f-84710c7967bb [INF] Request finished in 1438.3103ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:36:13.4957252+05:30 800003ad-0002-f500-b63f-84710c7967bb [INF] Executed DbCommand ("285"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:36:13.4959933+05:30 800003ad-0002-f500-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:36:13.4963830+05:30 800003ad-0002-f500-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 1720.6543ms (afa2e885)
2021-09-29T15:36:13.4964297+05:30 800003ad-0002-f500-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:36:13.4965378+05:30 800003ad-0002-f500-b63f-84710c7967bb [INF] Request finished in 1721.2368ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:36:14.3545529+05:30 80000208-0002-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("286"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:36:14.6425943+05:30 80000208-0002-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("287"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:36:14.6430587+05:30 80000208-0002-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:36:14.6438398+05:30 80000208-0002-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 2868.0596ms (afa2e885)
2021-09-29T15:36:14.6439481+05:30 80000208-0002-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:36:14.6441663+05:30 80000208-0002-fa00-b63f-84710c7967bb [INF] Request finished in 2868.8229ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:39:22.1968243+05:30 8000041f-0004-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:39:22.1969176+05:30 8000041f-0004-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:39:22.1968992+05:30 8000049e-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:39:22.2007631+05:30 8000049e-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:39:22.2009158+05:30 8000041f-0004-f700-b63f-84710c7967bb [INF] Request finished in 5.6239ms 204  (791a596a)
2021-09-29T15:39:22.2010999+05:30 8000049e-0004-fa00-b63f-84710c7967bb [INF] Request finished in 5.7194ms 204  (791a596a)
2021-09-29T15:39:22.2037763+05:30 8000073c-0004-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:39:22.2040287+05:30 8000073c-0004-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:39:22.2042160+05:30 8000073c-0004-fb00-b63f-84710c7967bb [INF] Request finished in 0.4592ms 204  (791a596a)
2021-09-29T15:39:22.2079524+05:30 8000035d-0007-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:39:22.2080066+05:30 8000035d-0007-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:39:22.2126697+05:30 8000035d-0007-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:39:22.2127090+05:30 8000040a-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:39:22.2127231+05:30 8000074a-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:39:22.2127631+05:30 8000074a-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:39:22.2127656+05:30 8000040a-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:39:22.2127929+05:30 8000035d-0007-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:39:22.2128341+05:30 8000074a-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:39:22.2128398+05:30 8000040a-0007-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:39:22.2135704+05:30 8000040a-0007-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:39:22.2135664+05:30 80000453-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=1   (ca22a1cb)
2021-09-29T15:39:22.2135600+05:30 8000074a-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:39:22.2136205+05:30 80000453-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:39:22.2137830+05:30 80000453-0006-fa00-b63f-84710c7967bb [INF] Request finished in 0.2306ms 204  (791a596a)
2021-09-29T15:39:22.2138354+05:30 8000040a-0007-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:39:22.2179509+05:30 8000040a-0007-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 4.2505ms (afa2e885)
2021-09-29T15:39:22.2180296+05:30 8000040a-0007-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:39:22.2181365+05:30 8000040a-0007-ff00-b63f-84710c7967bb [INF] Request finished in 6.249ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:39:22.2226427+05:30 8000037e-0000-f600-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=1   (ca22a1cb)
2021-09-29T15:39:22.2228355+05:30 8000037e-0000-f600-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:39:22.2230659+05:30 8000037e-0000-f600-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:39:22.2242886+05:30 8000037e-0000-f600-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:39:22.5067734+05:30 8000074a-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("292"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:39:22.5074519+05:30 8000074a-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:39:22.5082667+05:30 8000074a-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 294.5822ms (afa2e885)
2021-09-29T15:39:22.5084252+05:30 8000074a-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:39:22.5087161+05:30 8000074a-0000-fa00-b63f-84710c7967bb [INF] Request finished in 296.7919ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:39:22.5173081+05:30 8000035d-0007-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("303"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:39:22.5177609+05:30 8000035d-0007-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:39:22.5188300+05:30 8000035d-0007-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 305.905ms (afa2e885)
2021-09-29T15:39:22.5189699+05:30 8000035d-0007-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:39:22.5191580+05:30 8000035d-0007-fc00-b63f-84710c7967bb [INF] Request finished in 311.1819ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:39:23.0200572+05:30 80000455-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:39:23.0200965+05:30 80000455-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:39:23.0201828+05:30 80000455-0006-fa00-b63f-84710c7967bb [INF] Request finished in 0.1429ms 204  (791a596a)
2021-09-29T15:39:23.0230039+05:30 80000457-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:39:23.0230432+05:30 80000457-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:39:23.0230874+05:30 80000457-0006-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:39:23.0231439+05:30 80000457-0006-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:39:23.0242134+05:30 80000457-0006-fa00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:39:23.0242835+05:30 80000457-0006-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:39:23.0244579+05:30 80000457-0006-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1.2763ms (afa2e885)
2021-09-29T15:39:23.0244875+05:30 80000457-0006-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:39:23.0249617+05:30 80000457-0006-fa00-b63f-84710c7967bb [INF] Request finished in 1.9398ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:39:23.0256927+05:30 80000457-0006-fa00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("2"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-29T15:39:23.0275052+05:30 80000457-0006-fa00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:39:23.7042924+05:30 8000037e-0000-f600-b63f-84710c7967bb [INF] Executed DbCommand ("293"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:39:24.0012813+05:30 8000037e-0000-f600-b63f-84710c7967bb [INF] Executed DbCommand ("297"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:39:24.0019626+05:30 8000037e-0000-f600-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:39:24.0028831+05:30 8000037e-0000-f600-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 1778.4629ms (afa2e885)
2021-09-29T15:39:24.0029999+05:30 8000037e-0000-f600-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:39:24.0033499+05:30 8000037e-0000-f600-b63f-84710c7967bb [INF] Request finished in 1780.8419ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:39:32.2153681+05:30 8000073e-0004-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:39:32.2154565+05:30 8000073e-0004-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:39:32.2159594+05:30 8000073e-0004-fb00-b63f-84710c7967bb [INF] Request finished in 0.6077ms 204  (791a596a)
2021-09-29T15:39:32.2189261+05:30 8000068a-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=1   (ca22a1cb)
2021-09-29T15:39:32.2190008+05:30 8000068a-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:39:32.2191993+05:30 8000060a-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:39:32.2192185+05:30 8000068a-0001-ff00-b63f-84710c7967bb [INF] Request finished in 0.3057ms 204  (791a596a)
2021-09-29T15:39:32.2192481+05:30 8000060a-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:39:32.2193455+05:30 8000060a-0001-fb00-b63f-84710c7967bb [INF] Request finished in 0.4814ms 204  (791a596a)
2021-09-29T15:39:32.2204149+05:30 8000060c-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:39:32.2205616+05:30 8000060c-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:39:32.2207828+05:30 8000060c-0001-fb00-b63f-84710c7967bb [INF] Request finished in 0.3683ms 204  (791a596a)
2021-09-29T15:39:32.2457887+05:30 800003af-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=1   (ca22a1cb)
2021-09-29T15:39:32.2468976+05:30 800003af-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:39:32.2469608+05:30 800005dc-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:39:32.2469606+05:30 8000020a-0002-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:39:32.2470145+05:30 800005dc-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:39:32.2470287+05:30 8000020a-0002-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:39:32.2471197+05:30 8000020a-0002-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:39:32.2471225+05:30 800003af-0002-f500-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:39:32.2471173+05:30 800005dc-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:39:32.2472878+05:30 800005dc-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:39:32.2472862+05:30 800003af-0002-f500-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:39:32.2472862+05:30 8000020a-0002-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:39:32.2497895+05:30 800001b7-0005-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:39:32.2500820+05:30 800001b7-0005-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:39:32.2504382+05:30 800001b7-0005-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:39:32.2505920+05:30 800001b7-0005-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:39:32.2509204+05:30 800001b7-0005-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:39:32.2513455+05:30 800001b7-0005-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.6885ms (afa2e885)
2021-09-29T15:39:32.2514065+05:30 800001b7-0005-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:39:32.2515013+05:30 800001b7-0005-f900-b63f-84710c7967bb [INF] Request finished in 1.8192ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:39:32.5378056+05:30 8000020a-0002-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("289"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:39:32.5381629+05:30 8000020a-0002-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:39:32.5390019+05:30 8000020a-0002-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 291.6015ms (afa2e885)
2021-09-29T15:39:32.5391334+05:30 8000020a-0002-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:39:32.5393102+05:30 8000020a-0002-fa00-b63f-84710c7967bb [INF] Request finished in 292.3599ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:39:32.5433802+05:30 800005dc-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("295"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:39:32.5441639+05:30 800005dc-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:39:32.5455794+05:30 800005dc-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 297.8579ms (afa2e885)
2021-09-29T15:39:32.5460476+05:30 800005dc-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:39:32.5468229+05:30 800005dc-0002-f900-b63f-84710c7967bb [INF] Request finished in 299.7777ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:39:33.7640513+05:30 800003af-0002-f500-b63f-84710c7967bb [INF] Executed DbCommand ("302"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:39:34.0675367+05:30 800003af-0002-f500-b63f-84710c7967bb [INF] Executed DbCommand ("302"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:39:34.0682413+05:30 800003af-0002-f500-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:39:34.0690623+05:30 800003af-0002-f500-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 1821.6753ms (afa2e885)
2021-09-29T15:39:34.0692205+05:30 800003af-0002-f500-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:39:34.0694289+05:30 800003af-0002-f500-b63f-84710c7967bb [INF] Request finished in 1823.9458ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:39:34.1238507+05:30 800001b9-0005-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:39:34.1240458+05:30 800001b9-0005-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:39:34.1242861+05:30 800001b9-0005-f900-b63f-84710c7967bb [INF] Request finished in 0.4617ms 204  (791a596a)
2021-09-29T15:39:34.1279747+05:30 800003b1-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:39:34.1280388+05:30 800003b1-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:39:34.1281070+05:30 800003b1-0002-f500-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:39:34.1282284+05:30 800003b1-0002-f500-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:39:34.1323407+05:30 800003b1-0002-f500-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:39:34.1327848+05:30 800003b1-0002-f500-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:39:34.1337155+05:30 800003b1-0002-f500-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 5.3109ms (afa2e885)
2021-09-29T15:39:34.1337812+05:30 800003b1-0002-f500-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:39:34.1347829+05:30 800003b1-0002-f500-b63f-84710c7967bb [INF] Request finished in 6.7713ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:39:34.1357766+05:30 800003b1-0002-f500-b63f-84710c7967bb [ERR] Failed executing DbCommand ("5"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-29T15:39:34.1376623+05:30 800003b1-0002-f500-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:40:31.5272747+05:30 800003b3-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:40:31.5276734+05:30 800003b3-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:40:31.5278491+05:30 80000740-0004-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=1   (ca22a1cb)
2021-09-29T15:40:31.5278905+05:30 80000740-0004-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:40:31.5282361+05:30 800004a0-0004-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:40:31.5283319+05:30 80000740-0004-fb00-b63f-84710c7967bb [INF] Request finished in 0.4713ms 204  (791a596a)
2021-09-29T15:40:31.5282870+05:30 800004a0-0004-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:40:31.5285247+05:30 800004a0-0004-fa00-b63f-84710c7967bb [INF] Request finished in 0.2854ms 204  (791a596a)
2021-09-29T15:40:31.5287373+05:30 800003b3-0002-f500-b63f-84710c7967bb [INF] Request finished in 1.2973ms 204  (791a596a)
2021-09-29T15:40:31.5488142+05:30 800003b5-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:40:31.5490855+05:30 800003b5-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:40:31.5491055+05:30 8000074c-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:40:31.5491349+05:30 8000074c-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:40:31.5500950+05:30 8000074c-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:40:31.5503907+05:30 8000074c-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:40:31.5523218+05:30 80000302-0000-f400-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:40:31.5524712+05:30 80000302-0000-f400-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:40:31.5549186+05:30 80000302-0000-f400-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:40:31.5551093+05:30 80000302-0000-f400-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:40:31.5551638+05:30 80000380-0000-f600-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=1   (ca22a1cb)
2021-09-29T15:40:31.5552280+05:30 80000380-0000-f600-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:40:31.5553302+05:30 80000380-0000-f600-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:40:31.5553577+05:30 800003b5-0002-f500-b63f-84710c7967bb [INF] Request finished in 6.6315ms 204  (791a596a)
2021-09-29T15:40:31.5554116+05:30 80000380-0000-f600-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:40:31.5697491+05:30 80000459-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:40:31.5706450+05:30 80000459-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:40:31.5707284+05:30 80000459-0006-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:40:31.5708286+05:30 80000459-0006-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:40:31.5712933+05:30 80000459-0006-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:40:31.5749498+05:30 80000459-0006-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 4.045ms (afa2e885)
2021-09-29T15:40:31.5749939+05:30 80000459-0006-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:40:31.5751375+05:30 80000459-0006-fa00-b63f-84710c7967bb [INF] Request finished in 5.4552ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:40:31.8480400+05:30 80000380-0000-f600-b63f-84710c7967bb [INF] Executed DbCommand ("291"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:40:31.8503875+05:30 80000302-0000-f400-b63f-84710c7967bb [INF] Executed DbCommand ("294"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:40:31.8513631+05:30 80000302-0000-f400-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:40:31.8523772+05:30 80000302-0000-f400-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 297.1283ms (afa2e885)
2021-09-29T15:40:31.8525342+05:30 80000302-0000-f400-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:40:31.8528373+05:30 80000302-0000-f400-b63f-84710c7967bb [INF] Request finished in 300.5837ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:40:32.1398922+05:30 80000380-0000-f600-b63f-84710c7967bb [INF] Executed DbCommand ("291"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:40:32.1405417+05:30 80000380-0000-f600-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:40:32.1413932+05:30 80000380-0000-f600-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 585.8993ms (afa2e885)
2021-09-29T15:40:32.1414789+05:30 80000380-0000-f600-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:40:32.1415950+05:30 80000380-0000-f600-b63f-84710c7967bb [INF] Request finished in 586.5025ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:40:33.0874429+05:30 8000074c-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("303"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:40:33.0876116+05:30 8000074c-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:40:33.0883390+05:30 8000074c-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 1537.834ms (afa2e885)
2021-09-29T15:40:33.0884199+05:30 8000074c-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:40:33.0885059+05:30 8000074c-0000-fa00-b63f-84710c7967bb [INF] Request finished in 1539.4339ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:40:33.3022090+05:30 800001bb-0005-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:40:33.3023209+05:30 800001bb-0005-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:40:33.3024929+05:30 800001bb-0005-f900-b63f-84710c7967bb [INF] Request finished in 0.3552ms 204  (791a596a)
2021-09-29T15:40:33.3091900+05:30 8000045b-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:40:33.3092617+05:30 8000045b-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:40:33.3093474+05:30 8000045b-0006-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:40:33.3094301+05:30 8000045b-0006-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:40:33.3108471+05:30 8000045b-0006-fa00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:40:33.3109436+05:30 8000045b-0006-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:40:33.3111728+05:30 8000045b-0006-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1.6552ms (afa2e885)
2021-09-29T15:40:33.3112285+05:30 8000045b-0006-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:40:33.3119212+05:30 8000045b-0006-fa00-b63f-84710c7967bb [INF] Request finished in 2.7255ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:40:33.3129597+05:30 8000045b-0006-fa00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("3"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-29T15:40:33.3157760+05:30 8000045b-0006-fa00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:42:57.2949696+05:30 800003b7-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:42:57.2949697+05:30 8000074e-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:42:57.2950495+05:30 8000074e-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:42:57.2950519+05:30 800003b7-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:42:57.2952051+05:30 800003b7-0002-f500-b63f-84710c7967bb [INF] Request finished in 0.3875ms 204  (791a596a)
2021-09-29T15:42:57.2952076+05:30 8000074e-0000-fa00-b63f-84710c7967bb [INF] Request finished in 0.3875ms 204  (791a596a)
2021-09-29T15:42:57.2986857+05:30 8000035f-0007-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=1   (ca22a1cb)
2021-09-29T15:42:57.2988400+05:30 8000035f-0007-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:42:57.3000415+05:30 8000035f-0007-fc00-b63f-84710c7967bb [INF] Request finished in 1.3682ms 204  (791a596a)
2021-09-29T15:42:57.3144001+05:30 80000375-0006-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:42:57.3144781+05:30 80000375-0006-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:42:57.3145137+05:30 8000060e-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:42:57.3145469+05:30 8000060e-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:42:57.3146385+05:30 80000375-0006-f700-b63f-84710c7967bb [INF] Request finished in 0.3046ms 204  (791a596a)
2021-09-29T15:42:57.3146600+05:30 8000060e-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:42:57.3148903+05:30 8000060e-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:42:57.3154019+05:30 800003b9-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:42:57.3154206+05:30 800005de-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=1   (ca22a1cb)
2021-09-29T15:42:57.3154566+05:30 800005de-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:42:57.3154575+05:30 800003b9-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:42:57.3155520+05:30 800005de-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:42:57.3155881+05:30 800003b9-0002-f500-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:42:57.3156678+05:30 800005de-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:42:57.3156705+05:30 800003b9-0002-f500-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:42:57.3520397+05:30 8000068c-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:42:57.3523717+05:30 8000068c-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:42:57.3528517+05:30 8000068c-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:42:57.3531373+05:30 8000068c-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:42:57.3545859+05:30 8000068c-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:42:57.3550321+05:30 8000068c-0001-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 1.7571ms (afa2e885)
2021-09-29T15:42:57.3551343+05:30 8000068c-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:42:57.3552131+05:30 8000068c-0001-ff00-b63f-84710c7967bb [INF] Request finished in 3.331ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:42:57.8308096+05:30 80000750-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:42:57.8308518+05:30 80000750-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:42:57.8309708+05:30 80000750-0000-fa00-b63f-84710c7967bb [INF] Request finished in 0.1887ms 204  (791a596a)
2021-09-29T15:42:57.8344839+05:30 80000742-0004-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:42:57.8345370+05:30 80000742-0004-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:42:57.8345958+05:30 80000742-0004-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:42:57.8346827+05:30 80000742-0004-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:42:57.8357779+05:30 80000742-0004-fb00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:42:57.8358759+05:30 80000742-0004-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:42:57.8360825+05:30 80000742-0004-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1.3426ms (afa2e885)
2021-09-29T15:42:57.8361198+05:30 80000742-0004-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:42:57.8363702+05:30 80000742-0004-fb00-b63f-84710c7967bb [INF] Request finished in 1.8838ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:42:57.8372162+05:30 80000742-0004-fb00-b63f-84710c7967bb [ERR] An error occurred using the connection to database '"IoT-AppDatabase"' on server '"IoT-AppDatabase.mssql.somee.com"'. (5fc3407c)
2021-09-29T15:42:57.8404602+05:30 80000742-0004-fb00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:42:58.8421076+05:30 800005de-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("301"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:42:59.1465204+05:30 8000060e-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("301"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:42:59.1471072+05:30 8000060e-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:42:59.1476573+05:30 8000060e-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 1832.6889ms (afa2e885)
2021-09-29T15:42:59.1477497+05:30 8000060e-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:42:59.1479148+05:30 8000060e-0001-fb00-b63f-84710c7967bb [INF] Request finished in 1833.4055ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:42:59.4500465+05:30 800005de-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("303"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:42:59.4503581+05:30 800005de-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:42:59.4508174+05:30 800005de-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 2135.0918ms (afa2e885)
2021-09-29T15:42:59.4508921+05:30 800005de-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:42:59.4509989+05:30 800005de-0002-f900-b63f-84710c7967bb [INF] Request finished in 2135.5623ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:43:00.0742801+05:30 800003b9-0002-f500-b63f-84710c7967bb [INF] Executed DbCommand ("307"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:43:00.0744035+05:30 800003b9-0002-f500-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:43:00.0747135+05:30 800003b9-0002-f500-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 2758.9861ms (afa2e885)
2021-09-29T15:43:00.0747692+05:30 800003b9-0002-f500-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:43:00.0748471+05:30 800003b9-0002-f500-b63f-84710c7967bb [INF] Request finished in 2759.4779ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:44:05.2138650+05:30 80000744-0004-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=1   (ca22a1cb)
2021-09-29T15:44:05.2138651+05:30 80000361-0007-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:44:05.2139317+05:30 80000744-0004-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:44:05.2139316+05:30 80000361-0007-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:44:05.2141838+05:30 80000744-0004-fb00-b63f-84710c7967bb [INF] Request finished in 0.3617ms 204  (791a596a)
2021-09-29T15:44:05.2142067+05:30 80000361-0007-fc00-b63f-84710c7967bb [INF] Request finished in 0.3877ms 204  (791a596a)
2021-09-29T15:44:05.2144814+05:30 80000377-0006-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:44:05.2144918+05:30 800003bb-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:44:05.2145251+05:30 80000377-0006-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:44:05.2145418+05:30 800003bb-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:44:05.2146292+05:30 80000377-0006-f700-b63f-84710c7967bb [INF] Request finished in 0.1492ms 204  (791a596a)
2021-09-29T15:44:05.2146281+05:30 800003bb-0002-f500-b63f-84710c7967bb [INF] Request finished in 0.1568ms 204  (791a596a)
2021-09-29T15:44:05.2191462+05:30 80000379-0006-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=1   (ca22a1cb)
2021-09-29T15:44:05.2191466+05:30 80000752-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:44:05.2191591+05:30 8000045d-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:44:05.2191974+05:30 80000379-0006-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:44:05.2192009+05:30 8000045d-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:44:05.2192090+05:30 80000752-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:44:05.2192598+05:30 80000379-0006-f700-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:44:05.2192683+05:30 8000045d-0006-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:44:05.2192741+05:30 80000752-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:44:05.2193268+05:30 80000752-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:44:05.2193279+05:30 8000045d-0006-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:44:05.2193276+05:30 80000379-0006-f700-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:44:05.2195335+05:30 8000045d-0006-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:44:05.2195568+05:30 8000032a-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:44:05.2197051+05:30 8000032a-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:44:05.2198926+05:30 8000032a-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:44:05.2199818+05:30 8000032a-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:44:05.2201010+05:30 8000045d-0006-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.7226ms (afa2e885)
2021-09-29T15:44:05.2202225+05:30 8000045d-0006-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:44:05.2210333+05:30 8000045d-0006-fa00-b63f-84710c7967bb [INF] Request finished in 1.1431ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:44:05.5250427+05:30 80000379-0006-f700-b63f-84710c7967bb [INF] Executed DbCommand ("305"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:44:05.5250910+05:30 80000752-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("303"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:44:05.5253812+05:30 80000752-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:44:05.5260971+05:30 80000752-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 306.6706ms (afa2e885)
2021-09-29T15:44:05.5262281+05:30 80000752-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:44:05.5264033+05:30 80000752-0000-fa00-b63f-84710c7967bb [INF] Request finished in 307.2362ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:44:05.7468296+05:30 8000045f-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:44:05.7469453+05:30 8000045f-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:44:05.7472079+05:30 8000045f-0006-fa00-b63f-84710c7967bb [INF] Request finished in 0.469ms 204  (791a596a)
2021-09-29T15:44:05.7590574+05:30 80000754-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:44:05.7591400+05:30 80000754-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:44:05.7592469+05:30 80000754-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:44:05.7593602+05:30 80000754-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:44:05.7619580+05:30 80000754-0000-fa00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:44:05.7622808+05:30 80000754-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:44:05.7697882+05:30 80000754-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 10.3198ms (afa2e885)
2021-09-29T15:44:05.7698721+05:30 80000754-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:44:05.7708227+05:30 80000754-0000-fa00-b63f-84710c7967bb [INF] Request finished in 11.7718ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:44:05.7793164+05:30 80000754-0000-fa00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("19"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-29T15:44:05.7841604+05:30 80000754-0000-fa00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:44:05.8282691+05:30 80000379-0006-f700-b63f-84710c7967bb [INF] Executed DbCommand ("302"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:44:05.8285582+05:30 80000379-0006-f700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:44:05.8289511+05:30 80000379-0006-f700-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 609.5628ms (afa2e885)
2021-09-29T15:44:05.8289989+05:30 80000379-0006-f700-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:44:05.8290735+05:30 80000379-0006-f700-b63f-84710c7967bb [INF] Request finished in 609.9536ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:44:06.6562498+05:30 8000032a-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("284"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:44:06.6567095+05:30 8000032a-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:44:06.6572944+05:30 8000032a-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 1437.2257ms (afa2e885)
2021-09-29T15:44:06.6573947+05:30 8000032a-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:44:06.6575955+05:30 8000032a-0006-fd00-b63f-84710c7967bb [INF] Request finished in 1438.0151ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:44:12.3834476+05:30 80000610-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-29T15:44:12.3837056+05:30 80000610-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:44:12.3838972+05:30 80000610-0001-fb00-b63f-84710c7967bb [INF] Request finished in 0.5271ms 204  (791a596a)
2021-09-29T15:44:12.3907115+05:30 80000363-0007-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-29T15:44:12.3907511+05:30 80000363-0007-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:44:12.3908206+05:30 80000363-0007-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:44:12.3908787+05:30 80000363-0007-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllDeviceCapability(System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:44:12.6751744+05:30 80000363-0007-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("284"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:44:12.9603739+05:30 80000363-0007-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("284"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
ORDER BY [d].[CapabilityType]" (0723d8ff)
2021-09-29T15:44:12.9612165+05:30 80000363-0007-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[IoT.DataLayer.Models.DeviceCapability, IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:44:12.9620348+05:30 80000363-0007-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)" in 571.0774ms (afa2e885)
2021-09-29T15:44:12.9621197+05:30 80000363-0007-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:44:12.9622404+05:30 80000363-0007-fc00-b63f-84710c7967bb [INF] Request finished in 571.5224ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:54:28.3146184+05:30 8000068e-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=1   (ca22a1cb)
2021-09-29T15:54:28.3147859+05:30 8000068e-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:54:28.3156859+05:30 8000068e-0001-ff00-b63f-84710c7967bb [INF] Request finished in 1.71ms 204  (791a596a)
2021-09-29T15:54:28.3175434+05:30 800004e9-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:54:28.3176988+05:30 800004e9-0001-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:54:28.3179043+05:30 800004e9-0001-fe00-b63f-84710c7967bb [INF] Request finished in 0.4239ms 204  (791a596a)
2021-09-29T15:54:28.3194245+05:30 80000612-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:54:28.3200737+05:30 80000612-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:54:28.3202845+05:30 80000612-0001-fb00-b63f-84710c7967bb [INF] Request finished in 5.8182ms 204  (791a596a)
2021-09-29T15:54:28.3204762+05:30 8000001e-0003-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:54:28.3205319+05:30 8000001e-0003-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:54:28.3206871+05:30 8000001e-0003-f700-b63f-84710c7967bb [INF] Request finished in 0.2202ms 204  (791a596a)
2021-09-29T15:54:28.3287746+05:30 80000020-0003-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=1   (ca22a1cb)
2021-09-29T15:54:28.3288391+05:30 80000020-0003-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:54:28.3304272+05:30 80000020-0003-f700-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:54:28.3415329+05:30 800003bd-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:54:28.3415967+05:30 800003bd-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:54:28.3416150+05:30 80000020-0003-f700-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:54:28.3416979+05:30 800003bd-0002-f500-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:54:28.3417679+05:30 800003bd-0002-f500-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:54:28.3421569+05:30 8000019c-0003-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:54:28.3420255+05:30 800005e0-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:54:28.3421917+05:30 8000019c-0003-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:54:28.3421932+05:30 800005e0-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:54:28.3422461+05:30 800005e0-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:54:28.3422469+05:30 8000019c-0003-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:54:28.3423107+05:30 800005e0-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:54:28.3423164+05:30 8000019c-0003-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:54:28.3425475+05:30 800005e0-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:54:28.3439460+05:30 800005e0-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 1.5519ms (afa2e885)
2021-09-29T15:54:28.3440204+05:30 800005e0-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:54:28.3441239+05:30 800005e0-0002-f900-b63f-84710c7967bb [INF] Request finished in 2.2813ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:54:28.8622187+05:30 800005e2-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:54:28.8622604+05:30 800005e2-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:54:28.8623475+05:30 800005e2-0002-f900-b63f-84710c7967bb [INF] Request finished in 0.1481ms 204  (791a596a)
2021-09-29T15:54:28.8654715+05:30 800005e4-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:54:28.8655108+05:30 800005e4-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:54:28.8655591+05:30 800005e4-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:54:28.8656128+05:30 800005e4-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:54:28.8668740+05:30 800005e4-0002-f900-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:54:28.8669602+05:30 800005e4-0002-f900-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:54:28.8681801+05:30 800005e4-0002-f900-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 1.4924ms (afa2e885)
2021-09-29T15:54:28.8682245+05:30 800005e4-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:54:28.8716886+05:30 800005e4-0002-f900-b63f-84710c7967bb [INF] Request finished in 6.2129ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:54:28.8719890+05:30 800005e4-0002-f900-b63f-84710c7967bb [ERR] An error occurred using the connection to database '"IoT-AppDatabase"' on server '"IoT-AppDatabase.mssql.somee.com"'. (5fc3407c)
2021-09-29T15:54:28.8753151+05:30 800005e4-0002-f900-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:54:29.7386104+05:30 80000020-0003-f700-b63f-84710c7967bb [INF] Executed DbCommand ("276"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:54:30.0193541+05:30 800003bd-0002-f500-b63f-84710c7967bb [INF] Executed DbCommand ("279"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:54:30.0197577+05:30 800003bd-0002-f500-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:54:30.0556443+05:30 800003bd-0002-f500-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 1713.8243ms (afa2e885)
2021-09-29T15:54:30.0556951+05:30 800003bd-0002-f500-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:54:30.0557814+05:30 800003bd-0002-f500-b63f-84710c7967bb [INF] Request finished in 1714.29ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:54:30.2962581+05:30 80000020-0003-f700-b63f-84710c7967bb [INF] Executed DbCommand ("277"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:54:30.2964806+05:30 80000020-0003-f700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:54:30.2967420+05:30 80000020-0003-f700-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 1955.0804ms (afa2e885)
2021-09-29T15:54:30.2967769+05:30 80000020-0003-f700-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:54:30.2968356+05:30 80000020-0003-f700-b63f-84710c7967bb [INF] Request finished in 1968.0963ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:54:30.9733931+05:30 8000019c-0003-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("300"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:54:30.9735082+05:30 8000019c-0003-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:54:30.9737888+05:30 8000019c-0003-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 2631.4256ms (afa2e885)
2021-09-29T15:54:30.9738256+05:30 8000019c-0003-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:54:30.9738937+05:30 8000019c-0003-fb00-b63f-84710c7967bb [INF] Request finished in 2632.0564ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:56:15.5065655+05:30 800003bf-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:56:15.5066392+05:30 800003bf-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:56:15.5068075+05:30 800003bf-0002-f500-b63f-84710c7967bb [INF] Request finished in 0.3026ms 204  (791a596a)
2021-09-29T15:56:15.5074987+05:30 8000019e-0003-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=1   (ca22a1cb)
2021-09-29T15:56:15.5075624+05:30 8000019e-0003-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:56:15.5080037+05:30 8000019e-0003-fb00-b63f-84710c7967bb [INF] Request finished in 0.4701ms 204  (791a596a)
2021-09-29T15:56:15.5156024+05:30 800001bd-0005-f900-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:56:15.5173320+05:30 800001bd-0005-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:56:15.5177346+05:30 800001bd-0005-f900-b63f-84710c7967bb [INF] Request finished in 3.008ms 204  (791a596a)
2021-09-29T15:56:15.5275858+05:30 80000313-0005-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:56:15.5292825+05:30 80000313-0005-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:56:15.5305050+05:30 80000313-0005-fd00-b63f-84710c7967bb [INF] Request finished in 2.9163ms 204  (791a596a)
2021-09-29T15:56:15.5357726+05:30 80000756-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:56:15.5357724+05:30 80000614-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:56:15.5358258+05:30 80000614-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:56:15.5359581+05:30 80000756-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:56:15.5360069+05:30 80000614-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:56:15.5360234+05:30 80000756-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:56:15.5361610+05:30 80000756-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:56:15.5361611+05:30 80000614-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:56:15.5361737+05:30 800003c1-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=1   (ca22a1cb)
2021-09-29T15:56:15.5362028+05:30 800003c1-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:56:15.5363627+05:30 800003c1-0002-f500-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:56:15.5364494+05:30 800003c1-0002-f500-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:56:15.5397929+05:30 80000315-0005-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:56:15.5401474+05:30 80000315-0005-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:56:15.5402683+05:30 80000315-0005-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:56:15.5404094+05:30 80000315-0005-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:56:15.5407590+05:30 80000315-0005-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:56:15.5456499+05:30 80000315-0005-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 5.167ms (afa2e885)
2021-09-29T15:56:15.5457431+05:30 80000315-0005-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:56:15.5458014+05:30 80000315-0005-fd00-b63f-84710c7967bb [INF] Request finished in 9.2108ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:56:17.0590507+05:30 80000614-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("305"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:56:17.0595279+05:30 80000614-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:56:17.0599253+05:30 80000614-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 1523.6513ms (afa2e885)
2021-09-29T15:56:17.0604720+05:30 80000614-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:56:17.0606903+05:30 80000614-0001-fb00-b63f-84710c7967bb [INF] Request finished in 1524.8966ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:56:17.1168624+05:30 80000616-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:56:17.1169520+05:30 80000616-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:56:17.1170657+05:30 80000758-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=1   (ca22a1cb)
2021-09-29T15:56:17.1170825+05:30 80000616-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:56:17.1170983+05:30 80000758-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:56:17.1171536+05:30 80000758-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:56:17.1171819+05:30 80000616-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:56:17.1172066+05:30 80000758-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:56:17.1179132+05:30 800004eb-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:56:17.1179739+05:30 800004eb-0001-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:56:17.1180758+05:30 800004eb-0001-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:56:17.1181548+05:30 800004eb-0001-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:56:17.1196436+05:30 800001a0-0003-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:56:17.1198874+05:30 800001a0-0003-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:56:17.1199841+05:30 800001a0-0003-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:56:17.1201411+05:30 800004eb-0001-fe00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.9" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2021-09-29T15:56:17.1201629+05:30 800001a0-0003-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:56:17.1216803+05:30 800001a0-0003-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:56:17.1222330+05:30 800001a0-0003-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 2.0125ms (afa2e885)
2021-09-29T15:56:17.1222736+05:30 800001a0-0003-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:56:17.1223364+05:30 800001a0-0003-fb00-b63f-84710c7967bb [INF] Request finished in 2.7411ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:56:17.3042984+05:30 80000746-0004-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:56:17.3043529+05:30 80000746-0004-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:56:17.3044817+05:30 80000746-0004-fb00-b63f-84710c7967bb [INF] Request finished in 0.2084ms 204  (791a596a)
2021-09-29T15:56:17.3080464+05:30 80000382-0000-f600-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:56:17.3080977+05:30 80000382-0000-f600-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:56:17.3081528+05:30 80000382-0000-f600-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:56:17.3082208+05:30 80000382-0000-f600-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:56:17.3092509+05:30 80000382-0000-f600-b63f-84710c7967bb [INF] Entity Framework Core "5.0.9" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2021-09-29T15:56:17.3106005+05:30 80000382-0000-f600-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:56:17.3106958+05:30 80000382-0000-f600-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:56:17.3110643+05:30 80000382-0000-f600-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 2.7837ms (afa2e885)
2021-09-29T15:56:17.3111092+05:30 80000382-0000-f600-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:56:17.3113015+05:30 80000382-0000-f600-b63f-84710c7967bb [INF] Request finished in 3.271ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:56:17.3117830+05:30 80000382-0000-f600-b63f-84710c7967bb [ERR] An error occurred using the connection to database '"IoT-AppDatabase"' on server '"IoT-AppDatabase.mssql.somee.com"'. (5fc3407c)
2021-09-29T15:56:17.3152591+05:30 80000382-0000-f600-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:56:17.3783999+05:30 80000756-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("302"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:56:17.3788172+05:30 80000756-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:56:17.3789780+05:30 80000756-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 1842.7681ms (afa2e885)
2021-09-29T15:56:17.3790417+05:30 80000756-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:56:17.3791742+05:30 80000756-0000-fa00-b63f-84710c7967bb [INF] Request finished in 1843.4321ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:56:17.6821128+05:30 80000758-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("303"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:56:17.9850309+05:30 80000616-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("303"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:56:17.9851634+05:30 80000616-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:56:17.9854908+05:30 80000616-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 868.2572ms (afa2e885)
2021-09-29T15:56:17.9856032+05:30 80000616-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:56:17.9856894+05:30 80000616-0001-fb00-b63f-84710c7967bb [INF] Request finished in 868.9128ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:56:18.2706286+05:30 800003c1-0002-f500-b63f-84710c7967bb [INF] Executed DbCommand ("304"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:56:18.2888434+05:30 80000758-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("304"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:56:18.2892968+05:30 80000758-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:56:18.2900398+05:30 80000758-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 1172.7301ms (afa2e885)
2021-09-29T15:56:18.2901632+05:30 80000758-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:56:18.2903380+05:30 80000758-0000-fa00-b63f-84710c7967bb [INF] Request finished in 1173.2383ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:56:18.5737976+05:30 800003c1-0002-f500-b63f-84710c7967bb [INF] Executed DbCommand ("302"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:56:18.5742796+05:30 800003c1-0002-f500-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:56:18.5745314+05:30 800003c1-0002-f500-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 3038.0062ms (afa2e885)
2021-09-29T15:56:18.5745971+05:30 800003c1-0002-f500-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:56:18.5747173+05:30 800003c1-0002-f500-b63f-84710c7967bb [INF] Request finished in 3038.5224ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:56:19.3687966+05:30 800004eb-0001-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("279"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:56:19.3696468+05:30 800004eb-0001-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:56:19.3710252+05:30 800004eb-0001-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 2252.7259ms (afa2e885)
2021-09-29T15:56:19.3711919+05:30 800004eb-0001-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:56:19.3715601+05:30 800004eb-0001-fe00-b63f-84710c7967bb [INF] Request finished in 2253.6095ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:56:23.2347988+05:30 800003c3-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-29T15:56:23.2349173+05:30 800003c3-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:56:23.2362750+05:30 800003c3-0002-f500-b63f-84710c7967bb [INF] Request finished in 1.5459ms 204  (791a596a)
2021-09-29T15:56:23.2456402+05:30 80000748-0004-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-29T15:56:23.2456879+05:30 80000748-0004-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:56:23.2457544+05:30 80000748-0004-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:56:23.2458150+05:30 80000748-0004-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllDeviceCapability(System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:56:23.5287654+05:30 80000748-0004-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("282"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:56:23.8058685+05:30 80000748-0004-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("277"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
ORDER BY [d].[CapabilityType]" (0723d8ff)
2021-09-29T15:56:23.8061409+05:30 80000748-0004-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[IoT.DataLayer.Models.DeviceCapability, IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:56:23.8064929+05:30 80000748-0004-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)" in 560.6295ms (afa2e885)
2021-09-29T15:56:23.8065579+05:30 80000748-0004-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:56:23.8066310+05:30 80000748-0004-fb00-b63f-84710c7967bb [INF] Request finished in 561.0105ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:56:27.7140189+05:30 8000032c-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:56:27.7141555+05:30 8000032c-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:56:27.7141607+05:30 80000365-0007-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=1   (ca22a1cb)
2021-09-29T15:56:27.7142911+05:30 80000365-0007-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:56:27.7143027+05:30 8000032c-0006-fd00-b63f-84710c7967bb [INF] Request finished in 0.3502ms 204  (791a596a)
2021-09-29T15:56:27.7144200+05:30 80000365-0007-fc00-b63f-84710c7967bb [INF] Request finished in 0.3217ms 204  (791a596a)
2021-09-29T15:56:27.7195594+05:30 80000367-0007-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:56:27.7195605+05:30 8000040c-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=1   (ca22a1cb)
2021-09-29T15:56:27.7196108+05:30 80000367-0007-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:56:27.7196116+05:30 8000040c-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:56:27.7196930+05:30 80000367-0007-fc00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:56:27.7196969+05:30 8000040c-0007-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:56:27.7197774+05:30 80000367-0007-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:56:27.7197762+05:30 8000040c-0007-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:56:27.9981968+05:30 80000367-0007-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("278"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:56:27.9985797+05:30 80000367-0007-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:56:27.9994267+05:30 80000367-0007-fc00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 279.5156ms (afa2e885)
2021-09-29T15:56:27.9995587+05:30 80000367-0007-fc00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:56:27.9997429+05:30 80000367-0007-fc00-b63f-84710c7967bb [INF] Request finished in 280.1566ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:56:28.0222878+05:30 8000040c-0007-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("302"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:56:28.3241163+05:30 8000040c-0007-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("301"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:56:28.3244825+05:30 8000040c-0007-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:56:28.3250815+05:30 8000040c-0007-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 605.2263ms (afa2e885)
2021-09-29T15:56:28.3251757+05:30 8000040c-0007-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:56:28.3253130+05:30 8000040c-0007-ff00-b63f-84710c7967bb [INF] Request finished in 605.7462ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:56:41.8976281+05:30 800004ed-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:56:41.8976924+05:30 800004ed-0001-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:56:41.8978529+05:30 800004ed-0001-fe00-b63f-84710c7967bb [INF] Request finished in 0.2231ms 204  (791a596a)
2021-09-29T15:56:41.8978772+05:30 8000075a-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=1   (ca22a1cb)
2021-09-29T15:56:41.8979291+05:30 8000075a-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:56:41.8980220+05:30 8000075a-0000-fa00-b63f-84710c7967bb [INF] Request finished in 0.1747ms 204  (791a596a)
2021-09-29T15:56:41.8988105+05:30 8000032e-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:56:41.8990769+05:30 8000032e-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:56:41.8995293+05:30 8000032e-0006-fd00-b63f-84710c7967bb [INF] Request finished in 0.9196ms 204  (791a596a)
2021-09-29T15:56:41.9002804+05:30 80000317-0005-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:56:41.9003653+05:30 80000317-0005-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:56:41.9005302+05:30 80000317-0005-fd00-b63f-84710c7967bb [INF] Request finished in 0.2645ms 204  (791a596a)
2021-09-29T15:56:41.9044546+05:30 80000330-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:56:41.9045111+05:30 80000330-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:56:41.9045688+05:30 8000075c-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=1   (ca22a1cb)
2021-09-29T15:56:41.9046004+05:30 80000330-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:56:41.9046641+05:30 8000075c-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:56:41.9046749+05:30 80000330-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:56:41.9047285+05:30 8000075c-0000-fa00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:56:41.9048259+05:30 8000075c-0000-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:56:41.9053068+05:30 80000384-0000-f600-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:56:41.9053817+05:30 80000384-0000-f600-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:56:41.9053918+05:30 800003c5-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:56:41.9054207+05:30 800003c5-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:56:41.9054495+05:30 80000384-0000-f600-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:56:41.9054732+05:30 800003c5-0002-f500-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:56:41.9055210+05:30 80000384-0000-f600-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:56:41.9055284+05:30 800003c5-0002-f500-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:56:41.9057287+05:30 80000384-0000-f600-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:56:41.9060182+05:30 80000384-0000-f600-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.4464ms (afa2e885)
2021-09-29T15:56:41.9060627+05:30 80000384-0000-f600-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:56:41.9061240+05:30 80000384-0000-f600-b63f-84710c7967bb [INF] Request finished in 0.8542ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:56:42.1856315+05:30 8000075c-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("280"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:56:42.2120623+05:30 80000330-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("307"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:56:42.2124268+05:30 80000330-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:56:42.2126240+05:30 800003c5-0002-f500-b63f-84710c7967bb [INF] Executed DbCommand ("307"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:56:42.2132259+05:30 80000330-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 308.4339ms (afa2e885)
2021-09-29T15:56:42.2133370+05:30 80000330-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:56:42.2137944+05:30 80000330-0006-fd00-b63f-84710c7967bb [INF] Request finished in 309.0625ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:56:42.2195489+05:30 800003c5-0002-f500-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:56:42.2290736+05:30 800003c5-0002-f500-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 323.4168ms (afa2e885)
2021-09-29T15:56:42.2292650+05:30 800003c5-0002-f500-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:56:42.2296972+05:30 800003c5-0002-f500-b63f-84710c7967bb [INF] Request finished in 324.1625ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:56:42.4651840+05:30 8000075c-0000-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("279"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:56:42.4659548+05:30 8000075c-0000-fa00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:56:42.4676206+05:30 8000075c-0000-fa00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 562.6842ms (afa2e885)
2021-09-29T15:56:42.4676982+05:30 8000075c-0000-fa00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:56:42.4678130+05:30 8000075c-0000-fa00-b63f-84710c7967bb [INF] Request finished in 563.3743ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:56:42.4680369+05:30 800003c7-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:56:42.4683667+05:30 800003c7-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:56:42.4686483+05:30 800003c7-0002-f500-b63f-84710c7967bb [INF] Request finished in 0.7198ms 204  (791a596a)
2021-09-29T15:56:42.4743900+05:30 800004ef-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:56:42.4744688+05:30 800004ef-0001-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:56:42.4745796+05:30 800004ef-0001-fe00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:56:42.4746941+05:30 800004ef-0001-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:56:42.4763814+05:30 800004ef-0001-fe00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:56:42.4765145+05:30 800004ef-0001-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:56:42.4768405+05:30 800004ef-0001-fe00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 2.0757ms (afa2e885)
2021-09-29T15:56:42.4769047+05:30 800004ef-0001-fe00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:56:42.4775962+05:30 800004ef-0001-fe00-b63f-84710c7967bb [INF] Request finished in 3.211ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:56:42.4786095+05:30 800004ef-0001-fe00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("3"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-29T15:56:42.4810343+05:30 800004ef-0001-fe00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:58:03.4665713+05:30 800004f1-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:58:03.4666309+05:30 800004f1-0001-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:58:03.4667617+05:30 800004f1-0001-fe00-b63f-84710c7967bb [INF] Request finished in 0.22ms 204  (791a596a)
2021-09-29T15:58:03.4672780+05:30 8000074a-0004-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=1   (ca22a1cb)
2021-09-29T15:58:03.4671344+05:30 80000618-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:58:03.4673350+05:30 8000074a-0004-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:58:03.4673351+05:30 80000618-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:58:03.4674558+05:30 8000074a-0004-fb00-b63f-84710c7967bb [INF] Request finished in 0.4944ms 204  (791a596a)
2021-09-29T15:58:03.4674561+05:30 80000618-0001-fb00-b63f-84710c7967bb [INF] Request finished in 0.3243ms 204  (791a596a)
2021-09-29T15:58:03.4693932+05:30 8000075e-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:58:03.4696227+05:30 8000075e-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:58:03.4721865+05:30 8000075e-0000-fa00-b63f-84710c7967bb [INF] Request finished in 1.8456ms 204  (791a596a)
2021-09-29T15:58:03.4726444+05:30 80000319-0005-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=1   (ca22a1cb)
2021-09-29T15:58:03.4728414+05:30 80000332-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:58:03.4736396+05:30 80000332-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:58:03.4746155+05:30 80000319-0005-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:58:03.4746957+05:30 80000332-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:58:03.4747016+05:30 80000319-0005-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:58:03.4748841+05:30 80000332-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:58:03.4748838+05:30 80000319-0005-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:58:03.4749931+05:30 8000061a-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:58:03.4750378+05:30 8000061a-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:58:03.4751093+05:30 8000061a-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:58:03.4753466+05:30 8000061a-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:58:03.4867029+05:30 800003c9-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:58:03.4868092+05:30 800003c9-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:58:03.4876613+05:30 800003c9-0002-f500-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:58:03.4877528+05:30 800003c9-0002-f500-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:58:03.4903204+05:30 800003c9-0002-f500-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:58:03.4910175+05:30 800003c9-0002-f500-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 3.0661ms (afa2e885)
2021-09-29T15:58:03.4911923+05:30 800003c9-0002-f500-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:58:03.4913763+05:30 800003c9-0002-f500-b63f-84710c7967bb [INF] Request finished in 4.779ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:58:03.7790516+05:30 80000319-0005-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("303"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:58:03.7790680+05:30 80000332-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("303"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:58:03.7794793+05:30 80000332-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:58:03.7802920+05:30 80000332-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 305.2859ms (afa2e885)
2021-09-29T15:58:03.7804192+05:30 80000332-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:58:03.7806253+05:30 80000332-0006-fd00-b63f-84710c7967bb [INF] Request finished in 307.8967ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:58:04.0236526+05:30 80000760-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:58:04.0237772+05:30 80000760-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:58:04.0240357+05:30 80000760-0000-fa00-b63f-84710c7967bb [INF] Request finished in 0.4939ms 204  (791a596a)
2021-09-29T15:58:04.0324621+05:30 80000334-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:58:04.0325827+05:30 80000334-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:58:04.0327112+05:30 80000334-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:58:04.0328771+05:30 80000334-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:58:04.0364579+05:30 80000334-0006-fd00-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:58:04.0366655+05:30 80000334-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:58:04.0373322+05:30 80000334-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 4.3365ms (afa2e885)
2021-09-29T15:58:04.0374579+05:30 80000334-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:58:04.0391101+05:30 80000334-0006-fd00-b63f-84710c7967bb [INF] Request finished in 6.4786ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:58:04.0420563+05:30 80000334-0006-fd00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("8"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-29T15:58:04.0497532+05:30 80000334-0006-fd00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:58:04.0817711+05:30 80000319-0005-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("301"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:58:04.0821229+05:30 80000319-0005-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:58:04.0824959+05:30 80000319-0005-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 607.5208ms (afa2e885)
2021-09-29T15:58:04.0825441+05:30 80000319-0005-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:58:04.0826193+05:30 80000319-0005-fd00-b63f-84710c7967bb [INF] Request finished in 610.0726ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:58:05.0458935+05:30 8000061a-0001-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("310"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:58:05.0464895+05:30 8000061a-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:58:05.0472515+05:30 8000061a-0001-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 1571.7962ms (afa2e885)
2021-09-29T15:58:05.0474412+05:30 8000061a-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:58:05.0476773+05:30 8000061a-0001-fb00-b63f-84710c7967bb [INF] Request finished in 1572.949ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:58:09.9328259+05:30 800003cb-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-29T15:58:09.9328700+05:30 800003cb-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:58:09.9329734+05:30 800003cb-0002-f500-b63f-84710c7967bb [INF] Request finished in 0.2053ms 204  (791a596a)
2021-09-29T15:58:09.9369280+05:30 8000074c-0004-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getAllDeviceCapability   (ca22a1cb)
2021-09-29T15:58:09.9369843+05:30 8000074c-0004-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:58:09.9370645+05:30 8000074c-0004-fb00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:58:09.9371336+05:30 8000074c-0004-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllDeviceCapability(System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:58:10.2453854+05:30 8000074c-0004-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("308"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:58:10.5552654+05:30 8000074c-0004-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("309"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
ORDER BY [d].[CapabilityType]" (0723d8ff)
2021-09-29T15:58:10.5560208+05:30 8000074c-0004-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[IoT.DataLayer.Models.DeviceCapability, IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:58:10.5569274+05:30 8000074c-0004-fb00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)" in 619.6142ms (afa2e885)
2021-09-29T15:58:10.5570532+05:30 8000074c-0004-fb00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetAllDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:58:10.5571936+05:30 8000074c-0004-fb00-b63f-84710c7967bb [INF] Request finished in 620.2875ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:58:11.9242754+05:30 80000762-0000-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:58:11.9244174+05:30 8000031b-0005-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=1   (ca22a1cb)
2021-09-29T15:58:11.9244416+05:30 80000762-0000-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:58:11.9244513+05:30 8000031b-0005-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:58:11.9245573+05:30 80000762-0000-fa00-b63f-84710c7967bb [INF] Request finished in 0.3478ms 204  (791a596a)
2021-09-29T15:58:11.9245582+05:30 8000031b-0005-fd00-b63f-84710c7967bb [INF] Request finished in 0.2707ms 204  (791a596a)
2021-09-29T15:58:11.9281246+05:30 8000040e-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:58:11.9282393+05:30 8000040e-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:58:11.9283585+05:30 8000040e-0007-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:58:11.9284897+05:30 8000040e-0007-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:58:11.9283546+05:30 80000336-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=1   (ca22a1cb)
2021-09-29T15:58:11.9285917+05:30 80000336-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:58:11.9287044+05:30 80000336-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:58:11.9287703+05:30 80000336-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:58:12.2301198+05:30 80000336-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("301"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:58:12.2364831+05:30 8000040e-0007-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("307"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:58:12.2369094+05:30 8000040e-0007-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:58:12.2379898+05:30 8000040e-0007-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 309.3438ms (afa2e885)
2021-09-29T15:58:12.2382603+05:30 8000040e-0007-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:58:12.2385941+05:30 8000040e-0007-ff00-b63f-84710c7967bb [INF] Request finished in 310.5019ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:58:12.5324484+05:30 80000336-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("301"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:58:12.5328256+05:30 80000336-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:58:12.5333715+05:30 80000336-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 604.5235ms (afa2e885)
2021-09-29T15:58:12.5334591+05:30 80000336-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:58:12.5336087+05:30 80000336-0006-fd00-b63f-84710c7967bb [INF] Request finished in 605.3876ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:58:16.5827453+05:30 80000338-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/device/getDeviceTypeDropdown   (ca22a1cb)
2021-09-29T15:58:16.5827449+05:30 8000037b-0006-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/admin/getDeviceCapability?devicecapabilityid=1   (ca22a1cb)
2021-09-29T15:58:16.5827869+05:30 80000338-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:58:16.5827879+05:30 8000037b-0006-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:58:16.5828528+05:30 8000037b-0006-f700-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (500cc934)
2021-09-29T15:58:16.5828524+05:30 80000338-0006-fd00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (500cc934)
2021-09-29T15:58:16.5828523+05:30 8000074e-0004-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:58:16.5828591+05:30 80000421-0004-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/user/addUser   (ca22a1cb)
2021-09-29T15:58:16.5828772+05:30 8000074e-0004-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:58:16.5828886+05:30 80000421-0004-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:58:16.5829147+05:30 8000037b-0006-f700-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceCapability\", controller = \"Admin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceCapability(Int32, System.String)" on controller "IoT.WebAPI.Controllers.AdminController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:58:16.5829159+05:30 80000338-0006-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetDeviceTypeDropdown\", controller = \"Device\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetDeviceTypeDropdown()" on controller "IoT.WebAPI.Controllers.DeviceController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:58:16.5829721+05:30 8000074e-0004-fb00-b63f-84710c7967bb [INF] Request finished in 0.1307ms 204  (791a596a)
2021-09-29T15:58:16.5829735+05:30 80000421-0004-f700-b63f-84710c7967bb [INF] Request finished in 0.1176ms 204  (791a596a)
2021-09-29T15:58:16.5864487+05:30 80000410-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44342/api/v1/user/getUserPermission   (ca22a1cb)
2021-09-29T15:58:16.5864487+05:30 800003cd-0002-f500-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/user/addUser application/json;charset=UTF-8 163 (ca22a1cb)
2021-09-29T15:58:16.5864942+05:30 800003cd-0002-f500-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:58:16.5864942+05:30 80000410-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:58:16.5865481+05:30 800003cd-0002-f500-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (500cc934)
2021-09-29T15:58:16.5865481+05:30 80000410-0007-ff00-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (500cc934)
2021-09-29T15:58:16.5866135+05:30 800003cd-0002-f500-b63f-84710c7967bb [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "IoT.DataLayer.Models.User AddUser(IoT.DataLayer.Models.User)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:58:16.5866135+05:30 80000410-0007-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetUserPermission\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[IoT.DataLayer.Models.UserPermission] GetUserPermission(System.String)" on controller "IoT.WebAPI.Controllers.UserController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:58:16.5867810+05:30 800003cd-0002-f500-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.User"'. (8a1b66c8)
2021-09-29T15:58:16.5870062+05:30 800003cd-0002-f500-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)" in 0.3516ms (afa2e885)
2021-09-29T15:58:16.5870394+05:30 800003cd-0002-f500-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.AddUser (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:58:16.5870903+05:30 800003cd-0002-f500-b63f-84710c7967bb [INF] Request finished in 0.6722ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:58:16.8856244+05:30 8000037b-0006-f700-b63f-84710c7967bb [INF] Executed DbCommand ("302"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserPermission] AS [u]
WHERE ([u].[UserKey] = @__userKey_0) AND ([u].[IsAdmin] = CAST(1 AS bit))" (0723d8ff)
2021-09-29T15:58:16.8923710+05:30 80000338-0006-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("309"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[DeviceTypeId], [d].[DeviceTypeName]
FROM [DeviceType] AS [d]
ORDER BY [d].[DeviceTypeName]" (0723d8ff)
2021-09-29T15:58:16.8927889+05:30 80000338-0006-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[<>f__AnonymousType8`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], IoT.DataLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2021-09-29T15:58:16.8937133+05:30 80000338-0006-fd00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)" in 310.6583ms (afa2e885)
2021-09-29T15:58:16.8938463+05:30 80000338-0006-fd00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.DeviceController.GetDeviceTypeDropdown (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:58:16.8939573+05:30 80000338-0006-fd00-b63f-84710c7967bb [INF] Request finished in 311.2081ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:58:17.1010288+05:30 8000033a-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44342/api/v1/activityLog/add   (ca22a1cb)
2021-09-29T15:58:17.1011717+05:30 8000033a-0006-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:58:17.1015157+05:30 8000033a-0006-fd00-b63f-84710c7967bb [INF] Request finished in 0.5374ms 204  (791a596a)
2021-09-29T15:58:17.1122657+05:30 80000423-0004-f700-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44342/api/v1/activityLog/add application/json;charset=UTF-8 141 (ca22a1cb)
2021-09-29T15:58:17.1124066+05:30 80000423-0004-f700-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2021-09-29T15:58:17.1125603+05:30 80000423-0004-f700-b63f-84710c7967bb [INF] Executing endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (500cc934)
2021-09-29T15:58:17.1128885+05:30 80000423-0004-f700-b63f-84710c7967bb [INF] Route matched with "{action = \"Add\", controller = \"ActivityLog\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Add(IoT.DataLayer.Models.ActivityLog, System.String)" on controller "IoT.WebAPI.Controllers.ActivityLogController" ("IoT.WebAPI"). (122b2fdf)
2021-09-29T15:58:17.1173916+05:30 80000423-0004-f700-b63f-84710c7967bb [ERR] Unable to Add Activity Log: User Key "100965730392215373474" (d7ff0863)
2021-09-29T15:58:17.1188694+05:30 80000423-0004-f700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2021-09-29T15:58:17.1199050+05:30 80000423-0004-f700-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)" in 6.8208ms (afa2e885)
2021-09-29T15:58:17.1200415+05:30 80000423-0004-f700-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.ActivityLogController.Add (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:58:17.1219182+05:30 80000423-0004-f700-b63f-84710c7967bb [INF] Request finished in 9.6411ms 400 text/plain; charset=utf-8 (791a596a)
2021-09-29T15:58:17.1256555+05:30 80000423-0004-f700-b63f-84710c7967bb [ERR] Failed executing DbCommand ("11"ms) [Parameters=["@__8__locals1_userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ActivityLogId], [a].[Activity], [a].[AppName], [a].[CreatedDate], [a].[IPAddress], [a].[Location], [a].[ModifiedDate], [a].[UserKey]
FROM [ActivityLog] AS [a]
WHERE [a].[UserKey] = @__8__locals1_userKey_0
ORDER BY [a].[CreatedDate] DESC" (627a98df)
2021-09-29T15:58:17.1333374+05:30 80000423-0004-f700-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"IoT.DataLayer.AppDbContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2021-09-29T15:58:17.1886329+05:30 8000037b-0006-f700-b63f-84710c7967bb [INF] Executed DbCommand ("302"ms) [Parameters=["@__deviceCapabilityId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [d].[DeviceCapabilityId], [d].[CapabilityInterface], [d].[CapabilityType], [d].[CreatedDate], [d].[DeviceTypeId], [d].[DisplayCategory], [d].[Modifieddate], [d].[ProactivelyReported], [d].[Retrievable], [d].[SupportedProperty], [d].[Version], [d0].[DeviceTypeId], [d0].[CreatedDate], [d0].[DeviceTypeName], [d0].[ModifiedDate]
FROM [DeviceCapability] AS [d]
INNER JOIN [DeviceType] AS [d0] ON [d].[DeviceTypeId] = [d0].[DeviceTypeId]
WHERE [d].[DeviceCapabilityId] = @__deviceCapabilityId_0" (0723d8ff)
2021-09-29T15:58:17.1889060+05:30 8000037b-0006-f700-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.DeviceCapability"'. (8a1b66c8)
2021-09-29T15:58:17.1892409+05:30 8000037b-0006-f700-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)" in 606.2731ms (afa2e885)
2021-09-29T15:58:17.1892906+05:30 8000037b-0006-f700-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.AdminController.GetDeviceCapability (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:58:17.1893633+05:30 8000037b-0006-f700-b63f-84710c7967bb [INF] Request finished in 606.6343ms 200 application/json; charset=utf-8 (791a596a)
2021-09-29T15:58:18.1742587+05:30 80000410-0007-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("317"ms) [Parameters=["@__userKey_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserPermissionId], [u].[CanCreate], [u].[CanDelete], [u].[CanUpdate], [u].[CanView], [u].[CreatedDate], [u].[IsAdmin], [u].[ModifiedDate], [u].[UserId], [u].[UserKey]
FROM [UserPermission] AS [u]
WHERE [u].[UserKey] = @__userKey_0" (0723d8ff)
2021-09-29T15:58:18.1748935+05:30 80000410-0007-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"IoT.DataLayer.Models.UserPermission"'. (8a1b66c8)
2021-09-29T15:58:18.1755622+05:30 80000410-0007-ff00-b63f-84710c7967bb [INF] Executed action "IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)" in 1588.8608ms (afa2e885)
2021-09-29T15:58:18.1756982+05:30 80000410-0007-ff00-b63f-84710c7967bb [INF] Executed endpoint '"IoT.WebAPI.Controllers.UserController.GetUserPermission (IoT.WebAPI)"' (99874f2b)
2021-09-29T15:58:18.1759530+05:30 80000410-0007-ff00-b63f-84710c7967bb [INF] Request finished in 1589.4847ms 200 application/json; charset=utf-8 (791a596a)
